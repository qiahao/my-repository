webpackJsonp([3,6],{1086:function(t,e,a){var i=a(10)(a(1196),a(1226),null,null);t.exports=i.exports},1123:function(t,e,a){a(1487);var i=a(10)(a(1311),a(1651),"data-v-39f59799",null);t.exports=i.exports},1137:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(61),a(150)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(e),r=i(a),o={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var t=this;return this.tableParams.selectList.map(function(e){return e[t.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(t){this.tableParams.selectList=(0,r.default)(t),this.tableParams.isCheckBoxClick=!0},onPageChange:function(t){this.tableParams.page=t,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(t){this.tableParams.pageSize=t,this.onSearch()},assignQuery:function(t){return(0,n.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},t)}}};t.default=o})},1138:function(t,e,a){"use strict";e.__esModule=!0;var i=a(154),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,a){function i(r,o){try{var s=e[r](o),l=s.value}catch(t){return void a(t)}if(!s.done)return n.default.resolve(l).then(function(t){i("next",t)},function(t){i("throw",t)});t(l)}return i("next")})}}},1139:function(t,e,a){t.exports=a(1148)},1140:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={data:function(){return{usedId:"",routeName:""}},computed:{id:function(){return this.$route.params.id}},watch:{id:function(t,e){t&&this.$route.name==this.routeName&&(this.usedId=t)},usedId:function(t,e){this.init()}},methods:{init:function(){console.warn("[wran] rewrite < "+this.$options.name+" > component’s init function witch with detail-child-mixin")}},created:function(){this.usedId=this.id,this.routeName=this.$route.name},mounted:function(){}};t.default=e})},1141:function(t,e,a){(function(a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"detailModal",props:{value:{type:Boolean,require:!0}},data:function(){return{modal:this.value}},computed:{headClasses:function(){return["detail-modal-head"]},mainClasses:function(){return["detail-modal-main"]},footClasses:function(){return["detail-modal-foot"]}},watch:{value:function(t){this.modal=t}},methods:{close:function(){this.modal=!1,this.$emit("input",!1),this.$emit("on-detail-close"),a.$emit("on-detail-close")}},created:function(){},mounted:function(){}}})}).call(e,a(227))},1142:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1140)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(e);t.default={data:function(){return{detailShow:!1}},mixins:[a.default],methods:{},mounted:function(){var t=this;setTimeout(function(){t.detailShow=!0},500)},activated:function(){this.detailShow=!0},deactivated:function(){this.detailShow=!1},beforeRouteUpdate:function(t,e,a){var i=this;this.detailShow=!1,setTimeout(function(){i.detailShow=!0,a()},300)}}})},1143:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".detail-modal{position:fixed;z-index:7;top:50px;right:0;bottom:0;width:880px;border-left:1px solid #dddee1;box-shadow:-1px 0 3px #dddee1;background:#fff}.detail-modal.has-head .detail-modal-head{display:block;z-index:7}.detail-modal.has-head .detail-modal-main{padding-top:53px}.detail-modal.has-foot .detail-modal-foot{display:block}.detail-modal.has-foot .detail-modal-main{padding-bottom:44px}.detail-modal .tit{font-size:16px}.detail-modal .ivu-icon-close-round{position:absolute;top:17px;right:14px;color:#8492a6;font-size:20px;cursor:pointer;z-index:7}.detail-modal .ivu-icon-close-round:hover{opacity:.7}.detail-modal-foot,.detail-modal-head{position:absolute;left:0;right:0;display:none;padding-left:20px}.detail-modal-head{top:0;height:53px;padding-top:2px;padding-bottom:1px;padding-right:39px;border-bottom:1px solid #e6e6e6;line-height:49px}.detail-modal-main{position:relative;height:100%}.detail-modal-main .inner{height:100%;padding:10px 20px;overflow-x:hidden;overflow-y:auto}.detail-modal-foot{bottom:0;height:44px;border-top:1px solid #e6e6e6;padding-top:1px;padding-bottom:2px;line-height:49px}.fix-modal-main .inner{background:#fbfbfb!important}.detail-modal .ivu-tabs{position:inherit}.detail-modal .detail-foot{position:absolute;bottom:0;left:0;right:0;box-shadow:0 -1px 2px 1px #dedede;background:#fff;padding:5px}.detail-modal .detail-foot .foot-inner{background:#f2f2f2;padding:5px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/common/detail-modal/detail-modal.scss"],names:[],mappings:"AACA,cACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,QAAS,AACT,SAAU,AACV,YAAa,AACb,8BAA+B,AAC/B,8BAA+B,AAC/B,eAAiB,CAClB,AACD,0CACI,cAAe,AACf,SAAW,CACd,AACD,0CACI,gBAAkB,CACrB,AACD,0CACI,aAAe,CAClB,AACD,0CACI,mBAAqB,CACxB,AACD,mBACI,cAAgB,CACnB,AACD,oCACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,cAAe,AACf,eAAgB,AAChB,eAAgB,AAChB,SAAW,CACd,AACD,0CACM,UAAY,CACjB,AACD,sCACE,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,aAAc,AACd,iBAAmB,CACpB,AACD,mBACE,MAAO,AACP,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,mBAAoB,AACpB,gCAAiC,AACjC,gBAAkB,CACnB,AACD,mBACE,kBAAmB,AACnB,WAAa,CACd,AACD,0BACI,YAAa,AACb,kBAAmB,AACnB,kBAAmB,AACnB,eAAiB,CACpB,AACD,mBACE,SAAU,AACV,YAAa,AACb,6BAA8B,AAC9B,gBAAiB,AACjB,mBAAoB,AACpB,gBAAkB,CACnB,AACD,uBACE,4BAA+B,CAChC,AACD,wBACE,gBAAkB,CACnB,AACD,2BACE,kBAAmB,AACnB,SAAU,AACV,OAAQ,AACR,QAAS,AACT,kCAAqC,AACrC,gBAAiB,AACjB,WAAa,CACd,AACD,uCACI,mBAAoB,AACpB,WAAa,CAChB",file:"detail-modal.scss",sourcesContent:["\n.detail-modal {\n  position: fixed;\n  z-index: 7;\n  top: 50px;\n  right: 0;\n  bottom: 0;\n  width: 880px;\n  border-left: 1px solid #dddee1;\n  box-shadow: -1px 0 3px #dddee1;\n  background: #fff;\n}\n.detail-modal.has-head .detail-modal-head {\n    display: block;\n    z-index: 7;\n}\n.detail-modal.has-head .detail-modal-main {\n    padding-top: 53px;\n}\n.detail-modal.has-foot .detail-modal-foot {\n    display: block;\n}\n.detail-modal.has-foot .detail-modal-main {\n    padding-bottom: 44px;\n}\n.detail-modal .tit {\n    font-size: 16px;\n}\n.detail-modal .ivu-icon-close-round {\n    position: absolute;\n    top: 17px;\n    right: 14px;\n    color: #8492a6;\n    font-size: 20px;\n    cursor: pointer;\n    z-index: 7;\n}\n.detail-modal .ivu-icon-close-round:hover {\n      opacity: .7;\n}\n.detail-modal-head, .detail-modal-foot {\n  position: absolute;\n  left: 0;\n  right: 0;\n  display: none;\n  padding-left: 20px;\n}\n.detail-modal-head {\n  top: 0;\n  height: 53px;\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-right: 39px;\n  border-bottom: 1px solid #e6e6e6;\n  line-height: 49px;\n}\n.detail-modal-main {\n  position: relative;\n  height: 100%;\n}\n.detail-modal-main .inner {\n    height: 100%;\n    padding: 10px 20px;\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n.detail-modal-foot {\n  bottom: 0;\n  height: 44px;\n  border-top: 1px solid #e6e6e6;\n  padding-top: 1px;\n  padding-bottom: 2px;\n  line-height: 49px;\n}\n.fix-modal-main .inner {\n  background: #fbfbfb !important;\n}\n.detail-modal .ivu-tabs {\n  position: inherit;\n}\n.detail-modal .detail-foot {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px -1px 2px 1px #dedede;\n  background: #fff;\n  padding: 5px;\n}\n.detail-modal .detail-foot .foot-inner {\n    background: #f2f2f2;\n    padding: 5px;\n}\n"],sourceRoot:""}])},1144:function(t,e,a){var i=a(1143);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("2c3d1bbe",i,!0)},1145:function(t,e,a){a(1144);var i=a(10)(a(1141),a(1146),null,null);t.exports=i.exports},1146:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"detail-modal",class:{"has-head":t.$slots.head,"has-foot":t.$slots.foot}},[t.$slots.head?a("div",{class:t.headClasses},[t._t("head")],2):t._e(),t._v(" "),a("div",{class:t.mainClasses},[a("div",{staticClass:"inner"},[t._t("default")],2)]),t._v(" "),t.$slots.foot?a("div",{class:t.footClasses},[t._t("foot")],2):t._e(),t._v(" "),a("Icon",{attrs:{type:"close-round"},nativeOn:{click:function(e){return t.close(e)}}})],1)])},staticRenderFns:[]}},1148:function(t,e,a){var i=function(){return this}()||Function("return this")(),n=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=n&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=a(1149),n)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},1149:function(t,e){!function(e){"use strict";function a(t,e,a,i){var r=e&&e.prototype instanceof n?e:n,o=Object.create(r.prototype),s=new u(i||[]);return o._invoke=d(t,a,s),o}function i(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function n(){}function r(){}function o(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function l(t){function e(a,n,r,o){var s=i(t[a],t,n);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&y.call(d,"__await")?Promise.resolve(d.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(d).then(function(t){l.value=t,r(l)},o)}o(s.arg)}function a(t,a){function i(){return new Promise(function(i,n){e(t,a,i,n)})}return n=n?n.then(i,i):i()}var n;this._invoke=a}function d(t,e,a){var n=I;return function(r,o){if(n===R)throw new Error("Generator is already running");if(n===w){if("throw"===r)throw o;return h()}for(a.method=r,a.arg=o;;){var s=a.delegate;if(s){var l=_(s,a);if(l){if(l===k)continue;return l}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===I)throw n=w,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=R;var d=i(t,e,a);if("normal"===d.type){if(n=a.done?w:E,d.arg===k)continue;return{value:d.arg,done:a.done}}"throw"===d.type&&(n=w,a.method="throw",a.arg=d.arg)}}}function _(t,e){var a=t.iterator[e.method];if(a===f){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=f,_(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var n=i(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,k;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=f),e.delegate=null,k):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function p(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function c(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function u(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(p,this),this.reset(!0)}function m(t){if(t){var e=t[g];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function e(){for(;++a<t.length;)if(y.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=f,e.done=!0,e};return i.next=i}}return{next:h}}function h(){return{value:f,done:!0}}var f,v=Object.prototype,y=v.hasOwnProperty,T="function"==typeof Symbol?Symbol:{},g=T.iterator||"@@iterator",A=T.asyncIterator||"@@asyncIterator",D=T.toStringTag||"@@toStringTag",b="object"==typeof t,P=e.regeneratorRuntime;if(P)return void(b&&(t.exports=P));P=e.regeneratorRuntime=b?t.exports:{},P.wrap=a;var I="suspendedStart",E="suspendedYield",R="executing",w="completed",k={},x={};x[g]=function(){return this};var C=Object.getPrototypeOf,N=C&&C(C(m([])));N&&N!==v&&y.call(N,g)&&(x=N);var S=o.prototype=n.prototype=Object.create(x);r.prototype=S.constructor=o,o.constructor=r,o[D]=r.displayName="GeneratorFunction",P.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},P.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,D in t||(t[D]="GeneratorFunction")),t.prototype=Object.create(S),t},P.awrap=function(t){return{__await:t}},s(l.prototype),l.prototype[A]=function(){return this},P.AsyncIterator=l,P.async=function(t,e,i,n){var r=new l(a(t,e,i,n));return P.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},s(S),S[D]="Generator",S[g]=function(){return this},S.toString=function(){return"[object Generator]"},P.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},P.values=m,u.prototype={constructor:u,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=f,this.done=!1,this.delegate=null,this.method="next",this.arg=f,this.tryEntries.forEach(c),!t)for(var e in this)"t"===e.charAt(0)&&y.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=f)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return r.type="throw",r.arg=t,a.next=e,i&&(a.method="next",a.arg=f),!!i}if(this.done)throw t;for(var a=this,i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],r=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var o=y.call(n,"catchLoc"),s=y.call(n,"finallyLoc");if(o&&s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&y.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,k):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),c(a),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;c(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:m(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=f),k}}}(function(){return this}()||Function("return this")())},1150:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1151)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})})})},1151:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(70)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";function a(){try{var t=navigator.userAgent;if(null!=t.match(/Windows\sPhone/i))return!0;if(null!=t.match(/iPhone|iPod/i))return!0;if(null!=t.match(/Android/i))return!0;if(null!=t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),a=t.match(/MSIE\D?\d+/i),i=t.match(/OPR\D?\d+/i),n=t.match(/Firefox\D?\d+/i),r=t.match(/x64/i);if(null==e&&null==a&&null!==r)return!0;if(null!==n){if(n=n[0].match(/\d+/),n[0]>=41||null!==r)return!0}else if(null!==i){if(i=i[0].match(/\d+/),i[0]>=32)return!0}else if(null==e&&null==a){var o=t.match(/Chrome\D?\d+/i);if(null!==o&&(o=o[0].match(/\d+/),o[0]>=41))return!0}return!1}catch(t){return!0}}function i(t,i){var r,o="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop32.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",s="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop32.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>",l="<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行安装</a>,安装后请刷新页面。</font>",d="<br><font color='#FF00FF'>CLodop云打印服务需升级!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行升级</a>,升级后请刷新页面。</font>";try{var _=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(a()){try{r=getCLodop()}catch(t){return void e.Message.info("C-Lodop没准备好，请稍后再试！")}if(!r&&"complete"!==document.readyState)return void e.Message.info("C-Lodop没准备好，请稍后再试！");if(!r)return void(_?document.write(l):document.body.innerHTML=l+document.body.innerHTML);CLODOP.CVERSION<"3.0.4.1"&&(_?document.write(d):document.body.innerHTML=d+document.body.innerHTML),i&&i.parentNode&&i.parentNode.removeChild(i),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var p=_&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=i?r=_?t:i:null==n?(r=document.createElement("object"),r.setAttribute("width",0),r.setAttribute("height",0),r.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),_?r.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):r.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(r),n=r):r=n,null==r||void 0===r.VERSION)return navigator.userAgent.indexOf("Chrome")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>"+document.body.innerHTML),navigator.userAgent.indexOf("Firefox")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>"+document.body.innerHTML),p?document.write("<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop64.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>"):_?document.write(o):document.body.innerHTML=o+document.body.innerHTML,r}return r.VERSION<"6.2.2.2"?(a()||(p?document.write("<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop64.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>"):_?document.write(s):document.body.innerHTML=s+document.body.innerHTML),r):(r.SET_LICENSES("","002122022841C6D225FA933F59673C40","C94CEE276DB2187AE6B65D56B3FC2848",""),r)}catch(t){e.Message.info("getLodop出错:"+t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLodop=t.needCLodop=void 0;var n=null;t.needCLodop=a,t.getLodop=i})},1153:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(102),a(24),a(1150),a(70)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};this.option=(0,l.default)({},e,t)}Object.defineProperty(t,"__esModule",{value:!0});var s=r(e),l=r(a);o.prototype.initPrinter=function(){var t;return this.LODOP=(0,i.getLodop)(),this.LODOP.PRINT_INIT(this.option.pageName),(t=this.LODOP).SET_PRINT_PAGESIZE.apply(t,(0,s.default)(this.option.printPageSize)),this.LODOP},o.prototype.setPrinter=function(t){var e=void 0;return this.LODOP&&this.LODOP.Printers&&this.LODOP.Printers.list?(e=this.LODOP.Printers.list.map(function(t){return t.name}),e.includes(t)?(this.LODOP.SET_PRINTER_INDEX(t),!0):(n.Message.info("打印机有误，请重新设置"),!1)):(n.Message.info("未找到合适打印机"),!1)},o.prototype.print=function(){this.LODOP.PRINT()},t.default=o})},1163:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1166),a(1167),a(1168)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.printTrip=t.printTag=t.printOrderCover=void 0;var r=n(e),o=n(a),s=n(i);t.printOrderCover=r.default,t.printTag=o.default,t.printTrip=s.default})},1166:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1139),a(1138),a(24),a(1153),a(484),a(120),a(87)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r,o,s){"use strict";function l(t){return t&&t.__esModule?t:{default:t}}function d(t){var e=void 0,a=void 0;return e=t.split("-"),a=t.split(" "),e.length>a.length?e:a}Object.defineProperty(t,"__esModule",{value:!0});var _=l(e),p=l(a),c=l(i),u=l(n),m=new u.default({pageName:"运单套打",printPageSize:[0,2300,1270,"运单套打"]}),h={partner_pay_arrive:"到付",partner_pay_back:"回单付",partner_pay_cash:"现付现金",partner_pay_hkk:"货款扣",partner_pay_month:"月结",partner_pay_dbf:"多笔付",partner_pay_qfan:"欠返",partner_pay_qfu:"欠付",partner_pay_xfan:"现返",partner_pay_hdfk:"货到打款"},f=["0","1","2","3","4"],v={0:"回执",1:"原单",2:"收条",3:"电子回单",4:"其它",NO:"没有回单"};m.createPage=function(t){var e=t.order,a=t.isXHS;if(e){var i=this.LODOP;console.log("order",e),console.log("isXHS",a),i.NEWPAGE();var n="",r="",s="",l=[],_=void 0,p=this.printerSetting;e=(0,c.default)({},e),_="partner_pay_dbf"==e.pay_type,l=JSON.parse(e.cargos||"[]"),e.cargos=new Array(3).fill(1).map(function(t,e){return l[e]?l[e]:{}});var u=e.pay_total||0;n=u+"\r\n"+(0,o.numberToWords)(u),r=h[e.pay_type],a&&_&&e.pay_details.partner_pay_arrive&&(r+="到付:"+e.pay_details.partner_pay_arrive+"元"),s=f.includes(e.back_type)?v[""+e.back_type]+" "+(e.back_nums||0)+"份":v.NO;var m=!0,y=!0,T=!0,g=!0,A=1,D=e.begin_area,b=e.end_area,P=void 0;if(p&&p.print_order_setting){var I=p.print_order_setting;m="Y"!=I.is_hide_receive_linkman,y="Y"!=I.is_hide_send_linkman,T="N"!=I.is_print_QR_code,g="N"!=I.is_print_bar_code,"N"!=I.is_print_order_no,A=I.print_area_level}P="http://wx.yunba.com/tms/order/qrcode/img?order_no="+e.order_no,2==A&&(D=(0,o.filterSlice)(D),b=(0,o.filterSlice)(b));var E=d(e.begin_area),R=d(e.end_area);i.SET_PRINT_STYLE("FontSize",11),g&&i.ADD_PRINT_BARCODE(37,308,240,70,"Code39",""+e.order_no),T&&i.ADD_PRINT_IMAGE(28,546,80,80,"<img width='70' border='0' src='"+P+"'/>"),i.ADD_PRINT_TEXT("10.05mm","171.45mm","37.57mm","5.29mm",e.create_time),i.ADD_PRINT_TEXT("25.93mm","166.16mm","21.17mm","5.29mm",D),i.ADD_PRINT_TEXT("25.93mm","188.12mm","21.17mm","5.29mm",b),y&&(i.ADD_PRINT_TEXT("43.66mm","34.93mm","23.81mm","5.29mm",e.begin_link_man),i.ADD_PRINT_TEXT("43.66mm","69.85mm","26.46mm","5.29mm",e.begin_link_mobile),i.ADD_PRINT_TEXT("51.33mm","38.36mm","56.89mm","5.29mm",e.send_company),i.ADD_PRINT_TEXT("59.27mm","37.04mm","14.55mm","5.29mm",E[0]),i.ADD_PRINT_TEXT("59.27mm","53.71mm","15.88mm","5.29mm",E[1]),i.ADD_PRINT_TEXT("59.27mm","73.03mm","15.88mm","5.29mm",E[2]),i.ADD_PRINT_TEXT("66.94mm","24.61mm","71.44mm","5.29mm",e.begin_address)),m&&(i.ADD_PRINT_TEXT("85.99mm","34.66mm","23.81mm","5.29mm",e.end_link_man),i.ADD_PRINT_TEXT("85.99mm","69.59mm","26.46mm","5.29mm",e.end_link_mobile),i.ADD_PRINT_TEXT("93.13mm","38.36mm","56.89mm","5.29mm",e.receive_company),i.ADD_PRINT_TEXT("101.6mm","37.04mm","14.55mm","5.29mm",R[0]),i.ADD_PRINT_TEXT("101.6mm","53.98mm","15.88mm","5.29mm",R[1]),i.ADD_PRINT_TEXT("101.6mm","72.5mm","15.88mm","5.29mm",R[2]),i.ADD_PRINT_TEXT("109.54mm","24.61mm","71.44mm","5.29mm",e.end_address)),i.ADD_PRINT_TEXT("51.33mm","104.51mm","22.49mm","5.29mm",e.cargos[0].c_name),i.ADD_PRINT_TEXT("51.33mm","127mm","11mm","5.29mm",e.cargos[0].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","138.11mm","13.23mm","5.29mm",e.cargos[0].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","151.34mm","11mm","5.29mm",e.cargos[0].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","161.93mm","11mm","5.29mm",e.cargos[0].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","104.51mm","22.49mm","5.29mm",e.cargos[1].c_name),i.ADD_PRINT_TEXT("59.27mm","127mm","11mm","5.29mm",e.cargos[1].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","138.11mm","13.23mm","5.29mm",e.cargos[1].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","151.34mm","11mm","5.29mm",e.cargos[1].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","161.93mm","11mm","5.29mm",e.cargos[1].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","104.51mm","22.49mm","5.29mm",e.cargos[2].c_name),i.ADD_PRINT_TEXT("66.94mm","127mm","11mm","5.29mm",e.cargos[2].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","138.11mm","13.23mm","5.29mm",e.cargos[2].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","151.34mm","11mm","5.29mm",e.cargos[2].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","161.93mm","11mm","5.29mm",e.cargos[2].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("83.61mm","110.6mm","13.23mm","5.29mm",e.fee_transport),i.SET_PRINT_STYLEA(0,"Alignment",2),a&&_||(i.ADD_PRINT_TEXT("83.61mm","135.73mm","13.23mm","5.29mm",e.fee_details.partner_fee_sh),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("83.34mm","159.01mm","10.58mm","5.29mm",e.fee_details.partner_fee_th),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("89.69mm","114.04mm","10.58mm","5.29mm",e.fee_details.partner_fee_smjz),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("89.69mm","135.73mm","13.23mm","5.29mm",e.fee_details.partner_fee_bj),i.ADD_PRINT_TEXT("89.69mm","159.01mm","10.58mm","5.29mm",e.fee_details.partner_fee_bx),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("96.31mm","114.04mm","21.17mm","5.29mm",e.fee_details.partner_fee_dshk),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("96.31mm","151.08mm","18.52mm","5.29mm",e.fee_details.partner_fee_dssx),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("102.92mm","114.04mm","21.17mm","5.29mm",e.fee_details.partner_fee_qt),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("101.86mm","148.43mm","21.17mm","7.14mm",n),i.SET_PRINT_STYLEA(0,"FontSize",9),i.SET_PRINT_STYLEA(0,"Alignment",2)),i.ADD_PRINT_TEXT("109.54mm","111.13mm","4.23mm","5.29mm","N"==e.is_delivery?"v":""),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("109.54mm","126.74mm","4.23mm","5.29mm","Y"==e.is_delivery?"v":""),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("109.54mm","148.43mm","26.46mm","5.29mm",r),i.ADD_PRINT_TEXT("83.08mm","179.39mm","29.1mm","18.52mm",e.shipper_remark),i.ADD_PRINT_TEXT("109.54mm","178.06mm","31.75mm","5.29mm",s)}};var y=function(){var t=(0,p.default)(_.default.mark(function t(){var e,a,i,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=o.data;return _.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,t.next=3,(0,r.getPrintSetting)();case 3:if(a=m.printerSetting=t.sent,e=a&&a.print_mac_setting?a.print_mac_setting.order_print_mac:"",m.initPrinter(),m.setPrinter(e)){t.next=8;break}return t.abrupt("return");case 8:i=(0,s.getUserInfo)(),n=""==i.company_id,l.forEach(function(t){m.createPage({order:t,isXHS:n})}),m.print();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();t.default=y})},1167:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1139),a(1138),a(24),a(1153),a(484)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var s=o(e),l=o(a),d=o(i),_=o(n),p=new _.default({pageName:"货签打印",printPageSize:[0,800,600,"货签打印"]});p.createPage=function(t){var e=t.data,a=t.total,i=t.index,n=this.LODOP;if(e){n.NEWPAGE();var r=void 0,o=void 0,s=void 0,l="/static/images/print-tag/logo@2x.png",_="400-885-6943";if(r=(0,d.default)({},e),o=r.end_link_man,s=r.end_link_mobile,this.printerSetting&&this.printerSetting.print_sign_setting){var p=this.printerSetting.print_sign_setting;p.print_logo_pic&&(l=p.print_logo_pic),"N"==p.is_print_receive_linkman&&(o=""),"N"==p.is_print_receive_linkmobile&&(s=""),p.custom_order_hotline&&(_=p.custom_order_hotline)}n.ADD_PRINT_LINE("17.75mm","0mm",66,"79.9mm",0,1),n.ADD_PRINT_LINE("35.77mm","0mm",134,"79.9mm",0,1),n.ADD_PRINT_LINE("41.57mm","0mm",156,"79.9mm",0,1),n.ADD_PRINT_LINE("59.5mm","56.59mm","41.51mm",215,0,1),n.ADD_PRINT_LINE("11.85mm","55.01mm",44,"79.9mm",0,1),n.ADD_PRINT_LINE("6.06mm","55.01mm",22,"79.9mm",0,1),n.ADD_PRINT_LINE("0mm","55.01mm","17.49mm",209,0,1),n.ADD_PRINT_LINE("0mm","49mm","17.49mm",186,0,1),n.ADD_PRINT_IMAGE("1.48mm","2.99mm","37.99mm","10.8mm",'<img border="0" height="38" src="'+l+'"/>'),n.ADD_PRINT_TEXT(48,13,160,18,"客服电话："+_),n.ADD_PRINT_TEXT("3.18mm","49.21mm","5.82mm","13.76mm","收\r\n货\r\n人"),n.SET_PRINT_STYLEA(0,"Alignment",2),n.ADD_PRINT_TEXT(4,211,86,18,o),n.ADD_PRINT_TEXT(26,"55.75mm",86,18,s),n.ADD_PRINT_TEXT(48,211,86,18,"Y"==r.is_delivery?"送货":"自提"),n.ADD_PRINT_TEXT(75,12,280,24,"出发  "+r.begin_area),n.SET_PRINT_STYLEA(0,"FontSize",12),n.ADD_PRINT_TEXT(103,12,280,24,"到达  "+r.end_area),n.SET_PRINT_STYLEA(0,"FontSize",12),n.ADD_PRINT_TEXT(138,12,150,18,"运单号 "+r.order_no),n.ADD_PRINT_TEXT(138,162,140,18,"共"+r.order_count+"件 第"+i+"份 共"+a+"份"),n.ADD_PRINT_BARCODE(168,22,202,50,"93Extended",r.order_no),n.ADD_PRINT_IMAGE(166,"61.65mm","12.65mm","12.65mm",'<img border="0" height="48" src="/static/images/print-tag/qrcode@2x.png"/>')}};var c=function(){var t=(0,l.default)(s.default.mark(function t(e){var a,i,n,o=e.data,l=e.total;return s.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,t.next=3,(0,r.getPrintSetting)();case 3:if(i=p.printerSetting=t.sent,a=i&&i.print_mac_setting?i.print_mac_setting.sign_print_mac:"",p.initPrinter(),p.setPrinter(a)){t.next=8;break}return t.abrupt("return");case 8:for(l<1&&(l=1),n=1;n<=l;n++)p.createPage({data:o,total:l,index:n});p.print();case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();t.default=c})},1168:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1139),a(1138),a(1153),a(484),a(120)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function s(){return'\n    <table style="border: 1px solid #000; border-collapse:collapse; text-align: left;">\n      <thead>\n        <tr>\n          <th class="w80">运单号</th>\n          <th>目的地</th>\n          <th class="w80">收货人</th>\n          <th>件数</th>\n          <th class="w80">货物</th>\n          <th>重量</th>\n          <th>体积</th>\n          <th>代收货款</th>\n          <th>到付</th>\n          <th>回单</th>\n          <th>交接方式</th>\n          <th>备注</th>\n        </tr>\n      </thead>\n      <tbody>\n  '}function l(t){return t.map(function(t){var e=t.order_no,a=t.end_area,i=t.end_link_man,n=t.end_link_mobile,o=t.cargo_total_amounts,s=t.cargo_names,l=t.cargo_total_weights,d=t.cargo_total_volumes,_=t.fee_dshk,p=t.pay_df,c=t.back_type,u=t.back_nums,m=t.is_delivery,h=t.shipper_remark,v=void 0;return v=c&&"no"!=c?f[""+c]+((u||0)+" 份"):"无","\n      <tr>\n        <td><div>"+e+"</div></td>\n        <td><div>"+(0,r.filterSlice)(a)+"</div></td>\n        <td><div>"+i+" "+n+"</div></td>\n        <td><div>"+o+"</div></td>\n        <td><div>"+s+"</div></td>\n        <td><div>"+l+"</div></td>\n        <td><div>"+d+"</div></td>\n        <td><div>"+_+"</div></td>\n        <td><div>"+p+"</div></td>\n        <td><div>"+v+"</div></td>\n        <td><div>"+("Y"==m?"送货":"自提")+'</div></td>\n        <td><div class="slice-span">'+h+"</div></td>\n      </tr>\n    "}).join("")}function d(){return"</tbody></table>"}function _(){return"\n    <style>\n      .w60{\n        width: 60px;\n      }\n      .w80{\n        width: 80px;\n      }\n      table{\n        width: 100%;\n      }\n      table th,table td{\n        border: 1px solid #000;\n        font-size: 13px\n      }\n      .slice-span{\n        width: 80px;\n        height: 1.5em;\n        line-height: 1.5em;\n        overflow: hidden;\n      }\n    </style>\n  "}function p(t,e,a){return c(t.map(function(t){if(Number(t[""+e]))return Number(t[""+e])}).filter(function(t){return t}),a)}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=0;return t.forEach(function(t){a+=t*e}),a/e}Object.defineProperty(t,"__esModule",{value:!0});var u=o(e),m=o(a),h=o(i),f={0:"回执",1:"原单",2:"收条",3:"电子回单",4:"其它",no:"无"},v={0:"现付",1:"到付",2:"回单付",3:"月结",4:"多笔付"},y={pay_cash:"现付现金",pay_oil:"现付油卡",pay_arrive:"到付",pay_back:"回单付",pay_month:"月结"},T=new h.default({pageName:"装车清单",printPageSize:[0,2100,2970,"装车清单"]});T.createPage=function(t){var e=t.detail,a=t.orderList;this.createPageHeader(e),this.createPagefooter({detail:e,orderList:a}),this.createPageTable(a)},T.createPageHeader=function(t){var e=T.LODOP;e.ADD_PRINT_TEXT(33,2,250,28,"运吧智慧物流平台"),e.SET_PRINT_STYLEA(0,"FontSize",17),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_RECT(21,480,130,60,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_LINE(52,480,51,610,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(28,480,130,20,"车次号"),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(59,480,130,20,t.trip_no),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_RECT(21,616,130,60,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_LINE(52,616,51,746,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(28,616,130,20,"发车时间"),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(59,616,130,20,t.send_time),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,3,240,20,t.send_area+" => "+t.arrive_area),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,248,240,20,"司机："+t.driver_name+" "+t.driver_mobile),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,493,240,20,"车辆："+t.truck_plate+"/ "+t.truck_length+"米/ "+t.truck_type),e.SET_PRINT_STYLEA(0,"ItemType",1)},T.createPagefooter=function(t){var e=t.detail,a=t.orderList,i=void 0,n=void 0,r=void 0,o=void 0,s=void 0,l="",d=T.LODOP;if(i=p(a,"cargo_total_amounts",1),n=p(a,"cargo_total_weights",1e3),r=p(a,"cargo_total_volumes",100),o=p(a,"fee_dshk",100),s=p(a,"pay_df",100),l=v[""+e.pay_method],e.pay_detail)for(var _ in e.pay_detail)l+=y[_]+" "+(e.pay_detail[_]||0)+" 元  ";d.ADD_PRINT_RECT(943,0,"RightMargin: 0",130,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(969,0,968,"RightMargin: 0",0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(991,0,990,"RightMargin: 0",0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(948,2,140,20,"总件数："+i),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(948,154,140,20,"总重量："+n+" 吨"),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(948,305,140,20,"总体积："+r+" 方"),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(948,454,140,20,"代收货款："+o+" 元"),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(948,602,140,20,"到付合计："+s+" 元"),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(970,2,290,20,"司机运费："+e.fee+" 元"),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(970,305,411,20,l),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,24,990,25,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,187,990,188,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,213,990,214,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,374,990,375,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,400,990,401,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,561,990,562,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_LINE(1073,587,990,588,0,1),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(998,0,26,70,"司\r\n机\r\n签\r\n字"),d.SET_PRINT_STYLEA(0,"Alignment",2),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(998,188,26,70,"发\r\n站\r\n签\r\n字"),d.SET_PRINT_STYLEA(0,"Alignment",2),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(999,374,26,70,"到\r\n站\r\n签\r\n字"),d.SET_PRINT_STYLEA(0,"Alignment",2),d.SET_PRINT_STYLEA(0,"ItemType",1),d.ADD_PRINT_TEXT(1e3,562,26,70,"备\r\n注"),d.SET_PRINT_STYLEA(0,"Alignment",2),d.SET_PRINT_STYLEA(0,"ItemType",1)},T.createPageTable=function(t){var e=_(),a=s(),i=l(t),n=d(),r="<head>"+e+"</head><body>"+a+i+n+"</body>";T.LODOP.ADD_PRINT_HTM("32mm","0","RightMargin: 0","BottomMargin: 40.77mm",r)};var g=function(){var t=(0,m.default)(u.default.mark(function t(e){var a,i,r=e.data,o=e.orderList;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,t.next=3,(0,n.getPrintSetting)();case 3:if(i=T.printerSetting=t.sent,a=i&&i.print_mac_setting?i.print_mac_setting.order_list_print_mac:"",T.initPrinter(),T.setPrinter(a)){t.next=8;break}return t.abrupt("return");case 8:T.createPage({detail:r,orderList:o}),T.print();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();t.default=g})},1195:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1139),a(1138),a(61),a(101)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e),s=r(a),l=r(i),d=r(n),_={insure_id:"",trip_id:"",insure_status:"Y",insure_company:"",insure_policy_holder:"",insure_insurant:"",insure_date:"",insure_amount:"",insure_premium:"",insure_is_agree:"Y",trip_send_time:"",trip_line_begin:"",trip_line_end:"",trip_cargo_type:"0",trip_truck_plate:"",trip_cargos:""},p={Y:"投保成功！",D:"投保中...",N:"投保失败！",U:"车次未投保！"},c={Y:"checkmark-circled",D:"information-circled",N:"close-circled",U:"help-circled"},u={Y:"text-success",D:"text-warning",N:"text-error",U:"text-warning"},m={0:"普通货物",1:"整车机械设备、电子产品、工程机械"};t.default={props:{tripId:""},data:function(){return{detail:(0,l.default)({},_)}},computed:{topInfo:function(){return{title:p[""+this.detail.insure_status],iconType:c[""+this.detail.insure_status],iconClass:u[""+this.detail.insure_status]}}},mixins:[d.default],watch:{tripId:{handler:function(t){t&&this.loadInsureDetail()},immediate:!0}},filters:{tripCargoType:function(t){return m[t]}},methods:{loadInsureDetail:function(){function t(){return e.apply(this,arguments)}var e=(0,s.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$api.tripApi.getTripInsureDetail(this.tripId);case 2:e=t.sent,this.detail=e.resultObj;case 4:case"end":return t.stop()}},t,this)}));return t}(),handlerInsure:function(){this.dispatch("trip-detail-insure")}}}})},1196:function(t,e,a){(function(i){var n,r,o;!function(i,s){r=[e,a(102),a(61),a(52),a(86),a(1137),a(1145),a(1142),a(101),a(1199),a(1163),a(1217),a(155)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,a,n,r,o,s,l,d,_,p,c,u){"use strict";function m(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var h=m(e),f=m(a),v=m(o),y=m(s),T=m(l),g=m(d),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(_),D=m(c),b=new u.AMapManager;t.default={name:"tripDetailModal",data:function(){return{user:"",columns:A.getColumns.call(this),datailReturnData:(0,f.default)({},A.datailReturnData),logs:null,follows:null,editModal:{modal:!1,modalData:{fee:"",trip_id:"",trip_state:"",is_b2c:"",pay_method:"",send_company_id:"",arrive_company_id:"",remark:"",create_user_id:"",pay_detail:"",payDetailData:{pay_month:"",pay_back:"",pay_arrive:"",pay_oil:"",pay_cash:""}}},companyList:null,zoom:12,center:[119.527875,25.959757],amapManager:b,map:null,mapRoadPoint:[],plugins:[{pName:"AMap.Geolocation",events:{init:function(t){var e=this;t.getCurrentPosition(function(t,a){a&&a.position&&(e.center=[a.position.lng,a.position.lat])})}}}]}},created:function(){this.user=this.userInfo},mixins:[v.default,T.default,g.default],components:{detailModal:y.default,insureDetail:D.default},computed:(0,f.default)({},(0,r.mapState)(["userInfo"]),{isXHS:function(){return this.userInfo&&"cd9bbbb2-80d5-42f0-9696-dcddf49588d3"==this.userInfo.company_id}}),watch:{},methods:{init:function(){this.loadDetail()},loadDetail:function(){var t=this,e=this;this.$api.tripApi.getTripDetailMsg({trip_id:this.id}).then(function(a){e.datailReturnData=a.resultObj,e.datailReturnData.orders=e.datailReturnData.orders||[],e.tableParams.list=e.datailReturnData.orders;var i=a.resultObj.send_area.split("-");e.setArrData("send",i,a.resultObj.send_area);var r=a.resultObj.arrive_area.split("-");e.setArrData("arrrive",r,a.resultObj.send_area),e.datailReturnData.pay_details=a.resultObj.pay_detail,e.setPayData(e.datailReturnData.pay_details),e.loadList(),e.loadMapMsg(a.resultObj.truck_plate,a.resultObj.send_time?a.resultObj.send_time:(0,n.getCurDate)(),a.resultObj.arrive_time?a.resultObj.arrive_time:(0,n.getCurDate)());var o="",s="";e.tableParams.list.forEach(function(t){o+=t.fee_dshk,s+=t.pay_df}),e.datailReturnData.fee_dshk=o,e.datailReturnData.pay_df=s,console.log("datailReturnData",t.datailReturnData)})},loadList:function(){var t=this,e=this.userInfo;t.logs=null,t.follows=null,this.$api.tripApi.getTripActLog({trip_id:this.id,act_user_id:e.user_id}).then(function(e){t.logs=e.resultObj}),this.$api.tripApi.getTripFollow({trip_id:this.id}).then(function(e){t.follows=e.resultObj})},loadMapMsg:function(t,e,a){var i=this,n=b.getMap(),r=new AMap.Driving({map:n});n.clearMap(),this.mapRoadPoint=null,this.mapRoadPoint=[];var o=(this.userInfo,{vehicle_no:t,loc_time_begin:e,loc_time_end:a,pattern:"GD"});this.$api.tripApi.getTripTrace(o).then(function(t){i.mapRoadPoint=t.resultObj;for(var e=i.mapRoadPoint[i.mapRoadPoint.length-1],a=i.mapRoadPoint[0],n=[],o=i.mapRoadPoint.length-2;o>=1;o--){var s=i.mapRoadPoint[o];s&&n.push([s.lng,s.lat])}i.drawLoadLine(r,e,a,n)})},drawLoadLine:function(t,e,a,i){e&&a&&e.lng&&""!=e.lng&&a.lng&&""!=a.lng&&t.search(new AMap.LngLat(e.lng,e.lat),new AMap.LngLat(a.lng,a.lat),{waypoints:i})},setArrData:function(t,e,a){var i=this;"send"==t?3==e.length?(i.datailReturnData.send_area_p=e[1],i.datailReturnData.send_area_c=e[2]):2==e.length?(i.datailReturnData.send_area_p=e[0],e[0]==e[1]?i.datailReturnData.send_area_c="":i.datailReturnData.send_area_c=e[1]):1==e.length?(i.datailReturnData.send_area_p=e[0],i.datailReturnData.send_area_c=""):(i.datailReturnData.send_area_p=a,i.datailReturnData.send_area_c=""):3==e.length?(i.datailReturnData.arrive_area_p=e[1],i.datailReturnData.arrive_area_c=e[2]):2==e.length?(i.datailReturnData.arrive_area_p=e[0],e[0]==e[1]?i.datailReturnData.arrive_area_c="":i.datailReturnData.arrive_area_c=e[1]):1==e.length?(i.datailReturnData.arrive_area_p=e[0],i.datailReturnData.arrive_area_c=""):(i.datailReturnData.arrive_area_p=a,i.datailReturnData.arrive_area_c="")},setPayData:function(t){var e=this;e.datailReturnData.pay_detail_str="","pay_cash"in t&&""!=t.pay_cash&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_cash+"(现付现金) "),"pay_oil"in t&&""!=t.pay_oil&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_oil+"(现付油卡) "),"pay_arrive"in t&&""!=t.pay_arrive&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_arrive+"(到付) "),"pay_back"in t&&""!=t.pay_back&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_back+"(回单付) "),"pay_month"in t&&""!=t.pay_month&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_month+"(月结) ")},openEditPage:function(){var t=this;this.$api.tripApi.getTripNextCompanyList({}).then(function(e){t.companyList=e.resultObj.list,t.$api.tripApi.getTripPayMsg({trip_id:t.id}).then(function(e){t.setPayDetailData(e.resultObj),t.editModal.modal=!0,t.$refs.editTripForm.resetFields()})})},setPayDetailData:function(t){var e=this;e.editModal.modalData.fee=null==t.fee||""==t.fee?"":t.fee,e.editModal.modalData.trip_id=null==t.trip_id||""==t.trip_id?"":t.trip_id,e.editModal.modalData.trip_state=null==t.trip_state||""==t.trip_state?"":t.trip_state,e.editModal.modalData.is_b2c=null==t.is_b2c||""==t.is_b2c?"":t.is_b2c,e.editModal.modalData.pay_detail=null==t.pay_detail||""==t.pay_detail?"":t.pay_detail,e.editModal.modalData.pay_method=null==t.pay_method||""==t.pay_method?"":t.pay_method,e.editModal.modalData.send_company_id=null==t.send_company_id||""==t.send_company_id?"":t.send_company_id,"Y"==e.editModal.modalData.is_b2c?e.editModal.modalData.arrive_company_id="0":e.editModal.modalData.arrive_company_id=null==t.arrive_company_id||""==t.arrive_company_id?"":t.arrive_company_id,e.editModal.modalData.remark=null==t.remark||""==t.remark?"":t.remark,e.editModal.modalData.create_user_id=null==t.create_user_id||""==t.create_user_id?"":t.create_user_id;var a=t.pay_detail;"string"==typeof a&&(a=JSON.parse(a)),"pay_cash"in a&&""!=a.pay_cash?e.editModal.modalData.payDetailData.pay_cash=a.pay_cash:e.editModal.modalData.payDetailData.pay_cash="","pay_oil"in a&&""!=a.pay_oil?e.editModal.modalData.payDetailData.pay_oil=a.pay_oil:e.editModal.modalData.payDetailData.pay_oil="","pay_arrive"in a&&""!=a.pay_arrive?e.editModal.modalData.payDetailData.pay_arrive=a.pay_arrive:e.editModal.modalData.payDetailData.pay_arrive="","pay_back"in a&&""!=a.pay_back?e.editModal.modalData.payDetailData.pay_back=a.pay_back:e.editModal.modalData.payDetailData.pay_back="","pay_month"in a&&""!=a.pay_month?e.editModal.modalData.payDetailData.pay_month=a.pay_month:e.editModal.modalData.payDetailData.pay_month=""},cancelEdit:function(){this.editModal.modal=!1},saveEditMsg:function(){var t=this,e=this;if(0!=e.editModal.modalData.trip_state&&"0"!=e.editModal.modalData.trip_state)this.editModal.modal=!0,this.$refs.editTripModel.visible=!0,e.$Message.warning("只有待发车车次才能进行修改！");else{var a=0;switch(e.editModal.modalData.pay_method){case"0":a=Number(e.editModal.modalData.payDetailData.pay_cash)+Number(e.editModal.modalData.payDetailData.pay_oil),e.editModal.modalData.pay_detail='{"pay_cash":"'+e.editModal.modalData.payDetailData.pay_cash+'","pay_oil":"'+e.editModal.modalData.payDetailData.pay_oil+'"}';break;case"1":a=Number(e.editModal.modalData.payDetailData.pay_arrive),e.editModal.modalData.pay_detail='{"pay_arrive":"'+e.editModal.modalData.payDetailData.pay_arrive+'"}';break;case"2":a=Number(e.editModal.modalData.payDetailData.pay_back),e.editModal.modalData.pay_detail='{"pay_back":"'+e.editModal.modalData.payDetailData.pay_back+'"}';break;case"3":a=Number(e.editModal.modalData.payDetailData.pay_month),e.editModal.modalData.pay_detail='{"pay_month":"'+e.editModal.modalData.payDetailData.pay_month+'"}';break;case"4":a=Number(e.editModal.modalData.payDetailData.pay_cash)+Number(e.editModal.modalData.payDetailData.pay_oil)+Number(e.editModal.modalData.payDetailData.pay_arrive)+Number(e.editModal.modalData.payDetailData.pay_back)+Number(e.editModal.modalData.payDetailData.pay_month),e.editModal.modalData.pay_detail='{"pay_cash":"'+e.editModal.modalData.payDetailData.pay_cash+'","pay_oil":"'+e.editModal.modalData.payDetailData.pay_oil+'","pay_arrive":"'+e.editModal.modalData.payDetailData.pay_arrive+'","pay_back":"'+e.editModal.modalData.payDetailData.pay_back+'","pay_month":"'+e.editModal.modalData.payDetailData.pay_month+'"}'}if(Number(e.editModal.modalData.fee)!=a)return this.$Message.error("运费与支付金额不一致！");e.editModal.modalData.fee=a,0==e.editModal.modalData.arrive_company_id?e.editModal.modalData.is_b2c="Y":e.editModal.modalData.is_b2c="N",this.$api.tripApi.setTripPayMsg(e.editModal.modalData).then(function(e){"1"==e.result?(t.$Message.success("修改成功！"),t.loadDetail(),t.editModal.modal=!1):t.$Message.error("修改失败！原因："+e.resultInfo)})}},cancelAssign:function(){var t=this,e=void 0,a=this.id;if("Y"!=this.datailReturnData.is_self_trip)return this.$Message.info("不是本网点车次，不能进行取消配载操作");if("2"==this.datailReturnData.trip_state)return this.$Message.info("该车次已到车，不能进行取消配载操作");if(1==this.tableParams.list.length)e=this.tableParams.list[0].order_id;else{if(0==this.tableParams.selectList.length)return this.$Message.info("请选择要取消配载的运单");e=this.tableParams.selectList.map(function(t){return t.order_id}).join(",")}this.$Modal.confirm({title:"确认提示",content:"是否确认取消配载？",onOk:function(){var n={trip_id:a,order_ids:e};t.$api.tripApi.cancelAssign(n).then(function(e){i.$emit("trip-list-reload"),t.$router.push({name:"tripV1List"})})}})},tripCancel:function(){this.dispatch("trip-cancel",this.datailReturnData)},tripSend:function(){this.dispatch("trip-send",this.datailReturnData)},tripArrive:function(){this.dispatch("trip-arrive",this.datailReturnData)},handlerPrintTrip:function(){var t=this.tableParams.selectList&&this.tableParams.selectList.length?[].concat((0,h.default)(this.tableParams.selectList)):this.datailReturnData.orders;(0,p.printTrip)({data:this.datailReturnData,orderList:t})},handlerExportTripOrders:function(){var t={company_id:this.userInfo.company_id,trip_id:this.id};this.$api.tripApi.exportTripOrders(t)},close:function(){var t=this;setTimeout(function(){t.$router.push({name:"tripV1List"})},300)},reloadInsureDetail:function(){this.$refs.insureDetail.loadInsureDetail()}},mounted:function(){var t=this;this.$on("trip-detail-insure",function(){t.dispatch("trip-insure",t.id)})}}})}).call(e,a(227))},1199:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";function e(){return[{type:"selection",align:"center",width:60},{title:"运单号",key:"order_no",width:180},{title:"始发地",key:"begin_area",width:200},{title:"目的地",key:"end_area",width:200},{title:"收货人",key:"end_link_man",width:100},{title:"联系方式",key:"end_link_mobile",width:150},{title:"货物名称",key:"cargo_names",width:230},{title:"件数",key:"cargo_amounts",width:200},{title:"重量",key:"cargo_weights",width:200},{title:"体积",key:"cargo_volumes",width:200},{title:"包装",key:"cargo_packs",width:200},{title:"代收货款",key:"fee_dshk",width:100},{title:"到付",key:"pay_df",width:100},{title:"备注",key:"shipper_remark",width:100},{title:"提货",key:"is_pickup",width:100,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_pickup])}},{title:"送货",key:"is_delivery",width:100,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_delivery])}}]}function a(){return[{title:"运单号",key:"order_no",width:112},{title:"目的地",key:"end_area",width:90},{title:"收货人",key:"end_link_man",width:40},{title:"联系方式",key:"end_link_mobile",width:80},{title:"货物名称",key:"cargo_names",width:50},{title:"包装",key:"cargo_packs",width:40},{title:"件数",key:"cargo_amounts",width:30},{title:"代收货款",key:"fee_dshk",width:50},{title:"到付",key:"pay_df",width:30},{title:"提货",key:"is_pickup",width:30,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_pickup])}},{title:"送货",key:"is_delivery",width:30,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_delivery])}},{title:"备注",key:"shipper_remark",width:90}]}Object.defineProperty(t,"__esModule",{value:!0}),t.getColumns=e,t.getPrintColumns=a;t.datailReturnData={send_area:"",send_area_p:"",send_area_c:"",arrive_area:"",arrive_area_p:"",arrive_area_c:"",trip_length:"",trip_no:"",trip_state:"",trip_state_str:"",driver_name:"",driver_mobile:"",truck_plate:"",truck_length:"",truck_type:"",truck_weight:"",trip_load:"",create_time:"",send_time:"",arrive_time:"",order_counts:"",order_volumes:"",order_weights:"",order_fees:"",fee:"",pay_method:"",pay_detail:"",pay_details:{},pay_detail_str:"",remark:"",is_self_trip:"",orders:[],fee_dshk:"",pay_df:""}})},1217:function(t,e,a){var i=a(10)(a(1195),a(1225),null,null);t.exports=i.exports},1225:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cf"},[a("span",{staticClass:"fl tc w60"},[a("Icon",{staticClass:"fs30",class:t.topInfo.iconClass,attrs:{type:t.topInfo.iconType}})],1),t._v(" "),a("div",{staticClass:"ml60"},[a("h3",[t._v(t._s(t.topInfo.title))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.detail.insure_status,expression:"detail.insure_status == 'Y'"}]},[t._v(t._s(t.detail.insure_date)+" 投保成功 ！")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"D"==t.detail.insure_status,expression:"detail.insure_status == 'D'"}]},[t._v("投保时间： "+t._s(t.detail.create_time))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"N"==t.detail.insure_status,expression:"detail.insure_status == 'N'"}]},[t._v(t._s(t.detail.insure_date)+" 投保失败,"),a("span",{staticClass:"text-link",on:{click:t.handlerInsure}},[t._v("点击此处")]),t._v("重试！")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"U"==t.detail.insure_status,expression:"detail.insure_status == 'U'"}]},[t._v("您可以"),a("span",{staticClass:"text-link",on:{click:t.handlerInsure}},[t._v("点击此处")]),t._v("进行投保！")])])]),t._v(" "),"Y"==t.detail.insure_status||"D"==t.detail.insure_status?[a("div",{staticClass:"tc bb mt30 mb20"},[t._v("投保信息")]),t._v(" "),a("div",{staticClass:"row-box row-box-text"},[a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("被保险人")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_insurant))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("发货日期")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_send_time))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("路线")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_line_begin+" 至 "+t.detail.trip_line_end))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("车辆牌照")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_truck_plate))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("货物类型")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t._f("tripCargoType")(t.detail.trip_cargo_type)))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("声明价值")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_amount)+" 万元")])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("预估保费")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_premium)+" 元")])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("货物名称")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_cargos))])],1)],1)]:t._e()],2)},staticRenderFns:[]}},1226:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("detail-modal",{staticStyle:{width:"900px"},on:{"on-detail-close":t.close},model:{value:t.detailShow,callback:function(e){t.detailShow=e},expression:"detailShow"}},[a("div",{attrs:{slot:"head"},slot:"head"},[t._v("车次详情")]),t._v(" "),a("div",{attrs:{slot:"default"},slot:"default"},[a("div",[a("span",{staticClass:"fs26"},[t._v(t._s(t.datailReturnData.send_area_p))]),t._v(" "),a("span",{staticClass:"fs16"},[t._v(t._s(t.datailReturnData.send_area_c))]),t._v(" "),a("img",{attrs:{src:"/static/images/common/lineto-icon.png"}}),t._v(" "),a("span",{staticClass:"fs26"},[t._v(t._s(t.datailReturnData.arrive_area_p))]),t._v(" "),a("span",{staticClass:"fs16"},[t._v(t._s(t.datailReturnData.arrive_area_c))]),t._v(" "),a("span",[t._v(t._s(t.datailReturnData.trip_length)+"km")])]),t._v(" "),a("Row",[a("Col",{attrs:{span:"6"}},[a("span",[t._v("车次号："+t._s(t.datailReturnData.trip_no))])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",[t._v("车次状态："+t._s(t.datailReturnData.trip_state_str))])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[t._v("司机："+t._s(t.datailReturnData.driver_name)+" "+t._s(t.datailReturnData.driver_mobile))])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[t._v("配载率："+t._s(t.datailReturnData.trip_load))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"10"}},[a("span",[t._v("\n                        车辆信息："+t._s(t.datailReturnData.truck_plate)+" "+t._s(t.datailReturnData.truck_length)+"米 "+t._s(t.datailReturnData.truck_type)+" "+t._s(t.datailReturnData.truck_weight)+"吨\n                    ")])]),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.datailReturnData.is_self_trip,expression:"datailReturnData.is_self_trip=='Y'"}],attrs:{span:"14"}},[a("span",[t._v("备注："+t._s(t.datailReturnData.remark))])])],1),t._v(" "),a("Row",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.datailReturnData.is_self_trip,expression:"datailReturnData.is_self_trip=='Y'"}]},[a("Col",{attrs:{span:"18"}},[a("span",[t._v("\n                        车次运费："+t._s(t.datailReturnData.pay_detail_str)+"\n                    ")])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("a",{on:{click:t.openEditPage}},[t._v("查看/修改")])])],1),t._v(" "),a("Tabs",{attrs:{value:"loadOrderList"}},[a("Tab-pane",{attrs:{label:"配载运单",name:"loadOrderList"}},[a("div",{staticClass:"mb10"},[a("i-button",{attrs:{type:"primary"},on:{click:t.cancelAssign}},[t._v("取消配载")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripCancel}},[t._v("取消车次")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripSend}},[t._v("确认发车")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripArrive}},[t._v("确认到车")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.handlerPrintTrip}},[t._v("打印车次")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.handlerExportTripOrders}},[t._v("导出运单")])],1),t._v(" "),a("i-table",{staticClass:"print-scale",attrs:{data:t.tableParams.list,columns:t.columns},on:{"on-selection-change":t.onSelectionChange}})],1),t._v(" "),a("Tab-pane",{attrs:{label:"地图轨迹",name:"mapMsg"}},[a("el-amap",{staticStyle:{height:"550px",width:"100%"},attrs:{center:t.center,"map-manager":t.amapManager,zoom:t.zoom,plugin:t.plugins}})],1),t._v(" "),a("Tab-pane",{attrs:{label:"物流跟踪",name:"followMsg"}},t._l(t.follows,function(e,i){return a("Row",{key:i,staticClass:"time-line"},[a("i-col",{staticClass:"time-line-time",attrs:{span:4}},[t._v(t._s(t._f("dateFormat")(e.op_time,"YYYY-MM-DD"))),a("br"),t._v(t._s(t._f("dateFormat")(e.op_time,"HH:mm")))]),t._v(" "),a("i-col",{attrs:{span:20}},[t._v(t._s(e.content))]),t._v(" "),a("i",{staticClass:"s"})],1)})),t._v(" "),a("Tab-pane",{attrs:{label:"操作记录",name:"actionMsg"}},t._l(t.logs,function(e,i){return a("Row",{key:i,staticClass:"time-line"},[a("i-col",{staticClass:"time-line-time",attrs:{span:4}},[t._v(t._s(e.date_str)),a("br"),t._v(t._s(e.time_str))]),t._v(" "),a("i-col",{attrs:{span:4}},[t._v(t._s(e.user_name))]),t._v(" "),a("i-col",{attrs:{span:16}},[t._v(t._s(e.content))]),t._v(" "),a("i",{staticClass:"s"})],1)})),t._v(" "),t.isXHS?a("Tab-pane",{attrs:{label:"投保详情",name:"insureDetail"}},[a("insure-detail",{ref:"insureDetail",attrs:{"trip-id":t.id}})],1):t._e()],1)],1)]),t._v(" "),a("Modal",{ref:"editTripModel",attrs:{title:"修改",width:"1000"},on:{"on-ok":t.saveEditMsg},model:{value:t.editModal.modal,callback:function(e){t.$set(t.editModal,"modal",e)},expression:"editModal.modal"}},[a("Form",{ref:"editTripForm",attrs:{model:t.editModal.modalData,"label-width":100}},[a("Form-item",{attrs:{label:"到站地址："}},[a("Select",{model:{value:t.editModal.modalData.arrive_company_id,callback:function(e){t.$set(t.editModal.modalData,"arrive_company_id",e)},expression:"editModal.modalData.arrive_company_id"}},[a("Option",{attrs:{value:"0"}},[t._v("直达")]),t._v(" "),t._l(t.companyList,function(e){return a("Option",{key:e,attrs:{value:e.partener_id}},[t._v(t._s(e.company_name))])})],2)],1),t._v(" "),a("Form-item",{attrs:{label:"运费："}},[a("i-input",{staticStyle:{width:"120px"},attrs:{placeholder:"输入运费"},model:{value:t.editModal.modalData.fee,callback:function(e){t.$set(t.editModal.modalData,"fee",e)},expression:"editModal.modalData.fee"}}),t._v(" "),a("Radio-group",{staticClass:"ml20",model:{value:t.editModal.modalData.pay_method,callback:function(e){t.$set(t.editModal.modalData,"pay_method",e)},expression:"editModal.modalData.pay_method"}},[a("Radio",{attrs:{label:"0"}},[a("span",[t._v("现付")])]),t._v(" "),a("Radio",{attrs:{label:"1"}},[a("span",[t._v("到付")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("回单付")])]),t._v(" "),a("Radio",{attrs:{label:"3"}},[a("span",[t._v("月结")])]),t._v(" "),a("Radio",{attrs:{label:"4"}},[a("span",[t._v("多笔付")])])],1)],1),t._v(" "),a("div",{staticClass:"cf-all"},[a("Row",[a("Col",{directives:[{name:"show",rawName:"v-show",value:0==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==0 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"5"}},[a("Form-item",{attrs:{label:"现付现金："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入现金"},model:{value:t.editModal.modalData.payDetailData.pay_cash,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_cash",e)},expression:"editModal.modalData.payDetailData.pay_cash"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:0==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==0 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"现付油卡："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入油卡"},model:{value:t.editModal.modalData.payDetailData.pay_oil,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_oil",e)},expression:"editModal.modalData.payDetailData.pay_oil"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:1==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==1 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"到付："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入到付"},model:{value:t.editModal.modalData.payDetailData.pay_arrive,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_arrive",e)},expression:"editModal.modalData.payDetailData.pay_arrive"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:2==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==2 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"回单付："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入回单付"},model:{value:t.editModal.modalData.payDetailData.pay_back,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_back",e)},expression:"editModal.modalData.payDetailData.pay_back"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:3==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==3 || editModal.modalData.pay_method==4"}],attrs:{span:"4"}},[a("Form-item",{attrs:{label:"月结："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入月结"},model:{value:t.editModal.modalData.payDetailData.pay_month,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_month",e)},expression:"editModal.modalData.payDetailData.pay_month"}})],1)],1)],1)],1),t._v(" "),a("Form-item",{attrs:{label:"备注："}},[a("i-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:t.editModal.modalData.remark,callback:function(e){t.$set(t.editModal.modalData,"remark",e)},expression:"editModal.modalData.remark"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{on:{click:t.cancelEdit}},[t._v("取消")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.saveEditMsg}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}},1310:function(t,e,a){var i,n,r;!function(o,s){n=[e,a(1139),a(1138),a(24),a(61),a(52),a(86)],i=s,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r,o){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var l=s(e),d=s(a),_=s(i),p=s(n),c={trip_id:"",insure_company:"富邦保险",insure_insurant:"福建鑫合顺物流有限公司",trip_send_time:"",trip_line_begin:"",trip_line_end:"",trip_cargo_type:"0",insure_amount:0,insure_is_agree:!0};t.default={props:{value:!1,entry:{type:Object,default:function(){return{trip_id:"",trip_line_begin:"",trip_line_end:""}}}},data:function(){var t=function(t,e,a){e?a():a(new Error("请选择同意保险协议"))};return{entity:(0,p.default)({},c),rules:{insure_insurant:[{required:!0,message:"必填字段"}],trip_send_time:[{required:!0,message:"必填字段"}],trip_line_begin:[{required:!0,message:"必填字段",trigger:"change"}],trip_line_end:[{required:!0,message:"必填字段",trigger:"change"}],insure_is_agree:[{validator:t}]},provinceOption:{"change-on-select":!0}}},computed:(0,p.default)({},(0,o.mapState)(["userInfo"]),{visible:{get:function(){return this.value},set:function(t){this.$emit("input",t)}},estimateAmount:function(){return this.getValidateEstimateAmount(this.entity.insure_amount)}}),watch:{value:function(t){t&&(this.entity=(0,_.default)({},this.entity,this.entry))}},methods:{handlerSave:function(){function t(){return e.apply(this,arguments)}var e=(0,d.default)(l.default.mark(function t(){var e,a;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!1,this.$refs.form.validate(function(t){return e=t}),e){t.next=4;break}return t.abrupt("return");case 4:return a=(0,p.default)({},this.entity),a.insure_is_agree=a.insure_is_agree?"Y":"N",a.trip_send_time=r.fmt.date(a.trip_send_time,"yyyy-MM-dd hh:mm"),t.next=9,this.$api.tripApi.tripInsure(a);case 9:this.$emit("after-save"),this.$Message.success("已发起投保！"),this.handlerCancel();case 12:case"end":return t.stop()}},t,this)}));return t}(),handlerCancel:function(){this.visible=!1,this.entity=(0,p.default)({},c),this.$emit("on-cancel")},getValidateEstimateAmount:function(t){if(!t)return 0;var e=parseInt(1e4*t),a=parseInt(10);"1"==this.entity.trip_cargo_type&&(a=parseInt(25));var i=e*a/1e5;return Math.round(100*i)/100}},created:function(){}}})},1311:function(t,e,a){(function(i){var n,r,o;!function(i,s){r=[e,a(61),a(86),a(101),a(1086),a(1137),a(1590),a(1359)],n=s,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,a,n,r,o,s,l){"use strict";function d(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var _=d(e),p=d(n),c=d(r),u=d(o),m=d(s),h=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(l),f={trip_id:"",trip_line_begin:"",trip_line_end:""};t.default={name:"tripV1List",data:function(){return{tripStateTypes:h.tripStateTypes,tripSourceTypes:h.tripSourceTypes,search:(0,_.default)({},h.searchParams),tripInsureVisible:!1,tripInsureTripEntry:(0,_.default)({},f)}},components:{tripDetailModal:c.default,tripInsure:m.default},mixins:[u.default,p.default],computed:(0,_.default)({},(0,a.mapState)(["userInfo"]),{insureButtonActivated:function(){var t=["N","U"];return this.tableParams.selectList&&1==this.tableParams.selectList.length&&t.includes(this.tableParams.selectList[0].insure_status)},isXHS:function(){return this.userInfo&&"cd9bbbb2-80d5-42f0-9696-dcddf49588d3"==this.userInfo.company_id},columns:function(){return this.isXHS?h.getXHSCulomns.call(this):h.getCulomns.call(this)},tripCancelVisible:function(){return 1!=this.tableParams.selectList.length},tripSendVisible:function(){return 1!=this.tableParams.selectList.length||"1"===this.tableParams.selectList[0].trip_state},tripArriveVisible:function(){return 1!=this.tableParams.selectList.length||"0"===this.tableParams.selectList[0].trip_state}}),methods:{loadList:function(){var t=this,e=this.assignQuery(this.search);this.$api.tripApi.getTripList(e).then(function(e){t.tableParams.list=e.resultObj.list,t.tableParams.total=e.resultObj.total,t.tableParams.selectList=[]})},onSearchReset:function(){this.search=(0,_.default)({},h.searchParams),this.loadList()},tripCancel:function(){var t=void 0;if(this.tableSelectLength>1)return this.$Message.warning("只能操作一条数据！");t=this.tableParams.selectList[0],this.doTripCancel(t)},doTripCancel:function(t){var e=this;if("0"!=t.trip_state)return this.$Message.warning("只有待发车车次才能进行该操作！");this.$Modal.confirm({title:"确认提示",content:"是否确定取消该车次？",onOk:function(){e.$api.tripApi.setTripCancel({trip_ids:t.trip_id}).then(function(t){e.$Message.success("车次取消成功"),e.loadList(),"tripV1List"!=e.$route.name&&e.$router.push({name:"tripV1List"})})}})},tripSend:function(){var t=void 0;if(this.tableSelectLength>1)return this.$Message.warning("只能操作一条数据！");t=this.tableParams.selectList[0],this.doTripSend(t)},doTripSend:function(t){var e=this,a=t.trip_state;return"1"==a?this.$Message.warning("该车次已发车，无法再进行该操作！"):"2"==a?this.$Message.warning("该车次已到车，无法再进行该操作！"):void this.$Modal.confirm({title:"确认提示",content:"是否确定发车？",onOk:function(){e.$api.tripApi.setTripSend({trip_ids:t.trip_id}).then(function(t){e.loadList(),e.$Message.warning("操作成功"),e.afterChangeDetail()})}})},tripArrive:function(){var t=void 0;if(this.tableSelectLength>1)return this.$Message.warning("只能操作一条数据！");t=this.tableParams.selectList[0],this.doTripArrive(t)},handlerTripInsure:function(){var t={trip_id:this.tableParams.selectList[0].trip_id,trip_line_begin:this.tableParams.selectList[0].send_area,trip_line_end:this.tableParams.selectList[0].arrive_area};this.doTripInsure(t)},doTripInsure:function(t){this.tripInsureVisible=!0,this.tripInsureTripEntry=t},afterSaveTripInsure:function(){this.loadList(),this.$refs.detail&&this.$refs.detail.reloadInsureDetail()},onCancelTripInsure:function(){this.tripInsureTripEntry=(0,_.default)({},f)},doTripArrive:function(t){var e=this,a=t.trip_state;return"0"==a?this.$Message.warning("该车次还未发车，无法进行该操作！"):"2"==a?this.$Message.warning("该车次已到车，无法再进行该操作！"):void this.$Modal.confirm({title:"确认提示",content:"是否确定到车？",onOk:function(){e.$api.tripApi.setTripArrive({trip_ids:t.trip_id}).then(function(t){e.loadList(),e.$Message.warning("操作成功"),e.afterChangeDetail()})}})},afterChangeDetail:function(){"tripDetail"==this.$route.name&&this.$refs.detail.loadDetail()},openTripDetailModal:function(t){this.$router.push({path:"/trip/detail/"+t})}},created:function(){this.loadList()},mounted:function(){var t=this;i.$on("trip-list-reload",function(e){t.onSearch()}),this.$on("trip-cancel",function(e){t.doTripCancel(e)}),this.$on("trip-send",function(e){t.doTripSend(e)}),this.$on("trip-arrive",function(e){t.doTripArrive(e)}),this.$on("trip-insure",function(e){t.doTripInsure(e)})}}})}).call(e,a(227))},1359:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";function e(){var t=this;return[{type:"selection",width:60,fixed:"left",align:"center"},{title:"车次号",key:"trip_no",fixed:"left",width:200,render:function(e,a){return e("span",{class:"text-link",on:{click:function(){t.openTripDetailModal(a.row.trip_id)}}},[" ",a.row.trip_no," "])}},{title:"状态",key:"trip_state_str",width:100,render:function(t,e){return t("span",{style:{color:i[e.row.trip_state]}},e.row.trip_state_str)}},{title:"装载",key:"trip_load",width:150},{title:"起点",key:"send_area",width:150},{title:"终点",key:"arrive_area",width:150},{title:"公里数",key:"trip_length",width:100},{title:"配载运单数",key:"trip_order_cnt",width:150},{title:"网点",key:"company_name",width:150},{title:"司机",key:"driver_name",width:100},{title:"联系方式",key:"driver_mobile",width:150},{title:"车牌号",key:"truck_plate",width:120},{title:"车型",key:"truck_type",width:150},{title:"车长",key:"truck_length",width:100},{title:"当前位置",key:"last_addr",width:300}]}function a(){var t=this;return[{type:"selection",width:60,fixed:"left",align:"center"},{title:"车次号",key:"trip_no",fixed:"left",width:200,render:function(e,a){return e("span",{class:"text-link",on:{click:function(){t.openTripDetailModal(a.row.trip_id)}}},[" ",a.row.trip_no," "])}},{title:"状态",key:"trip_state_str",width:100,render:function(t,e){return t("span",{style:{color:i[e.row.trip_state]}},e.row.trip_state_str)}},{title:"投保状态",key:"insure_status",width:100,render:function(t,e){return t("span",n[""+e.row.insure_status])}},{title:"装载",key:"trip_load",width:150},{title:"起点",key:"send_area",width:150},{title:"终点",key:"arrive_area",width:150},{title:"公里数",key:"trip_length",width:100},{title:"配载运单数",key:"trip_order_cnt",width:150},{title:"网点",key:"company_name",width:150},{title:"司机",key:"driver_name",width:100},{title:"联系方式",key:"driver_mobile",width:150},{title:"车牌号",key:"truck_plate",width:120},{title:"车型",key:"truck_type",width:150},{title:"车长",key:"truck_length",width:100},{title:"当前位置",key:"last_addr",width:300}]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCulomns=e,t.getXHSCulomns=a;var i=["#febf06","#48cc46","#0071c0"],n=(t.tripStateTypes=[{text:"全部",key:""},{text:"待发车",key:"0"},{text:"运输中",key:"1"},{text:"已到车",key:"2"}],t.tripSourceTypes=[{text:"全部",key:""},{text:"发站车次",key:"fz"},{text:"到站车次",key:"dz"}],{Y:"投保成功",D:"投保中",N:"投保失败",U:"未投保"});t.searchParams={q_trip_source:"",q_trip_state:"0",q_keyword:"",q_trip_no:""}})},1399:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".contain-head .text-filter[data-v-39f59799]{display:inline-block}.contain-head .text-filter .ivu-input-wrapper[data-v-39f59799]{width:200px;display:inline-block;margin-right:10px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/trip/list/index.vue"],names:[],mappings:"AACA,4CACE,oBAAsB,CACvB,AACD,+DACI,YAAa,AACb,qBAAsB,AACtB,iBAAmB,CACtB",file:"index.vue",sourcesContent:["\n.contain-head .text-filter[data-v-39f59799] {\n  display: inline-block;\n}\n.contain-head .text-filter .ivu-input-wrapper[data-v-39f59799] {\n    width: 200px;\n    display: inline-block;\n    margin-right: 10px;\n}\n"],sourceRoot:""}])},1430:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"trip-insure.vue",sourceRoot:""}])},1487:function(t,e,a){var i=a(1399);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("79ae9464",i,!0)},1518:function(t,e,a){var i=a(1430);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("2602ed28",i,!0)},1590:function(t,e,a){a(1518);var i=a(10)(a(1310),a(1688),null,null);t.exports=i.exports},1651:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contain-head"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasSelect,expression:"!hasSelect"}]},[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.onSearch},model:{value:t.search.q_trip_state,callback:function(e){t.$set(t.search,"q_trip_state",e)},expression:"search.q_trip_state"}},t._l(t.tripStateTypes,function(e,i){return a("Radio",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.text))])})),t._v(" "),a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.onSearch},model:{value:t.search.q_trip_source,callback:function(e){t.$set(t.search,"q_trip_source",e)},expression:"search.q_trip_source"}},t._l(t.tripSourceTypes,function(e,i){return a("Radio",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.text))])})),t._v(" "),a("i-input",{staticClass:"w200",attrs:{placeholder:"车牌号、司机姓名、联系方式"},model:{value:t.search.q_keyword,callback:function(e){t.$set(t.search,"q_keyword",e)},expression:"search.q_keyword"}}),t._v(" "),a("i-input",{staticClass:"w200",attrs:{placeholder:"输入车次号"},model:{value:t.search.q_trip_no,callback:function(e){t.$set(t.search,"q_trip_no",e)},expression:"search.q_trip_no"}}),t._v(" "),a("div",{staticClass:"dib"},[a("i-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),a("i-button",{attrs:{type:"warning"},on:{click:t.onSearchReset}},[t._v("重置")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.hasSelect,expression:"hasSelect"}]},[a("i-button",{staticClass:"mr5",attrs:{type:"primary",disabled:t.tripCancelVisible},on:{click:t.tripCancel}},[t._v("取消车次")]),t._v(" "),a("i-button",{staticClass:"mr5",attrs:{type:"primary",disabled:t.tripSendVisible},on:{click:t.tripSend}},[t._v("确认发车")]),t._v(" "),a("i-button",{staticClass:"mr5",attrs:{type:"primary",disabled:t.tripArriveVisible},on:{click:t.tripArrive}},[t._v("确认到车")]),t._v(" "),t.isXHS?a("i-button",{attrs:{type:"success",disabled:!t.insureButtonActivated},on:{click:t.handlerTripInsure}},[t._v("整车投保")]):t._e()],1)]),t._v(" "),a("div",{staticClass:"contain-main"},[a("i-table",{attrs:{data:t.tableParams.list,columns:t.columns},on:{"on-selection-change":t.onSelectionChange}}),t._v(" "),a("div",{staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.tableParams.total,"show-sizer":"","show-elevator":"",current:t.currentPage},on:{"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1),t._v(" "),a("keep-alive",[a("router-view",{ref:"detail"})],1),t._v(" "),t.isXHS?[a("trip-insure",{attrs:{entry:t.tripInsureTripEntry},on:{"after-save":t.afterSaveTripInsure,"on-cancel":t.onCancelTripInsure},model:{value:t.tripInsureVisible,callback:function(e){t.tripInsureVisible=e},expression:"tripInsureVisible"}})]:t._e()],2)},staticRenderFns:[]}},1688:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Modal",{attrs:{title:"整车投保",width:"600"},on:{"on-ok":t.handlerSave,"on-cancel":t.handlerCancel},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?a("div",[a("i-form",{ref:"form",staticClass:"error-button",attrs:{model:t.entity,rules:t.rules,"label-width":120}},[a("FormItem",{attrs:{label:"保险公司"}},[t._v("\n          "+t._s(t.entity.insure_company)+"\n        ")]),t._v(" "),a("FormItem",{attrs:{label:"被保险人",prop:"insure_insurant"}},[t._v("\n          "+t._s(t.entity.insure_insurant)+"\n          ")]),t._v(" "),a("FormItem",{attrs:{label:"发货日期",prop:"trip_send_time"}},[a("DatePicker",{staticClass:"w200",attrs:{type:"datetime",placeholder:"选择发货日期",format:"yyyy-MM-dd HH:mm"},model:{value:t.entity.trip_send_time,callback:function(e){t.$set(t.entity,"trip_send_time",e)},expression:"entity.trip_send_time"}})],1),t._v(" "),a("FormItem",{attrs:{label:"运输路线"}},[a("FormItem",{staticClass:"dib",attrs:{prop:"trip_line_begin"}},[a("i-input",{staticClass:"w200",attrs:{placeholder:"请输入起始地"},model:{value:t.entity.trip_line_begin,callback:function(e){t.$set(t.entity,"trip_line_begin",e)},expression:"entity.trip_line_begin"}})],1),t._v("\n          至\n          "),a("FormItem",{staticClass:"dib",attrs:{prop:"trip_line_end"}},[a("i-input",{staticClass:"w200",attrs:{placeholder:"请输入目的地"},model:{value:t.entity.trip_line_end,callback:function(e){t.$set(t.entity,"trip_line_end",e)},expression:"entity.trip_line_end"}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"货物类型"}},[a("RadioGroup",{model:{value:t.entity.trip_cargo_type,callback:function(e){t.$set(t.entity,"trip_cargo_type",e)},expression:"entity.trip_cargo_type"}},[a("Radio",{attrs:{label:"0"}},[t._v("普通货物")]),t._v(" "),a("Radio",{attrs:{label:"1"}},[t._v("整车机械设备、电子产品、工程机械")])],1)],1),t._v(" "),a("FormItem",{attrs:{label:"货物声明价值"}},[a("InputNumber",{attrs:{max:200,min:0,precision:2},model:{value:t.entity.insure_amount,callback:function(e){t.$set(t.entity,"insure_amount",e)},expression:"entity.insure_amount"}}),t._v(" 万元\n        ")],1),t._v(" "),a("FormItem",{attrs:{label:"预估保费"}},[a("InputNumber",{attrs:{min:0,value:t.estimateAmount,editable:!1,precision:2,disabled:""}}),t._v(" 元\n        ")],1),t._v(" "),a("FormItem",{attrs:{"label-width":1,prop:"insure_is_agree"}},[a("Checkbox",{model:{value:t.entity.insure_is_agree,callback:function(e){t.$set(t.entity,"insure_is_agree",e)},expression:"entity.insure_is_agree"}}),t._v(" "),a("span",[t._v("我已阅读并同意 "),a("a",{attrs:{href:"/static/files/insure-protocol.pdf",target:"_blank"}},[t._v("《富邦国内货物运输保险协议》")]),t._v(" 投保信息及理赔情况请与相关保险公司洽谈请您谨慎填写以上信息，并在核实无误后点击确认投保")])],1)],1)],1):t._e(),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{attrs:{type:"primary"},on:{click:t.handlerSave}},[t._v("确定")]),t._v(" "),a("i-button",{on:{click:t.handlerCancel}},[t._v("取消")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=3.2c64b1bfcd48ba6ac90c.js.map