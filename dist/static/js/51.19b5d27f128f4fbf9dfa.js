webpackJsonp([51],{1100:function(e,t,i){var n=i(10)(i(1275),i(1674),null,null);e.exports=n.exports},1137:function(e,t,i){var n,r,a;!function(s,o){r=[t,i(61),i(150)],n=o,void 0!==(a="function"==typeof n?n.apply(t,r):n)&&(e.exports=a)}(0,function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),a=n(i),s={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var e=this;return this.tableParams.selectList.map(function(t){return t[e.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(e){this.tableParams.selectList=(0,a.default)(e),this.tableParams.isCheckBoxClick=!0},onPageChange:function(e){this.tableParams.page=e,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(e){this.tableParams.pageSize=e,this.onSearch()},assignQuery:function(e){return(0,r.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},e)}}};e.default=s})},1275:function(e,t,i){var n,r,a;!function(s,o){r=[t,i(52),i(1137),i(1354)],n=o,void 0!==(a="function"==typeof n?n.apply(t,r):n)&&(e.exports=a)}(0,function(e,t,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){return e&&e.__esModule?e:{default:e}}(i),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(n);e.default={name:"preorderV1List",data:function(){return{conditionList:a.getConditionList(),columns:a.getColumns.call(this),search:{forward_state:"0",order_no:""},hasSelects:!1,isOperate:!0,order_ids:""}},mixins:[r.default],methods:{loadList:function(){var e=this,t=this.assignQuery(this.search);this.$api.preorderApi.getPreorderList(t).then(function(t){e.tableParams.list=t.resultObj.list,e.tableParams.total=t.resultObj.total,e.tableParams.selectList=[],e.hasSelects=!1})},handler2Detail:function(e){this.$router.push({path:"/preorder/detail/"+e})},reject:function(){var e=this,t={forward_ids:e.order_ids};this.$Modal.confirm({content:"是否确定拒绝该运单？",onOk:function(){e.$api.preorderApi.setPreorderReject(t).then(function(t){e.loadList()})}})},accept:function(){var e=this,t={forward_ids:e.order_ids};this.$Modal.confirm({content:"是否确定接受该运单",onOk:function(){e.$api.preorderApi.setPreorderAccept(t).then(function(t){e.loadList()})}})},onReset:function(){this.search.order_no="",this.search.forward_state="0",this.onSearch()},handlerChangeState:function(){var e=this;this.$nextTick(function(){e.onSearch()})},onSelectionChange:function(e){var i=this;this.hasSelects=e.length>0;var n=0;e.forEach(function(e){0!=e.forward_state&&n++}),i.isOperate=0==n,i.order_ids=(0,t.getArrayIds)(e,"forward_id")}},created:function(){this.loadList()}}})},1354:function(e,t,i){var n,r,a;!function(s,o){r=[t,i(52)],n=o,void 0!==(a="function"==typeof n?n.apply(t,r):n)&&(e.exports=a)}(0,function(e,t){"use strict";function i(){return[{text:"全部",key:""},{text:"待审核",key:"0"},{text:"已接受",key:"1"},{text:"已拒绝",key:"2"}]}function n(){var e=this;return[{type:"selection",width:60,fixed:"left"},{title:"订单号",key:"order_no",fixed:"left",width:180,render:function(t,i){return t("span",{class:"text-link",on:{click:function(){e.handler2Detail(i.row.forward_id)}}},[i.row.order_no])}},{title:"来源",key:"source_from",width:100,render:function(e,i){return e("span",(0,t.subStringLimit)(i.row.source_from,5))}},{title:"状态",key:"forward_state",width:80,render:function(e,t){return e("span",{style:{color:r[t.row.forward_state]}},a[t.row.forward_state])}},{title:"客户",key:"send_company",width:130},{title:"发货人信息",key:"begin_link_man",width:210,render:function(e,t){return e("span",t.row.begin_link_man+" "+t.row.begin_link_mobile)}},{title:"始发地",key:"begin_area",width:150},{title:"目的地",key:"end_area",width:150},{title:"收货人信息",key:"end_link_man",width:210,render:function(e,t){return e("span",t.row.end_link_man+" "+t.row.end_link_mobile)}},{title:"货物名称",key:"c_names",width:100},{title:"总件数",key:"order_count",width:100},{title:"总重量",key:"order_weights",width:100},{title:"总体积",key:"order_volumes",width:100},{title:"包装",key:"c_packs",width:100},{title:"提货费",key:"liner_fee_th",width:80},{title:"送货费",key:"liner_fee_sh",width:80},{title:"保险费",key:"liner_fee_bx",width:80},{title:"代收货款",key:"liner_fee_dshk",width:80},{title:"代收手续费",key:"liner_fee_dssx",width:100},{title:"其他费用",key:"liner_fee_qt",width:80},{title:"现付",key:"liner_pay_cash",width:80},{title:"到付",key:"liner_pay_arrive",width:80},{title:"回单付",key:"liner_pay_back",width:80},{title:"月结",key:"liner_pay_month",width:80},{title:"委托单号",key:"shipper_order_no",width:150},{title:"上游转交时间",key:"forward_time",width:180},{title:"下游确认时间",key:"confirm_time",width:180},{title:"经办人",key:"confirm_user_name",width:100},{title:"备注",key:"shipper_remark",width:100}]}Object.defineProperty(e,"__esModule",{value:!0}),e.getConditionList=i,e.getColumns=n;var r=["#febf06","#48cc46","#0071c0"],a=["待审核","已接受","已拒绝"]})},1674:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"contain-head"},[i("div",{directives:[{name:"show",rawName:"v-show",value:!e.hasSelects,expression:"!hasSelects"}]},[i("RadioGroup",{attrs:{type:"button"},on:{"on-change":e.handlerChangeState},model:{value:e.search.forward_state,callback:function(t){e.$set(e.search,"forward_state",t)},expression:"search.forward_state"}},e._l(e.conditionList,function(t,n){return i("Radio",{key:n,attrs:{label:t.key}},[e._v(e._s(t.text))])})),e._v(" "),i("i-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入订单号"},model:{value:e.search.order_no,callback:function(t){e.$set(e.search,"order_no",t)},expression:"search.order_no"}}),e._v(" "),i("i-button",{on:{click:e.onSearch}},[e._v("搜索")]),e._v(" "),i("i-button",{on:{click:e.onReset}},[e._v("重置")])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.hasSelects,expression:"hasSelects"}]},[i("i-button",{attrs:{disabled:!e.isOperate,type:"primary"},on:{click:e.accept}},[e._v("接受")]),e._v(" "),i("i-button",{staticClass:"ml5",attrs:{disabled:!e.isOperate,type:"primary"},on:{click:e.reject}},[e._v("拒绝")])],1)]),e._v(" "),i("div",{staticClass:"contain-main"},[i("i-table",{attrs:{data:e.tableParams.list,columns:e.columns},on:{"on-selection-change":e.onSelectionChange}}),e._v(" "),i("div",{staticClass:"page-wrapper"},[i("Page",{attrs:{total:e.tableParams.total,"show-sizer":"","show-elevator":"",current:e.currentPage},on:{"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)],1),e._v(" "),i("keep-alive",[i("router-view")],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=51.19b5d27f128f4fbf9dfa.js.map