webpackJsonp([6],{1086:function(t,e,a){var i=a(10)(a(1196),a(1226),null,null);t.exports=i.exports},1137:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(61),a(150)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(e),r=i(a),o={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var t=this;return this.tableParams.selectList.map(function(e){return e[t.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(t){this.tableParams.selectList=(0,r.default)(t),this.tableParams.isCheckBoxClick=!0},onPageChange:function(t){this.tableParams.page=t,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(t){this.tableParams.pageSize=t,this.onSearch()},assignQuery:function(t){return(0,n.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},t)}}};t.default=o})},1138:function(t,e,a){"use strict";e.__esModule=!0;var i=a(154),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=function(t){return function(){var e=t.apply(this,arguments);return new n.default(function(t,a){function i(r,o){try{var l=e[r](o),d=l.value}catch(t){return void a(t)}if(!l.done)return n.default.resolve(d).then(function(t){i("next",t)},function(t){i("throw",t)});t(d)}return i("next")})}}},1139:function(t,e,a){t.exports=a(1148)},1140:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={data:function(){return{usedId:"",routeName:""}},computed:{id:function(){return this.$route.params.id}},watch:{id:function(t,e){t&&this.$route.name==this.routeName&&(this.usedId=t)},usedId:function(t,e){this.init()}},methods:{init:function(){console.warn("[wran] rewrite < "+this.$options.name+" > component’s init function witch with detail-child-mixin")}},created:function(){this.usedId=this.id,this.routeName=this.$route.name},mounted:function(){}};t.default=e})},1141:function(t,e,a){(function(a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={name:"detailModal",props:{value:{type:Boolean,require:!0}},data:function(){return{modal:this.value}},computed:{headClasses:function(){return["detail-modal-head"]},mainClasses:function(){return["detail-modal-main"]},footClasses:function(){return["detail-modal-foot"]}},watch:{value:function(t){this.modal=t}},methods:{close:function(){this.modal=!1,this.$emit("input",!1),this.$emit("on-detail-close"),a.$emit("on-detail-close")}},created:function(){},mounted:function(){}}})}).call(e,a(227))},1142:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1140)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(e);t.default={data:function(){return{detailShow:!1}},mixins:[a.default],methods:{},mounted:function(){var t=this;setTimeout(function(){t.detailShow=!0},500)},activated:function(){this.detailShow=!0},deactivated:function(){this.detailShow=!1},beforeRouteUpdate:function(t,e,a){var i=this;this.detailShow=!1,setTimeout(function(){i.detailShow=!0,a()},300)}}})},1143:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".detail-modal{position:fixed;z-index:7;top:50px;right:0;bottom:0;width:880px;border-left:1px solid #dddee1;box-shadow:-1px 0 3px #dddee1;background:#fff}.detail-modal.has-head .detail-modal-head{display:block;z-index:7}.detail-modal.has-head .detail-modal-main{padding-top:53px}.detail-modal.has-foot .detail-modal-foot{display:block}.detail-modal.has-foot .detail-modal-main{padding-bottom:44px}.detail-modal .tit{font-size:16px}.detail-modal .ivu-icon-close-round{position:absolute;top:17px;right:14px;color:#8492a6;font-size:20px;cursor:pointer;z-index:7}.detail-modal .ivu-icon-close-round:hover{opacity:.7}.detail-modal-foot,.detail-modal-head{position:absolute;left:0;right:0;display:none;padding-left:20px}.detail-modal-head{top:0;height:53px;padding-top:2px;padding-bottom:1px;padding-right:39px;border-bottom:1px solid #e6e6e6;line-height:49px}.detail-modal-main{position:relative;height:100%}.detail-modal-main .inner{height:100%;padding:10px 20px;overflow-x:hidden;overflow-y:auto}.detail-modal-foot{bottom:0;height:44px;border-top:1px solid #e6e6e6;padding-top:1px;padding-bottom:2px;line-height:49px}.fix-modal-main .inner{background:#fbfbfb!important}.detail-modal .ivu-tabs{position:inherit}.detail-modal .detail-foot{position:absolute;bottom:0;left:0;right:0;box-shadow:0 -1px 2px 1px #dedede;background:#fff;padding:5px}.detail-modal .detail-foot .foot-inner{background:#f2f2f2;padding:5px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/common/detail-modal/detail-modal.scss"],names:[],mappings:"AACA,cACE,eAAgB,AAChB,UAAW,AACX,SAAU,AACV,QAAS,AACT,SAAU,AACV,YAAa,AACb,8BAA+B,AAC/B,8BAA+B,AAC/B,eAAiB,CAClB,AACD,0CACI,cAAe,AACf,SAAW,CACd,AACD,0CACI,gBAAkB,CACrB,AACD,0CACI,aAAe,CAClB,AACD,0CACI,mBAAqB,CACxB,AACD,mBACI,cAAgB,CACnB,AACD,oCACI,kBAAmB,AACnB,SAAU,AACV,WAAY,AACZ,cAAe,AACf,eAAgB,AAChB,eAAgB,AAChB,SAAW,CACd,AACD,0CACM,UAAY,CACjB,AACD,sCACE,kBAAmB,AACnB,OAAQ,AACR,QAAS,AACT,aAAc,AACd,iBAAmB,CACpB,AACD,mBACE,MAAO,AACP,YAAa,AACb,gBAAiB,AACjB,mBAAoB,AACpB,mBAAoB,AACpB,gCAAiC,AACjC,gBAAkB,CACnB,AACD,mBACE,kBAAmB,AACnB,WAAa,CACd,AACD,0BACI,YAAa,AACb,kBAAmB,AACnB,kBAAmB,AACnB,eAAiB,CACpB,AACD,mBACE,SAAU,AACV,YAAa,AACb,6BAA8B,AAC9B,gBAAiB,AACjB,mBAAoB,AACpB,gBAAkB,CACnB,AACD,uBACE,4BAA+B,CAChC,AACD,wBACE,gBAAkB,CACnB,AACD,2BACE,kBAAmB,AACnB,SAAU,AACV,OAAQ,AACR,QAAS,AACT,kCAAqC,AACrC,gBAAiB,AACjB,WAAa,CACd,AACD,uCACI,mBAAoB,AACpB,WAAa,CAChB",file:"detail-modal.scss",sourcesContent:["\n.detail-modal {\n  position: fixed;\n  z-index: 7;\n  top: 50px;\n  right: 0;\n  bottom: 0;\n  width: 880px;\n  border-left: 1px solid #dddee1;\n  box-shadow: -1px 0 3px #dddee1;\n  background: #fff;\n}\n.detail-modal.has-head .detail-modal-head {\n    display: block;\n    z-index: 7;\n}\n.detail-modal.has-head .detail-modal-main {\n    padding-top: 53px;\n}\n.detail-modal.has-foot .detail-modal-foot {\n    display: block;\n}\n.detail-modal.has-foot .detail-modal-main {\n    padding-bottom: 44px;\n}\n.detail-modal .tit {\n    font-size: 16px;\n}\n.detail-modal .ivu-icon-close-round {\n    position: absolute;\n    top: 17px;\n    right: 14px;\n    color: #8492a6;\n    font-size: 20px;\n    cursor: pointer;\n    z-index: 7;\n}\n.detail-modal .ivu-icon-close-round:hover {\n      opacity: .7;\n}\n.detail-modal-head, .detail-modal-foot {\n  position: absolute;\n  left: 0;\n  right: 0;\n  display: none;\n  padding-left: 20px;\n}\n.detail-modal-head {\n  top: 0;\n  height: 53px;\n  padding-top: 2px;\n  padding-bottom: 1px;\n  padding-right: 39px;\n  border-bottom: 1px solid #e6e6e6;\n  line-height: 49px;\n}\n.detail-modal-main {\n  position: relative;\n  height: 100%;\n}\n.detail-modal-main .inner {\n    height: 100%;\n    padding: 10px 20px;\n    overflow-x: hidden;\n    overflow-y: auto;\n}\n.detail-modal-foot {\n  bottom: 0;\n  height: 44px;\n  border-top: 1px solid #e6e6e6;\n  padding-top: 1px;\n  padding-bottom: 2px;\n  line-height: 49px;\n}\n.fix-modal-main .inner {\n  background: #fbfbfb !important;\n}\n.detail-modal .ivu-tabs {\n  position: inherit;\n}\n.detail-modal .detail-foot {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: 0px -1px 2px 1px #dedede;\n  background: #fff;\n  padding: 5px;\n}\n.detail-modal .detail-foot .foot-inner {\n    background: #f2f2f2;\n    padding: 5px;\n}\n"],sourceRoot:""}])},1144:function(t,e,a){var i=a(1143);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("2c3d1bbe",i,!0)},1145:function(t,e,a){a(1144);var i=a(10)(a(1141),a(1146),null,null);t.exports=i.exports},1146:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"slide-right"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"detail-modal",class:{"has-head":t.$slots.head,"has-foot":t.$slots.foot}},[t.$slots.head?a("div",{class:t.headClasses},[t._t("head")],2):t._e(),t._v(" "),a("div",{class:t.mainClasses},[a("div",{staticClass:"inner"},[t._t("default")],2)]),t._v(" "),t.$slots.foot?a("div",{class:t.footClasses},[t._t("foot")],2):t._e(),t._v(" "),a("Icon",{attrs:{type:"close-round"},nativeOn:{click:function(e){return t.close(e)}}})],1)])},staticRenderFns:[]}},1148:function(t,e,a){var i=function(){return this}()||Function("return this")(),n=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,r=n&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=a(1149),n)i.regeneratorRuntime=r;else try{delete i.regeneratorRuntime}catch(t){i.regeneratorRuntime=void 0}},1149:function(t,e){!function(e){"use strict";function a(t,e,a,i){var r=e&&e.prototype instanceof n?e:n,o=Object.create(r.prototype),l=new c(i||[]);return o._invoke=s(t,a,l),o}function i(t,e,a){try{return{type:"normal",arg:t.call(e,a)}}catch(t){return{type:"throw",arg:t}}}function n(){}function r(){}function o(){}function l(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function d(t){function e(a,n,r,o){var l=i(t[a],t,n);if("throw"!==l.type){var d=l.arg,s=d.value;return s&&"object"==typeof s&&T.call(s,"__await")?Promise.resolve(s.__await).then(function(t){e("next",t,r,o)},function(t){e("throw",t,r,o)}):Promise.resolve(s).then(function(t){d.value=t,r(d)},o)}o(l.arg)}function a(t,a){function i(){return new Promise(function(i,n){e(t,a,i,n)})}return n=n?n.then(i,i):i()}var n;this._invoke=a}function s(t,e,a){var n=R;return function(r,o){if(n===I)throw new Error("Generator is already running");if(n===N){if("throw"===r)throw o;return f()}for(a.method=r,a.arg=o;;){var l=a.delegate;if(l){var d=_(l,a);if(d){if(d===w)continue;return d}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(n===R)throw n=N,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n=I;var s=i(t,e,a);if("normal"===s.type){if(n=a.done?N:P,s.arg===w)continue;return{value:s.arg,done:a.done}}"throw"===s.type&&(n=N,a.method="throw",a.arg=s.arg)}}}function _(t,e){var a=t.iterator[e.method];if(a===h){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=h,_(t,e),"throw"===e.method))return w;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return w}var n=i(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,w;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=h),e.delegate=null,w):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,w)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function c(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function u(t){if(t){var e=t[D];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,i=function e(){for(;++a<t.length;)if(T.call(t,a))return e.value=t[a],e.done=!1,e;return e.value=h,e.done=!0,e};return i.next=i}}return{next:f}}function f(){return{value:h,done:!0}}var h,v=Object.prototype,T=v.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},D=y.iterator||"@@iterator",A=y.asyncIterator||"@@asyncIterator",g=y.toStringTag||"@@toStringTag",b="object"==typeof t,E=e.regeneratorRuntime;if(E)return void(b&&(t.exports=E));E=e.regeneratorRuntime=b?t.exports:{},E.wrap=a;var R="suspendedStart",P="suspendedYield",I="executing",N="completed",w={},x={};x[D]=function(){return this};var C=Object.getPrototypeOf,S=C&&C(C(u([])));S&&S!==v&&T.call(S,D)&&(x=S);var M=o.prototype=n.prototype=Object.create(x);r.prototype=M.constructor=o,o.constructor=r,o[g]=r.displayName="GeneratorFunction",E.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===r||"GeneratorFunction"===(e.displayName||e.name))},E.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,o):(t.__proto__=o,g in t||(t[g]="GeneratorFunction")),t.prototype=Object.create(M),t},E.awrap=function(t){return{__await:t}},l(d.prototype),d.prototype[A]=function(){return this},E.AsyncIterator=d,E.async=function(t,e,i,n){var r=new d(a(t,e,i,n));return E.isGeneratorFunction(e)?r:r.next().then(function(t){return t.done?t.value:r.next()})},l(M),M[g]="Generator",M[D]=function(){return this},M.toString=function(){return"[object Generator]"},E.keys=function(t){var e=[];for(var a in t)e.push(a);return e.reverse(),function a(){for(;e.length;){var i=e.pop();if(i in t)return a.value=i,a.done=!1,a}return a.done=!0,a}},E.values=u,c.prototype={constructor:c,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=h,this.done=!1,this.delegate=null,this.method="next",this.arg=h,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&T.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=h)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return r.type="throw",r.arg=t,a.next=e,i&&(a.method="next",a.arg=h),!!i}if(this.done)throw t;for(var a=this,i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i],r=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var o=T.call(n,"catchLoc"),l=T.call(n,"finallyLoc");if(o&&l){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(o){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(t,e){for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];if(i.tryLoc<=this.prev&&T.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var n=i;break}}n&&("break"===t||"continue"===t)&&n.tryLoc<=e&&e<=n.finallyLoc&&(n=null);var r=n?n.completion:{};return r.type=t,r.arg=e,n?(this.method="next",this.next=n.finallyLoc,w):this.complete(r)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),w},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.finallyLoc===t)return this.complete(a.completion,a.afterLoc),p(a),w}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc===t){var i=a.completion;if("throw"===i.type){var n=i.arg;p(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,a){return this.delegate={iterator:u(t),resultName:e,nextLoc:a},"next"===this.method&&(this.arg=h),w}}}(function(){return this}()||Function("return this")())},1150:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1151)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(t,a,{enumerable:!0,get:function(){return e[a]}})})})},1151:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(70)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";function a(){try{var t=navigator.userAgent;if(null!=t.match(/Windows\sPhone/i))return!0;if(null!=t.match(/iPhone|iPod/i))return!0;if(null!=t.match(/Android/i))return!0;if(null!=t.match(/Edge\D?\d+/i))return!0;var e=t.match(/Trident\D?\d+/i),a=t.match(/MSIE\D?\d+/i),i=t.match(/OPR\D?\d+/i),n=t.match(/Firefox\D?\d+/i),r=t.match(/x64/i);if(null==e&&null==a&&null!==r)return!0;if(null!==n){if(n=n[0].match(/\d+/),n[0]>=41||null!==r)return!0}else if(null!==i){if(i=i[0].match(/\d+/),i[0]>=32)return!0}else if(null==e&&null==a){var o=t.match(/Chrome\D?\d+/i);if(null!==o&&(o=o[0].match(/\d+/),o[0]>=41))return!0}return!1}catch(t){return!0}}function i(t,i){var r,o="<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop32.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>",l="<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop32.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>",d="<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行安装</a>,安装后请刷新页面。</font>",s="<br><font color='#FF00FF'>CLodop云打印服务需升级!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行升级</a>,升级后请刷新页面。</font>";try{var _=navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0;if(a()){try{r=getCLodop()}catch(t){return void e.Message.info("C-Lodop没准备好，请稍后再试！")}if(!r&&"complete"!==document.readyState)return void e.Message.info("C-Lodop没准备好，请稍后再试！");if(!r)return void(_?document.write(d):document.body.innerHTML=d+document.body.innerHTML);CLODOP.CVERSION<"3.0.4.1"&&(_?document.write(s):document.body.innerHTML=s+document.body.innerHTML),i&&i.parentNode&&i.parentNode.removeChild(i),t&&t.parentNode&&t.parentNode.removeChild(t)}else{var m=_&&navigator.userAgent.indexOf("x64")>=0;if(void 0!=t||void 0!=i?r=_?t:i:null==n?(r=document.createElement("object"),r.setAttribute("width",0),r.setAttribute("height",0),r.setAttribute("style","position:absolute;left:0px;top:-100px;width:0px;height:0px;"),_?r.setAttribute("classid","clsid:2105C259-1E0C-4534-8141-A753534CB4CA"):r.setAttribute("type","application/x-print-lodop"),document.documentElement.appendChild(r),n=r):r=n,null==r||void 0===r.VERSION)return navigator.userAgent.indexOf("Chrome")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>"+document.body.innerHTML),navigator.userAgent.indexOf("Firefox")>=0&&(document.body.innerHTML="<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>"+document.body.innerHTML),m?document.write("<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop64.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>"):_?document.write(o):document.body.innerHTML=o+document.body.innerHTML,r}return r.VERSION<"6.2.2.2"?(a()||(m?document.write("<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop64.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>"):_?document.write(l):document.body.innerHTML=l+document.body.innerHTML),r):(r.SET_LICENSES("","002122022841C6D225FA933F59673C40","C94CEE276DB2187AE6B65D56B3FC2848",""),r)}catch(t){e.Message.info("getLodop出错:"+t)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getLodop=t.needCLodop=void 0;var n=null;t.needCLodop=a,t.getLodop=i})},1153:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(102),a(24),a(1150),a(70)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};this.option=(0,d.default)({},e,t)}Object.defineProperty(t,"__esModule",{value:!0});var l=r(e),d=r(a);o.prototype.initPrinter=function(){var t;return this.LODOP=(0,i.getLodop)(),this.LODOP.PRINT_INIT(this.option.pageName),(t=this.LODOP).SET_PRINT_PAGESIZE.apply(t,(0,l.default)(this.option.printPageSize)),this.LODOP},o.prototype.setPrinter=function(t){var e=void 0;return this.LODOP&&this.LODOP.Printers&&this.LODOP.Printers.list?(e=this.LODOP.Printers.list.map(function(t){return t.name}),e.includes(t)?(this.LODOP.SET_PRINTER_INDEX(t),!0):(n.Message.info("打印机有误，请重新设置"),!1)):(n.Message.info("未找到合适打印机"),!1)},o.prototype.print=function(){this.LODOP.PRINT()},t.default=o})},1163:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1166),a(1167),a(1168)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.printTrip=t.printTag=t.printOrderCover=void 0;var r=n(e),o=n(a),l=n(i);t.printOrderCover=r.default,t.printTag=o.default,t.printTrip=l.default})},1166:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1139),a(1138),a(24),a(1153),a(484),a(120),a(87)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r,o,l){"use strict";function d(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=void 0,a=void 0;return e=t.split("-"),a=t.split(" "),e.length>a.length?e:a}Object.defineProperty(t,"__esModule",{value:!0});var _=d(e),m=d(a),p=d(i),c=d(n),u=new c.default({pageName:"运单套打",printPageSize:[0,2300,1270,"运单套打"]}),f={partner_pay_arrive:"到付",partner_pay_back:"回单付",partner_pay_cash:"现付现金",partner_pay_hkk:"货款扣",partner_pay_month:"月结",partner_pay_dbf:"多笔付",partner_pay_qfan:"欠返",partner_pay_qfu:"欠付",partner_pay_xfan:"现返",partner_pay_hdfk:"货到打款"},h=["0","1","2","3","4"],v={0:"回执",1:"原单",2:"收条",3:"电子回单",4:"其它",NO:"没有回单"};u.createPage=function(t){var e=t.order,a=t.isXHS;if(e){var i=this.LODOP;console.log("order",e),console.log("isXHS",a),i.NEWPAGE();var n="",r="",l="",d=[],_=void 0,m=this.printerSetting;e=(0,p.default)({},e),_="partner_pay_dbf"==e.pay_type,d=JSON.parse(e.cargos||"[]"),e.cargos=new Array(3).fill(1).map(function(t,e){return d[e]?d[e]:{}});var c=e.pay_total||0;n=c+"\r\n"+(0,o.numberToWords)(c),r=f[e.pay_type],a&&_&&e.pay_details.partner_pay_arrive&&(r+="到付:"+e.pay_details.partner_pay_arrive+"元"),l=h.includes(e.back_type)?v[""+e.back_type]+" "+(e.back_nums||0)+"份":v.NO;var u=!0,T=!0,y=!0,D=!0,A=1,g=e.begin_area,b=e.end_area,E=void 0;if(m&&m.print_order_setting){var R=m.print_order_setting;u="Y"!=R.is_hide_receive_linkman,T="Y"!=R.is_hide_send_linkman,y="N"!=R.is_print_QR_code,D="N"!=R.is_print_bar_code,"N"!=R.is_print_order_no,A=R.print_area_level}E="http://wx.yunba.com/tms/order/qrcode/img?order_no="+e.order_no,2==A&&(g=(0,o.filterSlice)(g),b=(0,o.filterSlice)(b));var P=s(e.begin_area),I=s(e.end_area);i.SET_PRINT_STYLE("FontSize",11),D&&i.ADD_PRINT_BARCODE(37,308,240,70,"Code39",""+e.order_no),y&&i.ADD_PRINT_IMAGE(28,546,80,80,"<img width='70' border='0' src='"+E+"'/>"),i.ADD_PRINT_TEXT("10.05mm","171.45mm","37.57mm","5.29mm",e.create_time),i.ADD_PRINT_TEXT("25.93mm","166.16mm","21.17mm","5.29mm",g),i.ADD_PRINT_TEXT("25.93mm","188.12mm","21.17mm","5.29mm",b),T&&(i.ADD_PRINT_TEXT("43.66mm","34.93mm","23.81mm","5.29mm",e.begin_link_man),i.ADD_PRINT_TEXT("43.66mm","69.85mm","26.46mm","5.29mm",e.begin_link_mobile),i.ADD_PRINT_TEXT("51.33mm","38.36mm","56.89mm","5.29mm",e.send_company),i.ADD_PRINT_TEXT("59.27mm","37.04mm","14.55mm","5.29mm",P[0]),i.ADD_PRINT_TEXT("59.27mm","53.71mm","15.88mm","5.29mm",P[1]),i.ADD_PRINT_TEXT("59.27mm","73.03mm","15.88mm","5.29mm",P[2]),i.ADD_PRINT_TEXT("66.94mm","24.61mm","71.44mm","5.29mm",e.begin_address)),u&&(i.ADD_PRINT_TEXT("85.99mm","34.66mm","23.81mm","5.29mm",e.end_link_man),i.ADD_PRINT_TEXT("85.99mm","69.59mm","26.46mm","5.29mm",e.end_link_mobile),i.ADD_PRINT_TEXT("93.13mm","38.36mm","56.89mm","5.29mm",e.receive_company),i.ADD_PRINT_TEXT("101.6mm","37.04mm","14.55mm","5.29mm",I[0]),i.ADD_PRINT_TEXT("101.6mm","53.98mm","15.88mm","5.29mm",I[1]),i.ADD_PRINT_TEXT("101.6mm","72.5mm","15.88mm","5.29mm",I[2]),i.ADD_PRINT_TEXT("109.54mm","24.61mm","71.44mm","5.29mm",e.end_address)),i.ADD_PRINT_TEXT("51.33mm","104.51mm","22.49mm","5.29mm",e.cargos[0].c_name),i.ADD_PRINT_TEXT("51.33mm","127mm","11mm","5.29mm",e.cargos[0].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","138.11mm","13.23mm","5.29mm",e.cargos[0].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","151.34mm","11mm","5.29mm",e.cargos[0].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("51.33mm","161.93mm","11mm","5.29mm",e.cargos[0].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","104.51mm","22.49mm","5.29mm",e.cargos[1].c_name),i.ADD_PRINT_TEXT("59.27mm","127mm","11mm","5.29mm",e.cargos[1].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","138.11mm","13.23mm","5.29mm",e.cargos[1].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","151.34mm","11mm","5.29mm",e.cargos[1].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("59.27mm","161.93mm","11mm","5.29mm",e.cargos[1].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","104.51mm","22.49mm","5.29mm",e.cargos[2].c_name),i.ADD_PRINT_TEXT("66.94mm","127mm","11mm","5.29mm",e.cargos[2].c_amount),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","138.11mm","13.23mm","5.29mm",e.cargos[2].c_pack),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","151.34mm","11mm","5.29mm",e.cargos[2].c_weight),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("66.94mm","161.93mm","11mm","5.29mm",e.cargos[2].c_volume),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("83.61mm","110.6mm","13.23mm","5.29mm",e.fee_transport),i.SET_PRINT_STYLEA(0,"Alignment",2),a&&_||(i.ADD_PRINT_TEXT("83.61mm","135.73mm","13.23mm","5.29mm",e.fee_details.partner_fee_sh),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("83.34mm","159.01mm","10.58mm","5.29mm",e.fee_details.partner_fee_th),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("89.69mm","114.04mm","10.58mm","5.29mm",e.fee_details.partner_fee_smjz),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("89.69mm","135.73mm","13.23mm","5.29mm",e.fee_details.partner_fee_bj),i.ADD_PRINT_TEXT("89.69mm","159.01mm","10.58mm","5.29mm",e.fee_details.partner_fee_bx),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("96.31mm","114.04mm","21.17mm","5.29mm",e.fee_details.partner_fee_dshk),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("96.31mm","151.08mm","18.52mm","5.29mm",e.fee_details.partner_fee_dssx),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("102.92mm","114.04mm","21.17mm","5.29mm",e.fee_details.partner_fee_qt),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("101.86mm","148.43mm","21.17mm","7.14mm",n),i.SET_PRINT_STYLEA(0,"FontSize",9),i.SET_PRINT_STYLEA(0,"Alignment",2)),i.ADD_PRINT_TEXT("109.54mm","111.13mm","4.23mm","5.29mm","N"==e.is_delivery?"v":""),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("109.54mm","126.74mm","4.23mm","5.29mm","Y"==e.is_delivery?"v":""),i.SET_PRINT_STYLEA(0,"Alignment",2),i.ADD_PRINT_TEXT("109.54mm","148.43mm","26.46mm","5.29mm",r),i.ADD_PRINT_TEXT("83.08mm","179.39mm","29.1mm","18.52mm",e.shipper_remark),i.ADD_PRINT_TEXT("109.54mm","178.06mm","31.75mm","5.29mm",l)}};var T=function(){var t=(0,m.default)(_.default.mark(function t(){var e,a,i,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=o.data;return _.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=void 0,t.next=3,(0,r.getPrintSetting)();case 3:if(a=u.printerSetting=t.sent,e=a&&a.print_mac_setting?a.print_mac_setting.order_print_mac:"",u.initPrinter(),u.setPrinter(e)){t.next=8;break}return t.abrupt("return");case 8:i=(0,l.getUserInfo)(),n=""==i.company_id,d.forEach(function(t){u.createPage({order:t,isXHS:n})}),u.print();case 12:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();t.default=T})},1167:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1139),a(1138),a(24),a(1153),a(484)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var l=o(e),d=o(a),s=o(i),_=o(n),m=new _.default({pageName:"货签打印",printPageSize:[0,800,600,"货签打印"]});m.createPage=function(t){var e=t.data,a=t.total,i=t.index,n=this.LODOP;if(e){n.NEWPAGE();var r=void 0,o=void 0,l=void 0,d="/static/images/print-tag/logo@2x.png",_="400-885-6943";if(r=(0,s.default)({},e),o=r.end_link_man,l=r.end_link_mobile,this.printerSetting&&this.printerSetting.print_sign_setting){var m=this.printerSetting.print_sign_setting;m.print_logo_pic&&(d=m.print_logo_pic),"N"==m.is_print_receive_linkman&&(o=""),"N"==m.is_print_receive_linkmobile&&(l=""),m.custom_order_hotline&&(_=m.custom_order_hotline)}n.ADD_PRINT_LINE("17.75mm","0mm",66,"79.9mm",0,1),n.ADD_PRINT_LINE("35.77mm","0mm",134,"79.9mm",0,1),n.ADD_PRINT_LINE("41.57mm","0mm",156,"79.9mm",0,1),n.ADD_PRINT_LINE("59.5mm","56.59mm","41.51mm",215,0,1),n.ADD_PRINT_LINE("11.85mm","55.01mm",44,"79.9mm",0,1),n.ADD_PRINT_LINE("6.06mm","55.01mm",22,"79.9mm",0,1),n.ADD_PRINT_LINE("0mm","55.01mm","17.49mm",209,0,1),n.ADD_PRINT_LINE("0mm","49mm","17.49mm",186,0,1),n.ADD_PRINT_IMAGE("1.48mm","2.99mm","37.99mm","10.8mm",'<img border="0" height="38" src="'+d+'"/>'),n.ADD_PRINT_TEXT(48,13,160,18,"客服电话："+_),n.ADD_PRINT_TEXT("3.18mm","49.21mm","5.82mm","13.76mm","收\r\n货\r\n人"),n.SET_PRINT_STYLEA(0,"Alignment",2),n.ADD_PRINT_TEXT(4,211,86,18,o),n.ADD_PRINT_TEXT(26,"55.75mm",86,18,l),n.ADD_PRINT_TEXT(48,211,86,18,"Y"==r.is_delivery?"送货":"自提"),n.ADD_PRINT_TEXT(75,12,280,24,"出发  "+r.begin_area),n.SET_PRINT_STYLEA(0,"FontSize",12),n.ADD_PRINT_TEXT(103,12,280,24,"到达  "+r.end_area),n.SET_PRINT_STYLEA(0,"FontSize",12),n.ADD_PRINT_TEXT(138,12,150,18,"运单号 "+r.order_no),n.ADD_PRINT_TEXT(138,162,140,18,"共"+r.order_count+"件 第"+i+"份 共"+a+"份"),n.ADD_PRINT_BARCODE(168,22,202,50,"93Extended",r.order_no),n.ADD_PRINT_IMAGE(166,"61.65mm","12.65mm","12.65mm",'<img border="0" height="48" src="/static/images/print-tag/qrcode@2x.png"/>')}};var p=function(){var t=(0,d.default)(l.default.mark(function t(e){var a,i,n,o=e.data,d=e.total;return l.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,t.next=3,(0,r.getPrintSetting)();case 3:if(i=m.printerSetting=t.sent,a=i&&i.print_mac_setting?i.print_mac_setting.sign_print_mac:"",m.initPrinter(),m.setPrinter(a)){t.next=8;break}return t.abrupt("return");case 8:for(d<1&&(d=1),n=1;n<=d;n++)m.createPage({data:o,total:d,index:n});m.print();case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();t.default=p})},1168:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1139),a(1138),a(1153),a(484),a(120)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function l(){return'\n    <table style="border: 1px solid #000; border-collapse:collapse; text-align: left;">\n      <thead>\n        <tr>\n          <th class="w80">运单号</th>\n          <th>目的地</th>\n          <th class="w80">收货人</th>\n          <th>件数</th>\n          <th class="w80">货物</th>\n          <th>重量</th>\n          <th>体积</th>\n          <th>代收货款</th>\n          <th>到付</th>\n          <th>回单</th>\n          <th>交接方式</th>\n          <th>备注</th>\n        </tr>\n      </thead>\n      <tbody>\n  '}function d(t){return t.map(function(t){var e=t.order_no,a=t.end_area,i=t.end_link_man,n=t.end_link_mobile,o=t.cargo_total_amounts,l=t.cargo_names,d=t.cargo_total_weights,s=t.cargo_total_volumes,_=t.fee_dshk,m=t.pay_df,p=t.back_type,c=t.back_nums,u=t.is_delivery,f=t.shipper_remark,v=void 0;return v=p&&"no"!=p?h[""+p]+((c||0)+" 份"):"无","\n      <tr>\n        <td><div>"+e+"</div></td>\n        <td><div>"+(0,r.filterSlice)(a)+"</div></td>\n        <td><div>"+i+" "+n+"</div></td>\n        <td><div>"+o+"</div></td>\n        <td><div>"+l+"</div></td>\n        <td><div>"+d+"</div></td>\n        <td><div>"+s+"</div></td>\n        <td><div>"+_+"</div></td>\n        <td><div>"+m+"</div></td>\n        <td><div>"+v+"</div></td>\n        <td><div>"+("Y"==u?"送货":"自提")+'</div></td>\n        <td><div class="slice-span">'+f+"</div></td>\n      </tr>\n    "}).join("")}function s(){return"</tbody></table>"}function _(){return"\n    <style>\n      .w60{\n        width: 60px;\n      }\n      .w80{\n        width: 80px;\n      }\n      table{\n        width: 100%;\n      }\n      table th,table td{\n        border: 1px solid #000;\n        font-size: 13px\n      }\n      .slice-span{\n        width: 80px;\n        height: 1.5em;\n        line-height: 1.5em;\n        overflow: hidden;\n      }\n    </style>\n  "}function m(t,e,a){return p(t.map(function(t){if(Number(t[""+e]))return Number(t[""+e])}).filter(function(t){return t}),a)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=0;return t.forEach(function(t){a+=t*e}),a/e}Object.defineProperty(t,"__esModule",{value:!0});var c=o(e),u=o(a),f=o(i),h={0:"回执",1:"原单",2:"收条",3:"电子回单",4:"其它",no:"无"},v={0:"现付",1:"到付",2:"回单付",3:"月结",4:"多笔付"},T={pay_cash:"现付现金",pay_oil:"现付油卡",pay_arrive:"到付",pay_back:"回单付",pay_month:"月结"},y=new f.default({pageName:"装车清单",printPageSize:[0,2100,2970,"装车清单"]});y.createPage=function(t){var e=t.detail,a=t.orderList;this.createPageHeader(e),this.createPagefooter({detail:e,orderList:a}),this.createPageTable(a)},y.createPageHeader=function(t){var e=y.LODOP;e.ADD_PRINT_TEXT(33,2,250,28,"运吧智慧物流平台"),e.SET_PRINT_STYLEA(0,"FontSize",17),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_RECT(21,480,130,60,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_LINE(52,480,51,610,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(28,480,130,20,"车次号"),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(59,480,130,20,t.trip_no),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_RECT(21,616,130,60,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_LINE(52,616,51,746,0,1),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(28,616,130,20,"发车时间"),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(59,616,130,20,t.send_time),e.SET_PRINT_STYLEA(0,"Alignment",2),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,3,240,20,t.send_area+" => "+t.arrive_area),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,248,240,20,"司机："+t.driver_name+" "+t.driver_mobile),e.SET_PRINT_STYLEA(0,"ItemType",1),e.ADD_PRINT_TEXT(96,493,240,20,"车辆："+t.truck_plate+"/ "+t.truck_length+"米/ "+t.truck_type),e.SET_PRINT_STYLEA(0,"ItemType",1)},y.createPagefooter=function(t){var e=t.detail,a=t.orderList,i=void 0,n=void 0,r=void 0,o=void 0,l=void 0,d="",s=y.LODOP;if(i=m(a,"cargo_total_amounts",1),n=m(a,"cargo_total_weights",1e3),r=m(a,"cargo_total_volumes",100),o=m(a,"fee_dshk",100),l=m(a,"pay_df",100),d=v[""+e.pay_method],e.pay_detail)for(var _ in e.pay_detail)d+=T[_]+" "+(e.pay_detail[_]||0)+" 元  ";s.ADD_PRINT_RECT(943,0,"RightMargin: 0",130,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(969,0,968,"RightMargin: 0",0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(991,0,990,"RightMargin: 0",0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(948,2,140,20,"总件数："+i),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(948,154,140,20,"总重量："+n+" 吨"),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(948,305,140,20,"总体积："+r+" 方"),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(948,454,140,20,"代收货款："+o+" 元"),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(948,602,140,20,"到付合计："+l+" 元"),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(970,2,290,20,"司机运费："+e.fee+" 元"),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(970,305,411,20,d),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,24,990,25,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,187,990,188,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,213,990,214,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,374,990,375,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,400,990,401,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,561,990,562,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_LINE(1073,587,990,588,0,1),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(998,0,26,70,"司\r\n机\r\n签\r\n字"),s.SET_PRINT_STYLEA(0,"Alignment",2),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(998,188,26,70,"发\r\n站\r\n签\r\n字"),s.SET_PRINT_STYLEA(0,"Alignment",2),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(999,374,26,70,"到\r\n站\r\n签\r\n字"),s.SET_PRINT_STYLEA(0,"Alignment",2),s.SET_PRINT_STYLEA(0,"ItemType",1),s.ADD_PRINT_TEXT(1e3,562,26,70,"备\r\n注"),s.SET_PRINT_STYLEA(0,"Alignment",2),s.SET_PRINT_STYLEA(0,"ItemType",1)},y.createPageTable=function(t){var e=_(),a=l(),i=d(t),n=s(),r="<head>"+e+"</head><body>"+a+i+n+"</body>";y.LODOP.ADD_PRINT_HTM("32mm","0","RightMargin: 0","BottomMargin: 40.77mm",r)};var D=function(){var t=(0,u.default)(c.default.mark(function t(e){var a,i,r=e.data,o=e.orderList;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=void 0,t.next=3,(0,n.getPrintSetting)();case 3:if(i=y.printerSetting=t.sent,a=i&&i.print_mac_setting?i.print_mac_setting.order_list_print_mac:"",y.initPrinter(),y.setPrinter(a)){t.next=8;break}return t.abrupt("return");case 8:y.createPage({detail:r,orderList:o}),y.print();case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}();t.default=D})},1195:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(1139),a(1138),a(61),a(101)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(e),l=r(a),d=r(i),s=r(n),_={insure_id:"",trip_id:"",insure_status:"Y",insure_company:"",insure_policy_holder:"",insure_insurant:"",insure_date:"",insure_amount:"",insure_premium:"",insure_is_agree:"Y",trip_send_time:"",trip_line_begin:"",trip_line_end:"",trip_cargo_type:"0",trip_truck_plate:"",trip_cargos:""},m={Y:"投保成功！",D:"投保中...",N:"投保失败！",U:"车次未投保！"},p={Y:"checkmark-circled",D:"information-circled",N:"close-circled",U:"help-circled"},c={Y:"text-success",D:"text-warning",N:"text-error",U:"text-warning"},u={0:"普通货物",1:"整车机械设备、电子产品、工程机械"};t.default={props:{tripId:""},data:function(){return{detail:(0,d.default)({},_)}},computed:{topInfo:function(){return{title:m[""+this.detail.insure_status],iconType:p[""+this.detail.insure_status],iconClass:c[""+this.detail.insure_status]}}},mixins:[s.default],watch:{tripId:{handler:function(t){t&&this.loadInsureDetail()},immediate:!0}},filters:{tripCargoType:function(t){return u[t]}},methods:{loadInsureDetail:function(){function t(){return e.apply(this,arguments)}var e=(0,l.default)(o.default.mark(function t(){var e;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.$api.tripApi.getTripInsureDetail(this.tripId);case 2:e=t.sent,this.detail=e.resultObj;case 4:case"end":return t.stop()}},t,this)}));return t}(),handlerInsure:function(){this.dispatch("trip-detail-insure")}}}})},1196:function(t,e,a){(function(i){var n,r,o;!function(i,l){r=[e,a(102),a(61),a(52),a(86),a(1137),a(1145),a(1142),a(101),a(1199),a(1163),a(1217),a(155)],n=l,void 0!==(o="function"==typeof n?n.apply(e,r):n)&&(t.exports=o)}(0,function(t,e,a,n,r,o,l,d,s,_,m,p,c){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var f=u(e),h=u(a),v=u(o),T=u(l),y=u(d),D=u(s),A=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(_),g=u(p),b=new c.AMapManager;t.default={name:"tripDetailModal",data:function(){return{user:"",columns:A.getColumns.call(this),datailReturnData:(0,h.default)({},A.datailReturnData),logs:null,follows:null,editModal:{modal:!1,modalData:{fee:"",trip_id:"",trip_state:"",is_b2c:"",pay_method:"",send_company_id:"",arrive_company_id:"",remark:"",create_user_id:"",pay_detail:"",payDetailData:{pay_month:"",pay_back:"",pay_arrive:"",pay_oil:"",pay_cash:""}}},companyList:null,zoom:12,center:[119.527875,25.959757],amapManager:b,map:null,mapRoadPoint:[],plugins:[{pName:"AMap.Geolocation",events:{init:function(t){var e=this;t.getCurrentPosition(function(t,a){a&&a.position&&(e.center=[a.position.lng,a.position.lat])})}}}]}},created:function(){this.user=this.userInfo},mixins:[v.default,y.default,D.default],components:{detailModal:T.default,insureDetail:g.default},computed:(0,h.default)({},(0,r.mapState)(["userInfo"]),{isXHS:function(){return this.userInfo&&"cd9bbbb2-80d5-42f0-9696-dcddf49588d3"==this.userInfo.company_id}}),watch:{},methods:{init:function(){this.loadDetail()},loadDetail:function(){var t=this,e=this;this.$api.tripApi.getTripDetailMsg({trip_id:this.id}).then(function(a){e.datailReturnData=a.resultObj,e.datailReturnData.orders=e.datailReturnData.orders||[],e.tableParams.list=e.datailReturnData.orders;var i=a.resultObj.send_area.split("-");e.setArrData("send",i,a.resultObj.send_area);var r=a.resultObj.arrive_area.split("-");e.setArrData("arrrive",r,a.resultObj.send_area),e.datailReturnData.pay_details=a.resultObj.pay_detail,e.setPayData(e.datailReturnData.pay_details),e.loadList(),e.loadMapMsg(a.resultObj.truck_plate,a.resultObj.send_time?a.resultObj.send_time:(0,n.getCurDate)(),a.resultObj.arrive_time?a.resultObj.arrive_time:(0,n.getCurDate)());var o="",l="";e.tableParams.list.forEach(function(t){o+=t.fee_dshk,l+=t.pay_df}),e.datailReturnData.fee_dshk=o,e.datailReturnData.pay_df=l,console.log("datailReturnData",t.datailReturnData)})},loadList:function(){var t=this,e=this.userInfo;t.logs=null,t.follows=null,this.$api.tripApi.getTripActLog({trip_id:this.id,act_user_id:e.user_id}).then(function(e){t.logs=e.resultObj}),this.$api.tripApi.getTripFollow({trip_id:this.id}).then(function(e){t.follows=e.resultObj})},loadMapMsg:function(t,e,a){var i=this,n=b.getMap(),r=new AMap.Driving({map:n});n.clearMap(),this.mapRoadPoint=null,this.mapRoadPoint=[];var o=(this.userInfo,{vehicle_no:t,loc_time_begin:e,loc_time_end:a,pattern:"GD"});this.$api.tripApi.getTripTrace(o).then(function(t){i.mapRoadPoint=t.resultObj;for(var e=i.mapRoadPoint[i.mapRoadPoint.length-1],a=i.mapRoadPoint[0],n=[],o=i.mapRoadPoint.length-2;o>=1;o--){var l=i.mapRoadPoint[o];l&&n.push([l.lng,l.lat])}i.drawLoadLine(r,e,a,n)})},drawLoadLine:function(t,e,a,i){e&&a&&e.lng&&""!=e.lng&&a.lng&&""!=a.lng&&t.search(new AMap.LngLat(e.lng,e.lat),new AMap.LngLat(a.lng,a.lat),{waypoints:i})},setArrData:function(t,e,a){var i=this;"send"==t?3==e.length?(i.datailReturnData.send_area_p=e[1],i.datailReturnData.send_area_c=e[2]):2==e.length?(i.datailReturnData.send_area_p=e[0],e[0]==e[1]?i.datailReturnData.send_area_c="":i.datailReturnData.send_area_c=e[1]):1==e.length?(i.datailReturnData.send_area_p=e[0],i.datailReturnData.send_area_c=""):(i.datailReturnData.send_area_p=a,i.datailReturnData.send_area_c=""):3==e.length?(i.datailReturnData.arrive_area_p=e[1],i.datailReturnData.arrive_area_c=e[2]):2==e.length?(i.datailReturnData.arrive_area_p=e[0],e[0]==e[1]?i.datailReturnData.arrive_area_c="":i.datailReturnData.arrive_area_c=e[1]):1==e.length?(i.datailReturnData.arrive_area_p=e[0],i.datailReturnData.arrive_area_c=""):(i.datailReturnData.arrive_area_p=a,i.datailReturnData.arrive_area_c="")},setPayData:function(t){var e=this;e.datailReturnData.pay_detail_str="","pay_cash"in t&&""!=t.pay_cash&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_cash+"(现付现金) "),"pay_oil"in t&&""!=t.pay_oil&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_oil+"(现付油卡) "),"pay_arrive"in t&&""!=t.pay_arrive&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_arrive+"(到付) "),"pay_back"in t&&""!=t.pay_back&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_back+"(回单付) "),"pay_month"in t&&""!=t.pay_month&&(e.datailReturnData.pay_detail_str+="￥"+t.pay_month+"(月结) ")},openEditPage:function(){var t=this;this.$api.tripApi.getTripNextCompanyList({}).then(function(e){t.companyList=e.resultObj.list,t.$api.tripApi.getTripPayMsg({trip_id:t.id}).then(function(e){t.setPayDetailData(e.resultObj),t.editModal.modal=!0,t.$refs.editTripForm.resetFields()})})},setPayDetailData:function(t){var e=this;e.editModal.modalData.fee=null==t.fee||""==t.fee?"":t.fee,e.editModal.modalData.trip_id=null==t.trip_id||""==t.trip_id?"":t.trip_id,e.editModal.modalData.trip_state=null==t.trip_state||""==t.trip_state?"":t.trip_state,e.editModal.modalData.is_b2c=null==t.is_b2c||""==t.is_b2c?"":t.is_b2c,e.editModal.modalData.pay_detail=null==t.pay_detail||""==t.pay_detail?"":t.pay_detail,e.editModal.modalData.pay_method=null==t.pay_method||""==t.pay_method?"":t.pay_method,e.editModal.modalData.send_company_id=null==t.send_company_id||""==t.send_company_id?"":t.send_company_id,"Y"==e.editModal.modalData.is_b2c?e.editModal.modalData.arrive_company_id="0":e.editModal.modalData.arrive_company_id=null==t.arrive_company_id||""==t.arrive_company_id?"":t.arrive_company_id,e.editModal.modalData.remark=null==t.remark||""==t.remark?"":t.remark,e.editModal.modalData.create_user_id=null==t.create_user_id||""==t.create_user_id?"":t.create_user_id;var a=t.pay_detail;"string"==typeof a&&(a=JSON.parse(a)),"pay_cash"in a&&""!=a.pay_cash?e.editModal.modalData.payDetailData.pay_cash=a.pay_cash:e.editModal.modalData.payDetailData.pay_cash="","pay_oil"in a&&""!=a.pay_oil?e.editModal.modalData.payDetailData.pay_oil=a.pay_oil:e.editModal.modalData.payDetailData.pay_oil="","pay_arrive"in a&&""!=a.pay_arrive?e.editModal.modalData.payDetailData.pay_arrive=a.pay_arrive:e.editModal.modalData.payDetailData.pay_arrive="","pay_back"in a&&""!=a.pay_back?e.editModal.modalData.payDetailData.pay_back=a.pay_back:e.editModal.modalData.payDetailData.pay_back="","pay_month"in a&&""!=a.pay_month?e.editModal.modalData.payDetailData.pay_month=a.pay_month:e.editModal.modalData.payDetailData.pay_month=""},cancelEdit:function(){this.editModal.modal=!1},saveEditMsg:function(){var t=this,e=this;if(0!=e.editModal.modalData.trip_state&&"0"!=e.editModal.modalData.trip_state)this.editModal.modal=!0,this.$refs.editTripModel.visible=!0,e.$Message.warning("只有待发车车次才能进行修改！");else{var a=0;switch(e.editModal.modalData.pay_method){case"0":a=Number(e.editModal.modalData.payDetailData.pay_cash)+Number(e.editModal.modalData.payDetailData.pay_oil),e.editModal.modalData.pay_detail='{"pay_cash":"'+e.editModal.modalData.payDetailData.pay_cash+'","pay_oil":"'+e.editModal.modalData.payDetailData.pay_oil+'"}';break;case"1":a=Number(e.editModal.modalData.payDetailData.pay_arrive),e.editModal.modalData.pay_detail='{"pay_arrive":"'+e.editModal.modalData.payDetailData.pay_arrive+'"}';break;case"2":a=Number(e.editModal.modalData.payDetailData.pay_back),e.editModal.modalData.pay_detail='{"pay_back":"'+e.editModal.modalData.payDetailData.pay_back+'"}';break;case"3":a=Number(e.editModal.modalData.payDetailData.pay_month),e.editModal.modalData.pay_detail='{"pay_month":"'+e.editModal.modalData.payDetailData.pay_month+'"}';break;case"4":a=Number(e.editModal.modalData.payDetailData.pay_cash)+Number(e.editModal.modalData.payDetailData.pay_oil)+Number(e.editModal.modalData.payDetailData.pay_arrive)+Number(e.editModal.modalData.payDetailData.pay_back)+Number(e.editModal.modalData.payDetailData.pay_month),e.editModal.modalData.pay_detail='{"pay_cash":"'+e.editModal.modalData.payDetailData.pay_cash+'","pay_oil":"'+e.editModal.modalData.payDetailData.pay_oil+'","pay_arrive":"'+e.editModal.modalData.payDetailData.pay_arrive+'","pay_back":"'+e.editModal.modalData.payDetailData.pay_back+'","pay_month":"'+e.editModal.modalData.payDetailData.pay_month+'"}'}if(Number(e.editModal.modalData.fee)!=a)return this.$Message.error("运费与支付金额不一致！");e.editModal.modalData.fee=a,0==e.editModal.modalData.arrive_company_id?e.editModal.modalData.is_b2c="Y":e.editModal.modalData.is_b2c="N",this.$api.tripApi.setTripPayMsg(e.editModal.modalData).then(function(e){"1"==e.result?(t.$Message.success("修改成功！"),t.loadDetail(),t.editModal.modal=!1):t.$Message.error("修改失败！原因："+e.resultInfo)})}},cancelAssign:function(){var t=this,e=void 0,a=this.id;if("Y"!=this.datailReturnData.is_self_trip)return this.$Message.info("不是本网点车次，不能进行取消配载操作");if("2"==this.datailReturnData.trip_state)return this.$Message.info("该车次已到车，不能进行取消配载操作");if(1==this.tableParams.list.length)e=this.tableParams.list[0].order_id;else{if(0==this.tableParams.selectList.length)return this.$Message.info("请选择要取消配载的运单");e=this.tableParams.selectList.map(function(t){return t.order_id}).join(",")}this.$Modal.confirm({title:"确认提示",content:"是否确认取消配载？",onOk:function(){var n={trip_id:a,order_ids:e};t.$api.tripApi.cancelAssign(n).then(function(e){i.$emit("trip-list-reload"),t.$router.push({name:"tripV1List"})})}})},tripCancel:function(){this.dispatch("trip-cancel",this.datailReturnData)},tripSend:function(){this.dispatch("trip-send",this.datailReturnData)},tripArrive:function(){this.dispatch("trip-arrive",this.datailReturnData)},handlerPrintTrip:function(){var t=this.tableParams.selectList&&this.tableParams.selectList.length?[].concat((0,f.default)(this.tableParams.selectList)):this.datailReturnData.orders;(0,m.printTrip)({data:this.datailReturnData,orderList:t})},handlerExportTripOrders:function(){var t={company_id:this.userInfo.company_id,trip_id:this.id};this.$api.tripApi.exportTripOrders(t)},close:function(){var t=this;setTimeout(function(){t.$router.push({name:"tripV1List"})},300)},reloadInsureDetail:function(){this.$refs.insureDetail.loadInsureDetail()}},mounted:function(){var t=this;this.$on("trip-detail-insure",function(){t.dispatch("trip-insure",t.id)})}}})}).call(e,a(227))},1199:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";function e(){return[{type:"selection",align:"center",width:60},{title:"运单号",key:"order_no",width:180},{title:"始发地",key:"begin_area",width:200},{title:"目的地",key:"end_area",width:200},{title:"收货人",key:"end_link_man",width:100},{title:"联系方式",key:"end_link_mobile",width:150},{title:"货物名称",key:"cargo_names",width:230},{title:"件数",key:"cargo_amounts",width:200},{title:"重量",key:"cargo_weights",width:200},{title:"体积",key:"cargo_volumes",width:200},{title:"包装",key:"cargo_packs",width:200},{title:"代收货款",key:"fee_dshk",width:100},{title:"到付",key:"pay_df",width:100},{title:"备注",key:"shipper_remark",width:100},{title:"提货",key:"is_pickup",width:100,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_pickup])}},{title:"送货",key:"is_delivery",width:100,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_delivery])}}]}function a(){return[{title:"运单号",key:"order_no",width:112},{title:"目的地",key:"end_area",width:90},{title:"收货人",key:"end_link_man",width:40},{title:"联系方式",key:"end_link_mobile",width:80},{title:"货物名称",key:"cargo_names",width:50},{title:"包装",key:"cargo_packs",width:40},{title:"件数",key:"cargo_amounts",width:30},{title:"代收货款",key:"fee_dshk",width:50},{title:"到付",key:"pay_df",width:30},{title:"提货",key:"is_pickup",width:30,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_pickup])}},{title:"送货",key:"is_delivery",width:30,render:function(t,e){return t("span",{Y:"是",N:"否"}[e.row.is_delivery])}},{title:"备注",key:"shipper_remark",width:90}]}Object.defineProperty(t,"__esModule",{value:!0}),t.getColumns=e,t.getPrintColumns=a;t.datailReturnData={send_area:"",send_area_p:"",send_area_c:"",arrive_area:"",arrive_area_p:"",arrive_area_c:"",trip_length:"",trip_no:"",trip_state:"",trip_state_str:"",driver_name:"",driver_mobile:"",truck_plate:"",truck_length:"",truck_type:"",truck_weight:"",trip_load:"",create_time:"",send_time:"",arrive_time:"",order_counts:"",order_volumes:"",order_weights:"",order_fees:"",fee:"",pay_method:"",pay_detail:"",pay_details:{},pay_detail_str:"",remark:"",is_self_trip:"",orders:[],fee_dshk:"",pay_df:""}})},1217:function(t,e,a){var i=a(10)(a(1195),a(1225),null,null);t.exports=i.exports},1225:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"cf"},[a("span",{staticClass:"fl tc w60"},[a("Icon",{staticClass:"fs30",class:t.topInfo.iconClass,attrs:{type:t.topInfo.iconType}})],1),t._v(" "),a("div",{staticClass:"ml60"},[a("h3",[t._v(t._s(t.topInfo.title))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.detail.insure_status,expression:"detail.insure_status == 'Y'"}]},[t._v(t._s(t.detail.insure_date)+" 投保成功 ！")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"D"==t.detail.insure_status,expression:"detail.insure_status == 'D'"}]},[t._v("投保时间： "+t._s(t.detail.create_time))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"N"==t.detail.insure_status,expression:"detail.insure_status == 'N'"}]},[t._v(t._s(t.detail.insure_date)+" 投保失败,"),a("span",{staticClass:"text-link",on:{click:t.handlerInsure}},[t._v("点击此处")]),t._v("重试！")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:"U"==t.detail.insure_status,expression:"detail.insure_status == 'U'"}]},[t._v("您可以"),a("span",{staticClass:"text-link",on:{click:t.handlerInsure}},[t._v("点击此处")]),t._v("进行投保！")])])]),t._v(" "),"Y"==t.detail.insure_status||"D"==t.detail.insure_status?[a("div",{staticClass:"tc bb mt30 mb20"},[t._v("投保信息")]),t._v(" "),a("div",{staticClass:"row-box row-box-text"},[a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("被保险人")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_insurant))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("发货日期")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_send_time))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("路线")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_line_begin+" 至 "+t.detail.trip_line_end))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("车辆牌照")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_truck_plate))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("货物类型")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t._f("tripCargoType")(t.detail.trip_cargo_type)))])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("声明价值")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_amount)+" 万元")])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("预估保费")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.insure_premium)+" 元")])],1),t._v(" "),a("Row",[a("i-col",{attrs:{span:"6"}},[t._v("货物名称")]),t._v(" "),a("i-col",{attrs:{span:"18"}},[t._v(t._s(t.detail.trip_cargos))])],1)],1)]:t._e()],2)},staticRenderFns:[]}},1226:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("detail-modal",{staticStyle:{width:"900px"},on:{"on-detail-close":t.close},model:{value:t.detailShow,callback:function(e){t.detailShow=e},expression:"detailShow"}},[a("div",{attrs:{slot:"head"},slot:"head"},[t._v("车次详情")]),t._v(" "),a("div",{attrs:{slot:"default"},slot:"default"},[a("div",[a("span",{staticClass:"fs26"},[t._v(t._s(t.datailReturnData.send_area_p))]),t._v(" "),a("span",{staticClass:"fs16"},[t._v(t._s(t.datailReturnData.send_area_c))]),t._v(" "),a("img",{attrs:{src:"/static/images/common/lineto-icon.png"}}),t._v(" "),a("span",{staticClass:"fs26"},[t._v(t._s(t.datailReturnData.arrive_area_p))]),t._v(" "),a("span",{staticClass:"fs16"},[t._v(t._s(t.datailReturnData.arrive_area_c))]),t._v(" "),a("span",[t._v(t._s(t.datailReturnData.trip_length)+"km")])]),t._v(" "),a("Row",[a("Col",{attrs:{span:"6"}},[a("span",[t._v("车次号："+t._s(t.datailReturnData.trip_no))])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("span",[t._v("车次状态："+t._s(t.datailReturnData.trip_state_str))])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[t._v("司机："+t._s(t.datailReturnData.driver_name)+" "+t._s(t.datailReturnData.driver_mobile))])]),t._v(" "),a("Col",{attrs:{span:"6"}},[a("span",[t._v("配载率："+t._s(t.datailReturnData.trip_load))])])],1),t._v(" "),a("Row",[a("Col",{attrs:{span:"10"}},[a("span",[t._v("\n                        车辆信息："+t._s(t.datailReturnData.truck_plate)+" "+t._s(t.datailReturnData.truck_length)+"米 "+t._s(t.datailReturnData.truck_type)+" "+t._s(t.datailReturnData.truck_weight)+"吨\n                    ")])]),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.datailReturnData.is_self_trip,expression:"datailReturnData.is_self_trip=='Y'"}],attrs:{span:"14"}},[a("span",[t._v("备注："+t._s(t.datailReturnData.remark))])])],1),t._v(" "),a("Row",{directives:[{name:"show",rawName:"v-show",value:"Y"==t.datailReturnData.is_self_trip,expression:"datailReturnData.is_self_trip=='Y'"}]},[a("Col",{attrs:{span:"18"}},[a("span",[t._v("\n                        车次运费："+t._s(t.datailReturnData.pay_detail_str)+"\n                    ")])]),t._v(" "),a("Col",{attrs:{span:"4"}},[a("a",{on:{click:t.openEditPage}},[t._v("查看/修改")])])],1),t._v(" "),a("Tabs",{attrs:{value:"loadOrderList"}},[a("Tab-pane",{attrs:{label:"配载运单",name:"loadOrderList"}},[a("div",{staticClass:"mb10"},[a("i-button",{attrs:{type:"primary"},on:{click:t.cancelAssign}},[t._v("取消配载")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripCancel}},[t._v("取消车次")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripSend}},[t._v("确认发车")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.tripArrive}},[t._v("确认到车")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.handlerPrintTrip}},[t._v("打印车次")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.handlerExportTripOrders}},[t._v("导出运单")])],1),t._v(" "),a("i-table",{staticClass:"print-scale",attrs:{data:t.tableParams.list,columns:t.columns},on:{"on-selection-change":t.onSelectionChange}})],1),t._v(" "),a("Tab-pane",{attrs:{label:"地图轨迹",name:"mapMsg"}},[a("el-amap",{staticStyle:{height:"550px",width:"100%"},attrs:{center:t.center,"map-manager":t.amapManager,zoom:t.zoom,plugin:t.plugins}})],1),t._v(" "),a("Tab-pane",{attrs:{label:"物流跟踪",name:"followMsg"}},t._l(t.follows,function(e,i){return a("Row",{key:i,staticClass:"time-line"},[a("i-col",{staticClass:"time-line-time",attrs:{span:4}},[t._v(t._s(t._f("dateFormat")(e.op_time,"YYYY-MM-DD"))),a("br"),t._v(t._s(t._f("dateFormat")(e.op_time,"HH:mm")))]),t._v(" "),a("i-col",{attrs:{span:20}},[t._v(t._s(e.content))]),t._v(" "),a("i",{staticClass:"s"})],1)})),t._v(" "),a("Tab-pane",{attrs:{label:"操作记录",name:"actionMsg"}},t._l(t.logs,function(e,i){return a("Row",{key:i,staticClass:"time-line"},[a("i-col",{staticClass:"time-line-time",attrs:{span:4}},[t._v(t._s(e.date_str)),a("br"),t._v(t._s(e.time_str))]),t._v(" "),a("i-col",{attrs:{span:4}},[t._v(t._s(e.user_name))]),t._v(" "),a("i-col",{attrs:{span:16}},[t._v(t._s(e.content))]),t._v(" "),a("i",{staticClass:"s"})],1)})),t._v(" "),t.isXHS?a("Tab-pane",{attrs:{label:"投保详情",name:"insureDetail"}},[a("insure-detail",{ref:"insureDetail",attrs:{"trip-id":t.id}})],1):t._e()],1)],1)]),t._v(" "),a("Modal",{ref:"editTripModel",attrs:{title:"修改",width:"1000"},on:{"on-ok":t.saveEditMsg},model:{value:t.editModal.modal,callback:function(e){t.$set(t.editModal,"modal",e)},expression:"editModal.modal"}},[a("Form",{ref:"editTripForm",attrs:{model:t.editModal.modalData,"label-width":100}},[a("Form-item",{attrs:{label:"到站地址："}},[a("Select",{model:{value:t.editModal.modalData.arrive_company_id,callback:function(e){t.$set(t.editModal.modalData,"arrive_company_id",e)},expression:"editModal.modalData.arrive_company_id"}},[a("Option",{attrs:{value:"0"}},[t._v("直达")]),t._v(" "),t._l(t.companyList,function(e){return a("Option",{key:e,attrs:{value:e.partener_id}},[t._v(t._s(e.company_name))])})],2)],1),t._v(" "),a("Form-item",{attrs:{label:"运费："}},[a("i-input",{staticStyle:{width:"120px"},attrs:{placeholder:"输入运费"},model:{value:t.editModal.modalData.fee,callback:function(e){t.$set(t.editModal.modalData,"fee",e)},expression:"editModal.modalData.fee"}}),t._v(" "),a("Radio-group",{staticClass:"ml20",model:{value:t.editModal.modalData.pay_method,callback:function(e){t.$set(t.editModal.modalData,"pay_method",e)},expression:"editModal.modalData.pay_method"}},[a("Radio",{attrs:{label:"0"}},[a("span",[t._v("现付")])]),t._v(" "),a("Radio",{attrs:{label:"1"}},[a("span",[t._v("到付")])]),t._v(" "),a("Radio",{attrs:{label:"2"}},[a("span",[t._v("回单付")])]),t._v(" "),a("Radio",{attrs:{label:"3"}},[a("span",[t._v("月结")])]),t._v(" "),a("Radio",{attrs:{label:"4"}},[a("span",[t._v("多笔付")])])],1)],1),t._v(" "),a("div",{staticClass:"cf-all"},[a("Row",[a("Col",{directives:[{name:"show",rawName:"v-show",value:0==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==0 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"5"}},[a("Form-item",{attrs:{label:"现付现金："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入现金"},model:{value:t.editModal.modalData.payDetailData.pay_cash,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_cash",e)},expression:"editModal.modalData.payDetailData.pay_cash"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:0==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==0 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"现付油卡："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入油卡"},model:{value:t.editModal.modalData.payDetailData.pay_oil,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_oil",e)},expression:"editModal.modalData.payDetailData.pay_oil"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:1==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==1 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"到付："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入到付"},model:{value:t.editModal.modalData.payDetailData.pay_arrive,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_arrive",e)},expression:"editModal.modalData.payDetailData.pay_arrive"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:2==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==2 || editModal.modalData.pay_method==4"}],staticClass:"mr15",attrs:{span:"4"}},[a("Form-item",{attrs:{label:"回单付："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入回单付"},model:{value:t.editModal.modalData.payDetailData.pay_back,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_back",e)},expression:"editModal.modalData.payDetailData.pay_back"}})],1)],1),t._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:3==t.editModal.modalData.pay_method||4==t.editModal.modalData.pay_method,expression:"editModal.modalData.pay_method==3 || editModal.modalData.pay_method==4"}],attrs:{span:"4"}},[a("Form-item",{attrs:{label:"月结："}},[a("i-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入月结"},model:{value:t.editModal.modalData.payDetailData.pay_month,callback:function(e){t.$set(t.editModal.modalData.payDetailData,"pay_month",e)},expression:"editModal.modalData.payDetailData.pay_month"}})],1)],1)],1)],1),t._v(" "),a("Form-item",{attrs:{label:"备注："}},[a("i-input",{attrs:{type:"textarea",placeholder:"请输入备注"},model:{value:t.editModal.modalData.remark,callback:function(e){t.$set(t.editModal.modalData,"remark",e)},expression:"editModal.modalData.remark"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("i-button",{on:{click:t.cancelEdit}},[t._v("取消")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.saveEditMsg}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=6.e3fa9321b88aacfe2917.js.map