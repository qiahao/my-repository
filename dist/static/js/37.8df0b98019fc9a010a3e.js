webpackJsonp([37],{1102:function(t,e,a){var i=a(10)(a(1277),a(1687),null,null);t.exports=i.exports},1137:function(t,e,a){var i,n,o;!function(s,r){n=[e,a(61),a(150)],i=r,void 0!==(o="function"==typeof i?i.apply(e,n):i)&&(t.exports=o)}(0,function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(e),o=i(a),s={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var t=this;return this.tableParams.selectList.map(function(e){return e[t.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(t){this.tableParams.selectList=(0,o.default)(t),this.tableParams.isCheckBoxClick=!0},onPageChange:function(t){this.tableParams.page=t,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(t){this.tableParams.pageSize=t,this.onSearch()},assignQuery:function(t){return(0,n.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},t)}}};t.default=s})},1277:function(t,e,a){var i,n,o;!function(s,r){n=[e,a(24),a(61),a(1137),a(488),a(1579),a(52),a(86),a(228)],i=r,void 0!==(o="function"==typeof i?i.apply(e,n):i)&&(t.exports=o)}(0,function(t,e,a,i,n,o,s,r,l){"use strict";function c(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=c(e),p=c(a),d=c(i),h=c(o);c(l);t.default={name:"priceV2List",data:function(){return{conditionList:[{text:"全部",key:""},{text:"承运价格",key:"0"},{text:"托运价格",key:"1"}],conditionList2:[{text:"全部",key:""},{text:"失效",key:"2"},{text:"生效",key:"1"}],columns:[{title:"报价表名称",key:"pm_name"},{title:"报价成员",key:"liner_name"},{title:"报价类型",key:"pm_for",render:function(t,e){return t("span",["成员价","公布价","特定对象价"][e.row.pm_for])}},{title:"发布状态",key:"pm_pub",render:function(t,e){return t("span",["草稿","已发布","已作废"][e.row.pm_pub])}},{title:"生效状态",key:"pm_state",render:function(t,e){return t("span",["未生效","生效","无效","已过期"][e.row.pm_state])}},{title:"成员归属",key:"account_belong",render:function(t,e){return t("span",["浙江未名公路港","园外"][e.row.account_belong])}},{title:"报价有效日期",key:"pm_type",width:250,render:function(t,e){return t("span",e.row.effect_time_begin+" 至 "+e.row.effect_time_end)}}],search:{act_user_id:"",pm_bulk:"",pm_state:"0,1,2",order_by:"",account_belong:"",liner_name:"",pm_for:"0,1",pm_pub:""},l_id:"",showDetailModal:!1,mbModel:!1,file:null,loadingStatus:!1,url:"",host:""}},components:{topFilterSelect:h.default},mixins:[d.default],computed:(0,p.default)({},(0,r.mapState)(["userInfo"])),created:function(){this.onSearch(),this.host=""},mounted:function(){},activated:function(){this.onSearch()},methods:{loadList:function(){var t=this;t.search.act_user_id=t.userInfo.user_id;var e=this.assignQuery(t.search);(0,n.getPriceList)(e).then(function(e){t.tableParams.list=e.resultObj.list,t.tableParams.total=e.resultObj.total,t.tableParams.selectList=[],t.hasSelect=!1})},filterSelectChange:function(t){this.search=(0,u.default)(this.search,t),this.search.pm_for=t.pm_for.join(","),this.search.pm_state=t.pm_state.join(","),this.loadList()},clearFilter:function(){this.search={pm_type:"",pm_state:"",keyword:"",account_belong:"",order_by:"",liner_name:""},this.onSearch()},detailModel:function(t){this.directDetail(t.pm_id)},add:function(){this.directDetail()},directDetail:function(t){var e={path:"/price/v2/detail"};e.query={id:t},this.$router.push(e)},importPrice:function(){this.mbModel=!0;var t=this.tableParams.selectList[0].pm_id;this.url="http://192.168.60.219:8889/api/utils/excel/route-price/upload?act_user_id="+this.userInfo.user_id+"&pm_id="+t},loadMb:function(){this.mbModel=!0},successHandle:function(t,e){"1"!=t.result&&this.$Message.error(t.resultInfo)}}}})},1279:function(t,e,a){var i,n,o;!function(s,r){n=[e,a(119)],i=r,void 0!==(o="function"==typeof i?i.apply(e,n):i)&&(t.exports=o)}(0,function(t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(e);t.default={props:{},data:function(){return{count:"",togglevalue:!1,filterData:{account_belong:"",pm_for:["0","1"],pm_state:["0","1","2"]}}},computed:{},watch:{filterData:{handler:function(t,e){this.$emit("reload",this.filterData);var a=0;""!=this.filterData.account_belong&&a++,0!=this.filterData.pm_for.length&&a++,0!=this.filterData.pm_state.length&&a++,this.count=a},deep:!0}},directives:{clickoutside:a.default},methods:{selectToggle:function(){this.togglevalue=!this.togglevalue},clearCondion:function(){this.filterData.account_belong="",this.filterData.pm_for=["0","1"],this.filterData.pm_state=["0","1","2"]},handleClose:function(){this.togglevalue=!1}},created:function(){},mounted:function(){},activated:function(){this.filterData={account_belong:"",pm_for:["0","1"],pm_state:["0","1","2"]}}}})},1372:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".filter-select-main{display:inline-block;position:relative;font-size:12px;z-index:5;vertical-align:middle}.filter-input{background:#fff;border:1px solid #dddee1;height:37px;line-height:35px;border-radius:4px;padding:0 15px;cursor:pointer}.filter-input .num{border-radius:8px;border:1px solid #ccc;display:inline-block;height:16px;width:16px;line-height:16px;text-align:center}.filter-option-main{position:absolute;left:0;top:34px;border:1px solid #dddee1;background:#fff;padding:10px;border-radius:4px;width:320px}.filter-foot h3{text-align:center;color:#0982cd;border-top:1px solid #dddee1;margin-top:10px;cursor:pointer}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/price/v2/top-filter-select.vue"],names:[],mappings:"AACA,oBACC,qBAAqB,AACrB,kBAAkB,AAClB,eAAe,AACf,UAAU,AACV,qBAAuB,CACvB,AACD,cACC,gBAAgB,AAChB,yBAAyB,AACzB,YAAY,AACZ,iBAAiB,AACjB,kBAAkB,AAClB,eAAe,AACf,cAAc,CACd,AACD,mBACC,kBAAkB,AAClB,sBAAsB,AACtB,qBAAqB,AACrB,YAAY,AACZ,WAAW,AACX,iBAAiB,AACjB,iBAAiB,CACjB,AACD,oBACC,kBAAkB,AAClB,OAAO,SAAS,AAChB,yBAAyB,AACzB,gBAAgB,AAChB,aAAa,AACb,kBAAkB,AAClB,WAAY,CACZ,AACD,gBACC,kBAAkB,AAClB,cAAc,AACd,6BAA6B,AAC7B,gBAAgB,AAChB,cAAc,CACd",file:"top-filter-select.vue",sourcesContent:["\n.filter-select-main{\n\tdisplay:inline-block;\n\tposition:relative;\n\tfont-size:12px;\n\tz-index:5;\n\tvertical-align: middle;\n}\n.filter-input{\n\tbackground:#fff;\n\tborder:1px solid #dddee1;\n\theight:37px;\n\tline-height:35px;\n\tborder-radius:4px;\n\tpadding:0 15px;\n\tcursor:pointer\n}\n.filter-input .num{\n\tborder-radius:8px;\n\tborder:1px solid #ccc;\n\tdisplay:inline-block;\n\theight:16px;\n\twidth:16px; \n\tline-height:16px;\n\ttext-align:center\n}\n.filter-option-main{\n\tposition:absolute;\n\tleft:0;top:34px;\n\tborder:1px solid #dddee1;\n\tbackground:#fff;\n\tpadding:10px;\n\tborder-radius:4px;\n\twidth:320px;\n}\n.filter-foot h3{\n\ttext-align:center;\n\tcolor:#0982cd;\n\tborder-top:1px solid #dddee1;\n\tmargin-top:10px;\n\tcursor:pointer\n}\n"],sourceRoot:""}])},1460:function(t,e,a){var i=a(1372);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("3b3acd76",i,!0)},1579:function(t,e,a){a(1460);var i=a(10)(a(1279),a(1614),null,null);t.exports=i.exports},1614:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.handleClose,expression:"handleClose"}],staticClass:"filter-select-main"},[a("div",{staticClass:"filter-input",on:{click:function(e){t.selectToggle()}}},[a("span",[t._v("筛选")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.count>0,expression:"count>0"}],staticClass:"ml5 num"},[t._v(t._s(t.count))]),a("Icon",{staticClass:"ml10",attrs:{type:"arrow-down-b"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.togglevalue,expression:"togglevalue"}],staticClass:"filter-option-main"},[a("ul",[a("li",[a("h3",[t._v("客户归属")]),t._v(" "),a("Radio-group",{model:{value:t.filterData.account_belong,callback:function(e){t.$set(t.filterData,"account_belong",e)},expression:"filterData.account_belong"}},[a("Radio",{attrs:{label:""}},[a("span",[t._v("全部")])]),t._v(" "),a("Radio",{attrs:{label:"0"}},[a("span",[t._v("浙江未名公路港")])]),t._v(" "),a("Radio",{attrs:{label:"1"}},[a("span",[t._v("园外")])])],1)],1),t._v(" "),a("li",[a("h3",[t._v("价格类型")]),t._v(" "),a("CheckboxGroup",{model:{value:t.filterData.pm_for,callback:function(e){t.$set(t.filterData,"pm_for",e)},expression:"filterData.pm_for"}},[a("Checkbox",{attrs:{label:"0"}},[t._v("成员价")]),t._v(" "),a("Checkbox",{attrs:{label:"1"}},[t._v("公布价")]),t._v(" "),a("Checkbox",{attrs:{label:"2"}},[t._v("特定对象价")])],1)],1),t._v(" "),a("li",[a("h3",[t._v("生效状态")]),t._v(" "),a("CheckboxGroup",{model:{value:t.filterData.pm_state,callback:function(e){t.$set(t.filterData,"pm_state",e)},expression:"filterData.pm_state"}},[a("Checkbox",{attrs:{label:"0"}},[t._v("未生效")]),t._v(" "),a("Checkbox",{attrs:{label:"1"}},[t._v("已生效")]),t._v(" "),a("Checkbox",{attrs:{label:"2"}},[t._v("无效")]),t._v(" "),a("Checkbox",{attrs:{label:"3"}},[t._v("已过期")])],1)],1)]),t._v(" "),a("div",{staticClass:"filter-foot"},[a("h3",{on:{click:t.clearCondion}},[t._v("清空筛选条件")])])])])},staticRenderFns:[]}},1687:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contain-head"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasSelect,expression:"!hasSelect"}]},[a("i-select",{staticStyle:{width:"120px"},attrs:{size:"large"},on:{"on-change":t.loadList},model:{value:t.search.pm_pub,callback:function(e){t.$set(t.search,"pm_pub",e)},expression:"search.pm_pub"}},[a("i-option",{attrs:{value:""}},[t._v("全部")]),t._v(" "),a("i-option",{attrs:{value:"1"}},[t._v("已发布")]),t._v(" "),a("i-option",{attrs:{value:"2"}},[t._v("已作废")]),t._v(" "),a("i-option",{attrs:{value:"0"}},[t._v("草稿")])],1),t._v(" "),a("i-select",{staticStyle:{width:"120px"},attrs:{size:"large"},on:{"on-change":t.loadList},model:{value:t.search.order_by,callback:function(e){t.$set(t.search,"order_by",e)},expression:"search.order_by"}},[a("i-option",{attrs:{value:"create_time_up"}},[t._v("按添加时间升序")]),t._v(" "),a("i-option",{attrs:{value:"create_time_down"}},[t._v("按添加时间降序")]),t._v(" "),a("i-option",{attrs:{value:"liner_name"}},[t._v("按承运商排序")])],1),t._v(" "),a("top-filter-select",{ref:"refSearchFilter",staticClass:"ml10",on:{reload:t.filterSelectChange}}),t._v(" "),a("i-input",{staticStyle:{width:"150px"},attrs:{size:"large",placeholder:"请输入报价成员"},model:{value:t.search.liner_name,callback:function(e){t.$set(t.search,"liner_name",e)},expression:"search.liner_name"}}),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("搜索")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("添加价格")]),t._v(" "),a("i-button",{attrs:{type:"primary"},on:{click:t.loadMb}},[t._v("下载价格模版")])],1)]),t._v(" "),a("div",{staticClass:"contain-main"},[a("i-table",{attrs:{data:t.tableParams.list,columns:t.columns},on:{"on-selection-change":t.onSelectionChange,"on-row-click":t.detailModel}}),t._v(" "),a("div",{staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.tableParams.total,"show-sizer":"","show-elevator":"",current:t.currentPage},on:{"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1),t._v(" "),a("Modal",{attrs:{title:"模版下载",width:"420"},model:{value:t.mbModel,callback:function(e){t.mbModel=e},expression:"mbModel"}},[a("p",{staticClass:"mt10"},[t._v("您可以选择对应的模版进行填写：")]),t._v(" "),a("div",{staticClass:"mt10"},[a("a",{attrs:{href:t.host+"/api/utils/excel/route-price/demo?type=0"}},[t._v("整车报价模板")]),t._v(" "),a("a",{staticClass:"ml30",attrs:{href:t.host+"/api/utils/excel/route-price/demo?type=1"}},[t._v("零担报价模板")]),t._v(" "),a("a",{staticClass:"ml30",attrs:{href:t.host+"/api/utils/excel/route-price/demo?type=2"}},[t._v("零担分段报价模板")])])])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=37.8df0b98019fc9a010a3e.js.map