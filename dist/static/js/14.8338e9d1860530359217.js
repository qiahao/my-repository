webpackJsonp([14],{1129:function(e,t,r){r(1489);var i=r(10)(r(1333),r(1654),null,null);e.exports=i.exports},1160:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(152),r(69),r(61),r(1)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e){return function(t){function r(r,i,n){e.order.cargos[t].c_name&&!i?n(new Error("这是必填项")):n()}return[{validator:r}]}}function o(e){return function(t){function r(r,i,n){e.order.cargos[t].c_name?i?v.test(i)?n():n(new Error("请输入正整数")):n(new Error("这是必填项")):n()}return[{validator:r}]}}function l(e){return function(t){function r(r,i,n){e.order.cargos[t].c_name?i?b.test(i)?0>i||i>=100?n(new Error("请输入0-99.999的数字")):n():n(new Error("请输入数字")):"元/吨"==e.order.cargos[t].c_price_unit?n(new Error("请输入重量")):"元/件"!=e.order.cargos[t].c_price_unit||e.order.cargos[t].c_volume?n():n(new Error("输入重量或体积")):n()}return[{validator:r}]}}function _(e){return function(t){function r(r,i,n){e.order.cargos[t].c_name?i?b.test(i)?0>i||i>=1e3?n(new Error("请输入0-999.99的数字")):n():n(new Error("请输入数字")):"元/方"==e.order.cargos[t].c_price_unit?n(new Error("请输入体积")):"元/件"!=e.order.cargos[t].c_price_unit||e.order.cargos[t].c_weight?n():n(new Error("输入重量或体积")):n()}return[{validator:r}]}}function p(e){return function(t){function r(r,i,n){e.order.cargos[t].c_name?i?b.test(i)&&h.test(i)?i<0||i>1e4?n(new Error("请输入0到10000数字")):n():n(new Error("请输入数字，且小数不能超过2位")):n(new Error("请输入单价")):n()}return[{validator:r}]}}Object.defineProperty(e,"__esModule",{value:!0}),e.getBuildOrderParams=e.validateBackNums=e.validPayTotal=e.customerRule=e.truckTypeRule=e.curDateLimit=e.initOrder=e.orderDetail=e.orderDetailCargo=e.orderDetailPayDetails=e.orderDetailFeeDetails=e.payDetailTypes=e.feeDetailTypes=e.getFeeInit=e.proxy=e.getNumber=e.validFixed2Number=e.valideteTelPhone=e.historyCargoListParams=e.receiptListParams=e.linkListParams=e.customerListParams=e.projectListParams=e.intRge=e.num3Rge=e.num2Rge=e.numRge=e.telPhoneRge=void 0,e.validatePack=s,e.validateAmount=o,e.validateWeight=l,e.validateVolume=_,e.validatePrice=p;var d=a(t),c=a(r),u=a(i),f=a(n),m=e.telPhoneRge=/^\d{7,12}$/,b=e.numRge=/^\d*(\.\d+)?$/,h=e.num2Rge=/^\d*(\.\d{1,2})?$/,v=(e.num3Rge=/^\d*(\.\d{1,3})?$/,e.intRge=/^\d+$/),y=(e.projectListParams={page:1,page_size:10,partner_id:"",pm_bulk:"",pm_state:1,query_string:""},e.customerListParams={keyword:"",pcid:""},e.linkListParams={keyword:"",pcid:""},e.receiptListParams={keyword:"",pcid:""},e.historyCargoListParams={page:1,page_size:10,ship_id:"",c_keyword:""},e.valideteTelPhone=function(e,t,r){t||r(new Error("这是必填项")),m.test(t)?r():r(new Error("输入正确手机或电话号码"))}),g=(e.validFixed2Number=function(e,t,r){t&&!h.test(t)?r(new Error("请输入1到2位数字")):r()},e.getNumber=function(e){var t=0;return t=isNaN(parseFloat(e))?0:parseFloat(e),t=Math.round(100*t)/100+"",Number(t.replace(/\.00$/,""))}),k=(e.proxy=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;return e.bind(t)},e.getFeeInit=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i={};return e.forEach(function(e){t.includes(e.type)||(i[e.type]=r)}),i}),x=e.feeDetailTypes=[{type:"partner_fee_th",text:"提货费"},{type:"partner_fee_sh",text:"送货费"},{type:"partner_fee_smjz",text:"声明价值"},{type:"partner_fee_bj",text:"保价费"},{type:"partner_fee_bx",text:"保险费"},{type:"partner_fee_zx",text:"装卸费"},{type:"partner_fee_sl",text:"上楼费"},{type:"partner_fee_bz",text:"包装费"},{type:"partner_fee_az",text:"安装费"},{type:"partner_fee_bg",text:"保管费"},{type:"partner_fee_jc",text:"进仓费"},{type:"partner_fee_dshk",text:"代收货款"},{type:"partner_fee_dssx",text:"代收手续费"},{type:"partner_fee_qt",text:"其他"}],j=e.payDetailTypes=[{type:"partner_pay_cash",text:"现付"},{type:"partner_pay_arrive",text:"到付"},{type:"partner_pay_back",text:"回单付"},{type:"partner_pay_hdfk",text:"货到付款"},{type:"partner_pay_qfu",text:"欠付"},{type:"partner_pay_hkk",text:"货款扣"},{type:"partner_pay_month",text:"月结"},{type:"partner_pay_xfan",text:"现返"},{type:"partner_pay_qfan",text:"欠返"},{type:"partner_pay_dbf",text:"多笔付"}],w=e.orderDetailFeeDetails=k(x,[],""),C=e.orderDetailPayDetails=k(j,["partner_pay_dbf"],""),O=e.orderDetailCargo={c_name:"",c_pack:"",c_amount:"",c_weight:"",c_volume:"",c_price:"",c_price_unit:"元/吨"},A=e.orderDetail={shipper_order_no:"",shipper_remark:"",create_user_id:"",bulk_type:0,is_pickup:"N",is_delivery:"N",order_volumes:"",order_weights:"",cargos:[],cargos_remark:"",begin_code:"",begin_area:"",begin_lng:"0",begin_lat:"0",begin_address:"",begin_link_man:"",begin_link_mobile:"",end_code:"",end_area:"",end_lng:"0",end_lat:"0",end_address:"",end_link_man:"",end_link_mobile:"",fee_transport:"0",fee_details:{},pay_total:"0",pay_type:"partner_pay_cash",pay_details:{},back_type:"no",back_type_other:"",back_nums:"0",is_kzj:"Y",send_company:"",receive_company:"",expect_arrive_days:"",prj_id:"",is_speed:"N",special_req:"",req_truck_type:"",req_truck_length:"",send_msg_phone_no:"",order_create_time:""},L=(e.initOrder=function(){var e=(0,u.default)({},A),t=[];e.fee_details=(0,u.default)({},w),e.pay_details=(0,u.default)({},C);for(var r=0;r<3;r++)t[r]=(0,u.default)({},O);return e.cargos=t,e.order_create_time=new Date,e},e.curDateLimit=function(e,t,r){"object"==(void 0===t?"undefined":(0,c.default)(t))&&(new Date).valueOf()<=t.valueOf()?r(new Error("不能选将来时间")):r()});e.truckTypeRule=function(e){return function(t,r,i){1!=this.order.bulk_type||r?i():i(new Error(e))}},e.customerRule={begin_code:{required:!0,message:"这是必填项",trigger:"change"},end_code:{required:!0,message:"这是必填项",trigger:"change"},send_company:{required:!0,message:"这是必填项",trigger:"change"},begin_link_man:{required:!0,message:"这是必填项",trigger:"change"},end_link_man:{required:!0,message:"这是必填项",trigger:"change"},begin_link_mobile:{validator:y,trigger:"change"},end_link_mobile:{validator:y,trigger:"change"},begin_address:{required:!0,message:"这是必填项"},end_address:{required:!0,message:"这是必填项"},shipper_order_no:{max:20,message:"长度不能超过20字符"},order_create_time:[{required:!0,message:"这是必填项"},{validator:L}]},e.validPayTotal=function(e,t,r){var i=0;for(var n in this.order.pay_details)i+=g(this.order.pay_details[n]);i!=this.order.pay_total?r(new Error("合计费用与付款总额不相等")):r()},e.validateBackNums=function(e,t,r){"no"!=this.order.back_type?void 0===t||""===t?r(new Error("不能为空")):!v.test(t)||t<0||t>9?r(new Error("请输入0到9的整数")):r():r()},e.getBuildOrderParams=function(e){var t=(0,u.default)({},e);return t.order_create_time=(0,f.default)(t.order_create_time).format("YYYY-MM-DD HH:mm:ss"),t.fee_details=(0,d.default)(t.fee_details),delete t.pay_details.partner_pay_dbf,t.pay_details=(0,d.default)(t.pay_details),t.cargos=(0,d.default)(t.cargos.filter(function(e){return e.c_name})),t}})},1165:function(e,t,r){(function(i){var n,a,s;!function(i,o){a=[t,r(24),r(61),r(86),r(52)],n=o,void 0!==(s="function"==typeof n?n.apply(t,a):n)&&(e.exports=s)}(0,function(e,t,r,n,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var o=s(t),l=s(r),_="http://wx.yunba.com/tms/order/qrcode/img?order_no=",p={c_price_unit:"",c_name:"",c_pack:"",c_amount:"",c_volume:"",c_weight:"",c_price:""},d={partner_pay_arrive:"到付",partner_pay_back:"回单付",partner_pay_cash:"现付现金",partner_pay_hkk:"货款扣",partner_pay_month:"月结",partner_pay_dbf:"多笔付",partner_pay_qfan:"欠返",partner_pay_qfu:"欠付",partner_pay_xfan:"现返",partner_pay_hdfk:"货到打款"};e.default={data:function(){return{printObj:{order_no:"",qrcode_src:"",create_time:"",begin_area:"",end_area:"",begin_link_man:"",begin_link_mobile:"",send_company:"",begin_address:"",begin_province:"",begin_city:"",begin_county:"",end_link_man:"",end_link_mobile:"",receive_company:"",end_address:"",end_province:"",end_city:"",end_county:"",cargo1:{},cargo2:{},cargo3:{},fee_transport:"",fee_details:{},cargos:[],fee_qt:"",pay_total:"",is_pickup:"N",is_delivery:"N",pay_type:""},styleData:[{id:"j_barcode-img",class:"j_barcode-img"},{id:"j_barcode-s-img",class:"j_barcode-s-img"},{id:"js_print_order_no",style:"left: 260px; top: 100px;font-size:20px !important;"},{id:"js_print_date",style:"left: 652px; top: 42px;"},{id:"js_print_begin_area",style:"left: 630px; top: 98px;"},{id:"js_print_end_area",style:"left: 715px; top: 98px;"},{id:"js_print_begin_link_man",style:"left: 140px; top: 165px;"},{id:"js_print_begin_link_mobile",style:"left: 270px; top: 165px;"},{id:"js_print_send_company",style:"left: 145px; top: 195px; width: 200px;"},{id:"js_print_begin_province",style:"left: 142px; top: 225px; width: 50px; text-align: center;"},{id:"js_print_begin_city",style:"left: 202px; top: 225px; width: 60px; text-align: center"},{id:"js_print_begin_county",style:"left: 275px; top: 225px;width: 60px; text-align: center"},{id:"js_print_begin_address",style:"left: 102px; top: 254px;line-height:16px width: 250px"},{id:"js_print_end_link_man",style:"left: 133px; top: 325px;"},{id:"js_print_end_link_mobile",style:"left: 269px; top: 325px;"},{id:"js_print_receive_company",style:"left: 145px; top: 350px; width: 200px"},{id:"js_print_end_province",class:"w50",style:"left: 142px; top: 386px; width: 50px; text-align: center;"},{id:"js_print_end_city",style:"left: 202px; top: 386px;width: 60px; text-align: center;"},{id:"js_print_end_county",style:"left: 272px; top: 386px; width: 60px; text-align: center;"},{id:"js_print_end_address",style:"left: 102px; top: 412px;line-height:16px"},{id:"js_print_c_name1",style:"left: 400px; top: 195px;"},{id:"js_print_c_amount1",style:"left: 490px; top: 195px; "},{id:"js_print_c_pack1",style:"left: 530px; top: 195px; "},{id:"js_print_c_weight1",style:"left: 575px; top: 195px;"},{id:"js_print_c_volume1",style:"left: 625px; top: 195px;"},{id:"js_print_c_name2",style:"left: 400px; top: 224px;"},{id:"js_print_c_amount2",style:"left: 490px; top: 224px; "},{id:"js_print_c_pack2",style:"left: 530px; top: 224px; "},{id:"js_print_c_weight2",style:"left: 575px; top: 224px;"},{id:"js_print_c_volume2",style:"left: 625px; top: 224px;"},{id:"js_print_c_name3",style:"left: 400px; top: 255px;"},{id:"js_print_c_amount3",style:"left: 490px; top: 255px; "},{id:"js_print_c_pack3",style:"left: 530px; top: 255px; "},{id:"js_print_c_weight3",style:"left: 575px; top: 255px;"},{id:"js_print_c_volume3",style:"left: 625px; top: 255px;"},{id:"js_print_fee_sh",style:"left: 520px; top: 315px;"},{id:"js_print_fee_th",style:"left: 610px; top: 315px;"},{id:"js_print_fee_smjz",style:"left: 440px; top: 340px;"},{id:"js_print_fee_dshk",style:"left: 570px; top: 365px;"},{id:"js_print_fee_dssx",style:"left: 440px; top: 365px;"},{id:"js_print_fee_transport",style:"left: 430px; top: 315px;"},{id:"js_print_fee_qt",style:"left: 440px; top: 390px;"},{id:"js_print_pay_total",style:"left: 570px; top: 384px; line-height: 1.1"},{id:"js_print_pay_type",style:"left: 570px; top: 415px;"},{id:"js_print_insurance_premium",style:"left: 610px; top: 340px;text-align:center"},{id:"js_print_insurance_coverage",style:"left: 520px; top: 340px;text-align:center"},{id:"js_print_is_pickup",style:"left: 423px; top: 416px;"},{id:"js_print_is_delivery",style:"left: 483px; top: 416px;"},{id:"js_print_shipper_remark",class:"w100",style:"left: 685px; top: 317px; width: 100px"},{id:"js_print_back_type",style:"left: 700px; top: 392px; width: 90px"}]}},filters:{areaFilter:function(e){if(!e)return"";var t=e.split("-"),r=e.split(" "),i=t.length,n=r.length;return i==n==1?t[0]:1==i?r[n-1]:1==n?t[i-1]:e},filterPayType:function(e){return d[e]}},computed:(0,l.default)({},(0,n.mapState)(["userInfo"]),{payTotalCapital:function(){var e=this.printObj.pay_total||0;return(0,a.numberToWords)(e)},backInfo:function(){var e=["0","1","2","3","4"],t={0:"回执",1:"原单",2:"收条",3:"电子回单",4:"其它",NO:"没有回单"};return e.includes(this.printObj.back_type)?t[""+this.printObj.back_type]+" "+(this.printObj.back_nums||0)+"份":t.NO},isXHS:function(){return"cd9bbbb2-80d5-42f0-9696-dcddf49588d3"==this.userInfo.company_id},isXHSFeeHide:function(){return this.isXHS&&"partner_pay_dbf"==this.printObj.pay_type}}),methods:{initPrint:function(){var e=this,t=this,r=["js_print_order_no","js_print_begin_link_man","js_print_begin_link_mobile","js_print_send_company","js_print_begin_province","js_print_begin_city","js_print_begin_county","js_print_begin_address"];this.$nextTick(function(){e.$nextTick(function(){e.styleData.forEach(function(e){t.isXHS&&r.includes(e.id)?i("#"+e.id).attr("style","display: none"):i("#"+e.id).attr("style",e.style)})})})},fillPrint:function(e){var t=this;this.printObj=function(e){var t=(0,o.default)({},e);"string"==typeof t.fee_details&&(t.fee_details=JSON.parse(e.fee_details||"{}"),t.pay_details=JSON.parse(e.pay_details||"{}")),"string"==typeof t.cargos&&(t.cargos=JSON.parse(e.cargos||"[]")),t.cargos&&t.cargos instanceof Array||(t.cargos=[]);var r=t.cargos.length,i=3-r;if(i>0)for(var n=0;n<i;n++)t.cargos.push((0,l.default)({},p));return t.qrcode_src=_+t.order_no,console.log("this.printObj.pay_type",t.pay_type),t}(e),this.printObj.cargo1=this.printObj.cargos[0]||{},this.printObj.cargo2=this.printObj.cargos[1]||{},this.printObj.cargo3=this.printObj.cargos[2]||{};var r=this.printObj.begin_area.split("-"),i=t.printObj.end_area.split("-");this.printObj.begin_province=r[0],this.printObj.begin_city=r[1],this.printObj.begin_county=r[2],this.printObj.end_province=i[0],this.printObj.end_city=i[1],this.printObj.end_county=i[2];var n=0;n+=this.printObj.fee_details.partner_fee_az?parseFloat(this.printObj.fee_details.partner_fee_az):0,n+=this.printObj.fee_details.partner_fee_bg?parseFloat(this.printObj.fee_details.partner_fee_bg):0,n+=this.printObj.fee_details.partner_fee_bz?parseFloat(this.printObj.fee_details.partner_fee_bz):0,n+=this.printObj.fee_details.partner_fee_jc?parseFloat(this.printObj.fee_details.partner_fee_jc):0,n+=this.printObj.fee_details.partner_fee_qt?parseFloat(this.printObj.fee_details.partner_fee_qt):0,n+=this.printObj.fee_details.partner_fee_sl?parseFloat(this.printObj.fee_details.partner_fee_sl):0,n+=this.printObj.fee_details.partner_fee_zx?parseFloat(this.printObj.fee_details.partner_fee_zx):0,this.printObj.fee_qt=n}},watch:{printDatas:{handler:function(e,t){this.fillPrint(this.printDatas)},deep:!0}},mounted:function(){var e=this;this.initPrint(),this.$on("do-print-order",function(t){e.fillPrint(t),setTimeout(function(){(0,a.print)(e.$el)},300)})}}})}).call(t,r(151))},1169:function(e,t,r){var i,n,a;!function(r,s){n=[t],i=s,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e){"use strict";function t(e){var t=e;return[{type:"selection",width:60,align:"center"},{title:"对账单名称",key:"finance_name",width:150,render:function(e,r){return e("span",{class:"text-link",on:{click:function(){t.handlerRedirectDetail(r.row.finance_id)}}},[r.row.finance_name])}},{title:"核销状态",key:"finance_status",width:80,render:function(e,t){return e("span",a[t.row.finance_status])}},{title:"对账单编号",key:"finance_no",width:160},{title:"对账对象",key:"finance_obj",width:150},{title:"应收金额",key:"finance_income",width:80},{title:"实收金额",key:"finance_income_already",width:80},{title:"未核销金额",key:"finance_income_un",width:80},{title:"应付金额",key:"finance_pay",width:80},{title:"实付金额",key:"finance_pay_already",width:80},{title:"未核销金额",key:"finance_pay_un",width:80},{title:"核销人",key:"create_name",width:150},{title:"生成时间",key:"create_time",width:150},{title:"核销时间",key:"finance_time",width:150}]}function r(e){return[{title:"运单号/车次号",key:"orderno_tripno",width:150},{title:"收付类型",key:"feepay_type",width:150,render:function(e,t){return e("span","0"==t.row.feepay_type?"支出":"收入")}},{title:"费用金额",key:"money",width:150},{title:"费用类型",key:"fee_type",width:150},{title:"对象",key:"pay_object",width:150},{title:"客户名称",key:"partner_name",width:150},{title:"起始地",key:"begin_area",width:150},{title:"目的地",key:"end_area",width:150},{title:"发货人信息",key:"begin_link",width:150},{title:"收货人信息",key:"end_link",width:150},{title:"货物",key:"cargos",width:150,render:function(e,t){return e("span",t.row.cargos.map(function(e){return e.c_name}).join(","))}},{title:"挂账时间",key:"general_time",width:160},{title:"开单时间",key:"order_create_time",width:160}]}function i(e){return[].concat(o)}function n(e){var t=[].concat(o);return t.unshift(s),t}Object.defineProperty(e,"__esModule",{value:!0}),e.getCulomns=t,e.getDetailCulomns=r,e.getVerificationRecordColumns=i,e.getVerificationRecordSelectionColumns=n;var a=e.billStatusMap={N:"未核销",D:"部分核销",Y:"已核销"},s=(e.billStatusMapList=[{status:"",label:"全部"},{status:"N",label:"未核销"},{status:"D",label:"部分核销"},{status:"Y",label:"已核销"}],e.query={finance_status:"",create_time_begin:"",create_time_end:"",keyword:""},e.columnsSeletionType={type:"selection",width:60,align:"center"}),o=e.VerificationColumns=[{title:"核销时间",key:"record_time",width:150},{title:"应收金额",key:"income_all",width:150},{title:"本次应收核销",key:"income_now",width:150},{title:"应付金额",key:"pay_all",width:150},{title:"本次应付核销",key:"pay_now",width:150},{title:"核销人",key:"record_name",width:150},{title:"其他",key:"record_status",width:150,render:function(e,t){return e("span","N"==t.row.record_status?"已反向核销":"")}},{title:"核销备注",key:"record_remark",width:150},{title:"财务记账号",key:"pay_no",width:150}]})},1178:function(e,t,r){t=e.exports=r(1083)(),t.push([e.i,"","",{version:3,sources:[],names:[],mappings:"",file:"print.vue",sourceRoot:""}])},1181:function(e,t,r){var i=r(1178);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r(1084)("2e80434e",i,!0)},1185:function(e,t,r){r(1181);var i=r(10)(r(1165),r(1186),null,null);e.exports=i.exports},1186:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"print-area",staticStyle:{width:"23cm",position:"fixed",height:"12.7cm",left:"0px"}},[r("div",{staticClass:"print-content"},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.isXHS,expression:"!isXHS"}],staticClass:"j_barcode-img",attrs:{id:"j_barcode-img"}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.isXHS,expression:"!isXHS"}],staticClass:"j_barcode-s-img",attrs:{id:"qrcode"}},[r("img",{attrs:{id:"qrcodeImg",src:e.printObj.qrcode_src}}),e._v(" "),r("div",{staticStyle:{position:"relative",top:"-10px",color:"#000"}},[e._v("扫码查单")])]),e._v(" "),r("span",{attrs:{id:"js_print_order_no"}},[e._v(" "+e._s("运单号："+e.printObj.order_no))]),e._v(" "),r("span",{attrs:{id:"js_print_date"}},[e._v(e._s(e.printObj.create_time))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_area"}},[e._v(e._s(e._f("areaFilter")(e.printObj.begin_area)))]),e._v(" "),r("span",{attrs:{id:"js_print_end_area"}},[e._v(e._s(e._f("areaFilter")(e.printObj.end_area)))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_link_man"}},[e._v(e._s(e.printObj.begin_link_man))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_link_mobile"}},[e._v(e._s(e.printObj.begin_link_mobile))]),e._v(" "),r("span",{attrs:{id:"js_print_send_company"}},[e._v(e._s(e.printObj.send_company))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_province"}},[e._v(e._s(e.printObj.begin_province))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_city"}},[e._v(e._s(e.printObj.begin_city))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_county"}},[e._v(e._s(e.printObj.begin_county))]),e._v(" "),r("span",{attrs:{id:"js_print_begin_address"}},[e._v(e._s(e.printObj.begin_address))]),e._v(" "),r("span",{attrs:{id:"js_print_end_link_man"}},[e._v(e._s(e.printObj.end_link_man))]),e._v(" "),r("span",{attrs:{id:"js_print_end_link_mobile"}},[e._v(e._s(e.printObj.end_link_mobile))]),e._v(" "),r("span",{attrs:{id:"js_print_receive_company"}},[e._v(e._s(e.printObj.receive_company))]),e._v(" "),r("span",{attrs:{id:"js_print_end_province"}},[e._v(e._s(e.printObj.end_province))]),e._v(" "),r("span",{attrs:{id:"js_print_end_county"}},[e._v(e._s(e.printObj.end_county))]),e._v(" "),r("span",{attrs:{id:"js_print_end_address"}},[e._v(e._s(e.printObj.end_address))]),e._v(" "),r("span",{attrs:{id:"js_print_end_city"}},[e._v(e._s(e.printObj.end_city))]),e._v(" "),r("span",{attrs:{id:"js_print_c_name1"}},[e._v(e._s(e.printObj.cargo1.c_name))]),e._v(" "),r("span",{attrs:{id:"js_print_c_amount1"}},[e._v(e._s(e.printObj.cargo1.c_amount))]),e._v(" "),r("span",{attrs:{id:"js_print_c_pack1"}},[e._v(e._s(e.printObj.cargo1.c_pack))]),e._v(" "),r("span",{attrs:{id:"js_print_c_weight1"}},[e._v(e._s(e.printObj.cargo1.c_weight))]),e._v(" "),r("span",{attrs:{id:"js_print_c_volume1"}},[e._v(e._s(e.printObj.cargo1.c_volume))]),e._v(" "),r("span",{attrs:{id:"js_print_c_name2"}},[e._v(e._s(e.printObj.cargo2.c_name))]),e._v(" "),r("span",{attrs:{id:"js_print_c_amount2"}},[e._v(e._s(e.printObj.cargo2.c_amount))]),e._v(" "),r("span",{attrs:{id:"js_print_c_pack2"}},[e._v(e._s(e.printObj.cargo2.c_pack))]),e._v(" "),r("span",{attrs:{id:"js_print_c_weight2"}},[e._v(e._s(e.printObj.cargo2.c_weight))]),e._v(" "),r("span",{attrs:{id:"js_print_c_volume2"}},[e._v(e._s(e.printObj.cargo2.c_volume))]),e._v(" "),r("span",{attrs:{id:"js_print_c_name3"}},[e._v(e._s(e.printObj.cargo3.c_name))]),e._v(" "),r("span",{attrs:{id:"js_print_c_amount3"}},[e._v(e._s(e.printObj.cargo3.c_amount))]),e._v(" "),r("span",{attrs:{id:"js_print_c_pack3"}},[e._v(e._s(e.printObj.cargo3.c_pack))]),e._v(" "),r("span",{attrs:{id:"js_print_c_weight3"}},[e._v(e._s(e.printObj.cargo3.c_weight))]),e._v(" "),r("span",{attrs:{id:"js_print_c_volume3"}},[e._v(e._s(e.printObj.cargo3.c_volume))]),e._v(" "),r("span",{attrs:{id:"js_print_fee_transport"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_transport))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_sh"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_sh))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_th"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_th))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_smjz"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_smjz))])]),e._v(" "),r("span",{attrs:{id:"js_print_insurance_coverage"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_bj))])]),e._v(" "),r("span",{attrs:{id:"js_print_insurance_premium"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_bx))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_dshk"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_dshk))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_dssx"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_details.partner_fee_dssx))])]),e._v(" "),r("span",{attrs:{id:"js_print_fee_qt"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.fee_qt))])]),e._v(" "),r("span",{attrs:{id:"js_print_pay_total"}},[e.isXHSFeeHide?e._e():r("div",[e._v(e._s(e.printObj.pay_total)),r("br"),e._v(e._s(e.payTotalCapital))])]),e._v(" "),r("span",{attrs:{id:"js_print_is_pickup"}},[e._v(e._s("N"==e.printObj.is_delivery?"v":""))]),e._v(" "),r("span",{attrs:{id:"js_print_is_delivery"}},[e._v(e._s("Y"==e.printObj.is_delivery?"v":""))]),e._v(" "),r("span",{attrs:{id:"js_print_pay_type"}},[e._v("\n                "+e._s(e._f("filterPayType")(e.printObj.pay_type))+"\n                "),e.isXHSFeeHide&&e.printObj.pay_details.partner_pay_arrive?r("b",[e._v("到付:"+e._s(e.printObj.pay_details.partner_pay_arrive)+" 元")]):e._e()]),e._v(" "),r("span",{attrs:{id:"js_print_shipper_remark"}},[e._v(e._s(e.printObj.shipper_remark))]),e._v(" "),r("span",{attrs:{id:"js_print_back_type"}},[e._v(e._s(e.backInfo))])])])])},staticRenderFns:[]}},1333:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(24),r(61),r(101),r(1185),r(86),r(103),r(120),r(1160),r(1364),r(1365),r(1366),r(1367),r(1368)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i,n,a,s,o,l,_,p,d,c,u){"use strict";function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var m=f(t),b=f(r),h=f(i),v=f(n),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(l),g=f(_),k=f(p),x=f(d),j=f(c),w=f(u);Math.round;e.default={name:"v2BuildOrder",data:function(){return{printData:{},buildOrderForm:null,order:y.initOrder(),orderRule:{},buildButtonLoading:!1,buildAndPrintButtonLoading:!1,isSpeed:!1,isPickup:!1,isDelivery:!1}},components:{orderPrint:v.default},mixins:[h.default,g.default,k.default,x.default,j.default,w.default],computed:(0,b.default)({},(0,a.mapState)(["userInfo"])),watch:{isSpeed:function(e){this.order.is_speed=e?"Y":"N"},isPickup:function(e){this.order.is_pickup=e?"Y":"N"},isDelivery:function(e){this.order.is_delivery=e?"Y":"N"}},methods:{doBuild:function(){this.buildButtonLoading||this.buildAndPrintButtonLoading||(this.buildButtonLoading=!0,this.buildOrder(1))},doBuildAndPrint:function(){this.buildButtonLoading||this.buildAndPrintButtonLoading||(this.buildAndPrintButtonLoading=!0,this.buildOrder(2))},handlerCancelBuild:function(){this.order=y.initOrder(),this.buildOrderForm.resetFields()},printOrder:function(e){this.printData=(0,m.default)(e,JSON.parse(e.fee_details)),this.printData.create_time=o.fmt.dateFormat(new Date),this.$refs.orderPint.$emit("do-print-order",this.printData)},buildOrder:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.buildOrderForm.validate(function(r){if(r){if(e.order.cargos.some(function(e){return!!e.c_name})){var i=y.getBuildOrderParams(e.order),n=i.begin_address.split("$"),a=i.end_address.split("$");i.end_address=a[0],i.end_lng=a[1],i.end_lat=a[2],i.begin_address=n[0],i.begin_lng=n[1],i.begin_lat=n[2],i.create_user_id=e.userInfo.user_id,e.$api.order.createOrderOwn(i).then(function(r){1!=t&&e.printOrder(i),e.isSpeed=!1,e.isPickup=!1,e.isDelivery=!1,e.order=y.initOrder(),e.buildOrderForm.resetFields(),e.order.order_create_time=o.fmt.dateFormat(new Date),e.$Message.info(r.resultInfo),e.order.end_address="",e.setButtonLoading()}).catch(function(t){e.setButtonLoading()})}else e.$Message.error("请填写一条有效货物"),e.setButtonLoading()}else e.setButtonLoading()})},setButtonLoading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case 1:this.buildButtonLoading=t;break;case 2:this.buildAndPrintButtonLoading=t;break;default:this.buildButtonLoading=t,this.buildAndPrintButtonLoading=t}}},mounted:function(){this.buildOrderForm=this.$refs.buildOrderForm},activated:function(){this.order.order_create_time=o.fmt.dateFormat(new Date)}}})},1364:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(24),r(61),r(489),r(1160)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var s=a(t),o=a(r),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);e.default={data:function(){return{util:{projectListLoading:!1,projectListParams:(0,o.default)({},l.projectListParams),projectList:[],curProject:null}}},watch:{"order.prj_id":function(e,t){if(e){for(var r=0,i=this.util.projectList.length;r<i;r++)if(this.util.projectList[r].prj_id==this.order.prj_id){this.util.curProject=this.util.projectList[r];break}}else this.util.curProject=null}},methods:{getProjectList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.default)({},this.util.projectListParams,t);this.util.projectListLoading=!0,(0,i.getProjectList)(r).then(function(t){e.util.projectListLoading=!1,e.util.projectList=t.resultObj?t.resultObj.list:[]})},projectListRemote:function(e){this.getProjectList({query_string:e})}},activated:function(){this.getProjectList()}}})},1365:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(24),r(61),r(86),r(491),r(489),r(1160),r(120),r(1169)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i,n,a,s,o,l){"use strict";function _(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var p=_(t),d=_(r),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(s);e.default={data:function(){return{util:{customerListParams:(0,d.default)({},c.customerListParams),customerList:[],curCustomer:null,linkListParams:(0,d.default)({},c.linkListParams),receiptListParams:(0,d.default)({},c.receiptListParams),linkNameList:[],linkPhoneList:[],receiptNameList:[],receipPhonetList:[],truckTypeList:[],truckLengthList:[],timeOption:{disabledDate:function(e){return e&&e.valueOf()>Date.now()}},provinceOption:{"change-on-select":!0}},orderRule:(0,d.default)({},c.customerRule,{req_truck_type:{validator:c.proxy(c.truckTypeRule("车型不能为空"),this)},req_truck_length:{validator:c.proxy(c.truckTypeRule("车长不能为空"),this)}})}},computed:{},watch:{"util.curProject":function(e,t){e?(this.order.send_company=e.partner_name,this.util.customerListParams.keyword=this.order.send_company,this.util.customerListParams.pcid=e.partner_id,this.getCustomerList()):(this.util.customerListParams.pcid="",this.util.customerListParams.keyword=this.order.send_company,this.getCustomerList())},"util.curCustomer":function(e,t){e?(this.util.linkNameList=e.link_list||[],this.util.linkPhoneList=e.link_list||[],this.util.receiptNameList=e.receipt_list||[],this.util.receiptPhoneList=e.receipt_list||[]):(this.linkNameChangeHandler(this.order.begin_link_man),this.linkPhoneChangeHandler(this.order.begin_link_mobile),this.receiptClickHandler(this.order.end_link_man),this.receiptNameChangeHandler(this.order.end_link_mobile))},"util.customerList":{handler:function(e,t){var r=this;this.$nextTick(function(){r.$refs.customerRef.checkSelect()})},deep:!0},"order.bulk_type":function(e,t){"1"!=e&&(this.order.req_truck_type="",this.order.req_truck_length="")},"order.order_create_time":function(e,t){var r=void 0,i=void 0,n=void 0,a=void 0,s="00:00:00";e&&(r=o.fmt.date(e).split(" "),i=r[0],r[1],t&&(n=o.fmt.date(t).split(" "),a=n[0],s=n[1]),i!=a&&(this.order.order_create_time=[i,s].join(" ")))}},methods:(0,d.default)({},(0,i.mapActions)(["getTruckTypes","getTruckLengths"]),{getCustomerList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,p.default)({},this.util.customerListParams,t);(0,n.getPartnerAll)(r).then(function(t){e.util.customerList=t.resultObj&&t.resultObj.length>10?t.resultObj.slice(0,10):t.resultObj,r.pcid?e.util.curCustomer=t.resultObj?t.resultObj[0]:null:e.util.curCustomer=null})},customerChangeHandler:function(e){this.getCustomerList({keyword:e})},customerSelectHandler:function(e,t){this.util.curCustomer=t,t&&t.link_list&&t.link_list.length&&(this.order.begin_code=t.link_list[0].link_area_code,this.order.begin_area=t.link_list[0].link_area),t&&t.receipt_list&&t.receipt_list.length&&(this.order.end_code=t.receipt_list[0].receipt_area_code,this.order.end_area=t.receipt_list[0].receipt_area)},getLinkList:function(e,t){var r=this,i={keyword:e};(0,n.getLinkListAll)(i).then(function(e){"function"==typeof t&&t.call(r,e.resultObj)})},linkClickHandler:function(e){this.order.begin_link_man=e.link_name,this.order.begin_link_mobile=e.link_mobile,this.order.begin_address=e.link_address},linkNameChangeHandler:function(e){var t=this;this.util.curCustomer||this.getLinkList(e,function(e){t.util.linkNameList=e&&e.length>10?e.slice(0,10):e||[]})},linkPhoneChangeHandler:function(e){var t=this;this.util.curCustomer||this.getLinkList(e,function(e){t.util.linkPhoneList=e&&e.length>10?e.slice(0,10):e||[]})},getReceiptList:function(e,t){var r=this,i={keyword:e};(0,n.getReceiptListAll)(i).then(function(e){"function"==typeof t&&t.call(r,e.resultObj)})},receiptClickHandler:function(e){e&&(this.order.end_link_man=e.receipt_username,this.order.end_link_mobile=e.receipt_mobile,this.order.end_address=e.receipt_address)},receiptNameChangeHandler:function(e){var t=this;this.util.curCustomer||this.getReceiptList(e,function(e){t.util.receiptNameList=e&&e.length>10?e.slice(0,10):e||[]})},receiptPhoneChangeHandler:function(e){var t=this;this.util.curCustomer||this.getReceiptList(e,function(e){t.util.receiptPhoneList=e&&e.length>10?e.slice(0,10):e||[]})},beginAreaChangeHandler:function(e){this.order.begin_code=e.split("$")[0],this.order.begin_area=e.split("$")[1]||this.order.begin_area},endAreaChangeHandler:function(e){this.order.end_code=e.split("$")[0],this.order.end_area=e.split("$")[1]||this.order.end_area}}),activated:function(){var e=this;this.getCustomerList(),this.getLinkList(),this.getReceiptList(),this.getTruckTypes().then(function(t){e.util.truckTypeList=t}),this.getTruckLengths().then(function(t){e.util.truckLengthList=t})},mounted:function(){}}})},1366:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(61),r(86),r(498),r(1160)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(e){return e&&e.__esModule?e:{default:e}}(t),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(n);e.default={data:function(){return{util:{historyCargoListParams:(0,a.default)({},s.historyCargoListParams),historyCargoList:[],historyCargoPacks:[]},orderRule:{cargos:{c_pack:(0,n.validatePack)(this),c_amount:(0,n.validateAmount)(this),c_weight:(0,n.validateWeight)(this),c_volume:(0,n.validateVolume)(this),c_price:(0,n.validatePrice)(this)}}}},computed:{totalFeeTransport:function(){var e=0,t=0,r=0;return this.order.cargos.forEach(function(i){switch(i.c_name&&(t+=s.getNumber(i.c_weight),r+=s.getNumber(i.c_volume)),i.c_price_unit){case"元/吨":e+=s.getNumber(i.c_weight)*s.getNumber(i.c_price);break;case"元/件":e+=s.getNumber(i.c_amount)*s.getNumber(i.c_price);break;case"元/方":e+=s.getNumber(i.c_volume)*s.getNumber(i.c_price)}}),this.order.order_weights=Math.round(1e3*t)/1e3,this.order.order_volumes=Math.round(100*r)/100,s.getNumber(e)}},watch:{"util.curCustomer":function(e,t){this.util.historyCargoListParams.ship_id=e?e.pcid:"",this.getCargosList()}},methods:(0,a.default)({},(0,r.mapActions)(["getCargoPacks"]),{getCargosList:function(){var e=this;(0,i.getCargosList)(this.util.historyCargoListParams).then(function(t){e.util.historyCargoList=t.resultObj})},selectCargoHandler:function(e,t){e.c_amount=t.c_amount,e.c_name=t.c_name,e.c_pack=t.c_pack,e.c_price=t.c_price,e.c_price_unit=t.c_price_unit,e.c_volume=t.c_volume,e.c_weight=t.c_weight},volumeCacl:function(e){var t=e.c_volume||"",r=t.split("*");if(3==r.length&&!r.some(function(e){return isNaN(Number(e))})){var i=Math.round(100*r.reduce(function(e,t){return e*t}))/100+"";e.c_volume=i.replace(/\.00$/,"")}}}),activated:function(){this.getCargosList();var e=this;e.getCargoPacks().then(function(t){e.util.historyCargoPacks=t})}}})},1367:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(150),r(1160),r(52)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t,r,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(t),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r);e.default={data:function(){return{util:{moreFee:!1,feeDetailTypes:(0,n.default)(a.feeDetailTypes),payDetailTypes:(0,n.default)(a.payDetailTypes)},orderRule:{fee_transport:[{required:!0,message:"运费必填"},{validator:a.validFixed2Number,trigger:"blur"}],pay_total:{validator:a.proxy(a.validPayTotal,this),trigger:"none"},validFixed2Number:{validator:a.validFixed2Number,trigger:"blur"}}}},computed:{totalFee:function(){var e=a.getNumber(this.order.fee_transport),t=[this.order.fee_transport],r=["partner_fee_smjz","partner_fee_dshk"];if(this.util.moreFee){for(var n in this.order.fee_details)r.includes(n)||t.push(this.order.fee_details[n]);e=i.addFloat.apply(null,t)}return e}},watch:{totalFeeTransport:function(e,t){this.order.fee_transport=e},totalFee:function(e,t){this.order.pay_total=e,"partner_pay_dbf"!=this.order.pay_type&&(this.order.pay_details[this.order.pay_type]=e)}},methods:{showMoreFee:function(){this.util.moreFee=!this.util.moreFee},changePayTypeHandler:function(e){for(var t in this.order.pay_details)t!=e&&(this.order.pay_details[t]="");this.order.pay_details[e]="partner_pay_dbf"==e?"":"0"!=this.order.pay_total?this.order.pay_total:""}},created:function(){}}})},1368:function(e,t,r){var i,n,a;!function(s,o){n=[t,r(1160)],i=o,void 0!==(a="function"==typeof i?i.apply(t,n):i)&&(e.exports=a)}(0,function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(t);e.default={data:function(){return{util:{},orderRule:{back_nums:{validator:r.proxy(r.validateBackNums,this)}}}},watch:{"order.back_type":function(e,t){4!=e&&(this.order.back_type_other="")}}}})},1401:function(e,t,r){t=e.exports=r(1083)(),t.push([e.i,".build-order{background:#f9fafc}.build-order .title{font-size:16px;line-height:32px;color:#4a4a4a}.build-order .build-main{width:1115px!important;margin:15px auto 0;padding:15px;box-shadow:2px 2px 1px 0 rgba(0,0,0,.1);background:#fff}.build-order .fee-drop{line-height:32px;padding:0 16px}.build-order .fee-drop .ivu-icon-arrow-down-b{float:right;margin-top:10px}.build-order .car-select{display:inline-block;width:200px;margin-right:30px}.build-order .price,.build-order .price-unit{float:left;display:inline-block}.build-order .price{width:60%}.build-order .price-unit{width:40%}.build-order .back-nums,.build-order .back-type,.build-order .back-type-other{display:inline-block}.build-order .back-type-other input{width:100px}.build-order .back-nums .ivu-input-wrapper{display:inline-block;width:40px}.build-order .back-nums input{text-align:center}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/waybill/v2/build/style.scss"],names:[],mappings:"AACA,aACE,kBAAoB,CACrB,AACD,oBACI,eAAgB,AAChB,iBAAkB,AAClB,aAAe,CAClB,AACD,yBACI,uBAAyB,AACzB,mBAAyB,AACzB,aAAc,AACd,wCAA+C,AAC/C,eAAiB,CACpB,AACD,uBACI,iBAAkB,AAClB,cAAgB,CACnB,AACD,8CACM,YAAa,AACb,eAAiB,CACtB,AACD,yBACI,qBAAsB,AACtB,YAAa,AACb,iBAAmB,CACtB,AACD,6CAEI,WAAY,AACZ,oBAAsB,CACzB,AACD,oBACI,SAAW,CACd,AACD,yBACI,SAAW,CACd,AACD,8EAGI,oBAAsB,CACzB,AACD,oCACI,WAAa,CAChB,AACD,2CACI,qBAAsB,AACtB,UAAY,CACf,AACD,8BACI,iBAAmB,CACtB",file:"style.scss",sourcesContent:["\n.build-order {\n  background: #f9fafc;\n}\n.build-order .title {\n    font-size: 16px;\n    line-height: 32px;\n    color: #4a4a4a;\n}\n.build-order .build-main {\n    width: 1115px !important;\n    margin: 15px auto 0 auto;\n    padding: 15px;\n    box-shadow: 2px 2px 1px 0px rgba(0, 0, 0, 0.1);\n    background: #fff;\n}\n.build-order .fee-drop {\n    line-height: 32px;\n    padding: 0 16px;\n}\n.build-order .fee-drop .ivu-icon-arrow-down-b {\n      float: right;\n      margin-top: 10px;\n}\n.build-order .car-select {\n    display: inline-block;\n    width: 200px;\n    margin-right: 30px;\n}\n.build-order .price,\n  .build-order .price-unit {\n    float: left;\n    display: inline-block;\n}\n.build-order .price {\n    width: 60%;\n}\n.build-order .price-unit {\n    width: 40%;\n}\n.build-order .back-type,\n  .build-order .back-type-other,\n  .build-order .back-nums {\n    display: inline-block;\n}\n.build-order .back-type-other input {\n    width: 100px;\n}\n.build-order .back-nums .ivu-input-wrapper {\n    display: inline-block;\n    width: 40px;\n}\n.build-order .back-nums input {\n    text-align: center;\n}\n"],sourceRoot:""}])},1489:function(e,t,r){var i=r(1401);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);r(1084)("4be8cbde",i,!0)},1654:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"v2-build build-order"},[r("div",{staticClass:"contain-head cf-all"},[r("div",{staticClass:"fl title"},[e._v("\n            开单\n        ")]),e._v(" "),r("div",{staticClass:"fr"},[r("i-button",{staticClass:"ml5",attrs:{type:"success",loading:e.buildButtonLoading},on:{click:e.doBuild}},[e._v("开单完成")]),e._v(" "),r("i-button",{staticClass:"ml5",attrs:{type:"primary"},on:{click:e.doBuildAndPrint}},[e._v("完成并打印")]),e._v(" "),r("i-button",{staticClass:"ml5",attrs:{type:"warning",loading:e.buildAndPrintButtonLoading},on:{click:e.handlerCancelBuild}},[e._v("取消开单")])],1)]),e._v(" "),r("div",{staticClass:"build-main contain-main ",staticStyle:{"padding-top":"70px"}},[r("i-form",{ref:"buildOrderForm",attrs:{"label-width":90,model:e.order,rules:e.orderRule}},[r("Row",[r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"项目名称："}},[r("i-select",{attrs:{placeholder:"请选择项目",clearable:"",filterable:"",remote:"","remote-method":e.projectListRemote},model:{value:e.order.prj_id,callback:function(t){e.$set(e.order,"prj_id",t)},expression:"order.prj_id"}},e._l(e.util.projectList,function(t,i){return r("i-option",{key:t.prj_id,attrs:{value:t.prj_id}},[e._v(e._s(t.prj_name))])}))],1)],1)],1),e._v(" "),r("div",{staticClass:"row-box mb10"},[r("Row",[r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"订单号："}},[r("i-input",{attrs:{placeholder:"请输入订单号",readonly:"",value:"自动生成"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"委托单号：",prop:"shipper_order_no"}},[r("i-input",{attrs:{placeholder:"请输入委托单号"},model:{value:e.order.shipper_order_no,callback:function(t){e.$set(e.order,"shipper_order_no",t)},expression:"order.shipper_order_no"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"运输方式："}},[r("Radio-group",{staticClass:"ml5",model:{value:e.order.bulk_type,callback:function(t){e.$set(e.order,"bulk_type",t)},expression:"order.bulk_type"}},[r("Radio",{attrs:{label:0}},[r("span",[e._v("零担")])]),e._v(" "),r("Radio",{attrs:{label:1}},[r("span",[e._v("整车")])])],1)],1)],1),e._v(" "),r("i-col",{staticClass:"error-left",attrs:{span:"6"}},[r("Form-item",{attrs:{label:"开单时间：",prop:"order_create_time"}},[r("Date-picker",{attrs:{type:"datetime",options:e.util.timeOption,placeholder:"选择日期和时间"},model:{value:e.order.order_create_time,callback:function(t){e.$set(e.order,"order_create_time",t)},expression:"order.order_create_time"}})],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"row-box mb10"},[r("Row",[r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"客户名称：",prop:"send_company"}},[r("editable-drop",{ref:"customerRef",attrs:{placeholder:"请输入客户名称",disabled:!!e.order.prj_id},on:{"input-blur":e.customerChangeHandler,"on-select":e.customerSelectHandler},model:{value:e.order.send_company,callback:function(t){e.$set(e.order,"send_company",t)},expression:"order.send_company"}},e._l(e.util.customerList,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.cs_company,"select-value":t}},[e._v(e._s(t.cs_company))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"起始地：",prop:"begin_code"}},[r("province-cascader",{attrs:{placeholder:"请选择起始地",opts:e.util.provinceOption},on:{input:e.beginAreaChangeHandler},model:{value:e.order.begin_code,callback:function(t){e.$set(e.order,"begin_code",t)},expression:"order.begin_code"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"目的地：",prop:"end_code"}},[r("province-cascader",{attrs:{placeholder:"请选择目的地",opts:e.util.provinceOption},on:{input:e.endAreaChangeHandler},model:{value:e.order.end_code,callback:function(t){e.$set(e.order,"end_code",t)},expression:"order.end_code"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"6"}},[r("Form-item",{attrs:{label:"是否加急："}},[r("Checkbox",{model:{value:e.isSpeed,callback:function(t){e.isSpeed=t},expression:"isSpeed"}},[e._v("急")])],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{span:"5"}},[r("Form-item",{attrs:{label:"托运人：",prop:"begin_link_man"}},[r("editable-drop",{attrs:{placeholder:"请输入托运人"},on:{"on-change":e.linkNameChangeHandler},model:{value:e.order.begin_link_man,callback:function(t){e.$set(e.order,"begin_link_man",t)},expression:"order.begin_link_man"}},e._l(e.util.linkNameList,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.link_name},nativeOn:{click:function(r){e.linkClickHandler(t)}}},[e._v(e._s(t.link_name))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"5"}},[r("Form-item",{attrs:{label:"联系电话：",prop:"begin_link_mobile"}},[r("editable-drop",{attrs:{placeholder:"请输入联系电话"},on:{"on-change":e.linkPhoneChangeHandler},model:{value:e.order.begin_link_mobile,callback:function(t){e.$set(e.order,"begin_link_mobile",t)},expression:"order.begin_link_mobile"}},e._l(e.util.linkPhoneList,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.link_mobile},nativeOn:{click:function(r){e.linkClickHandler(t)}}},[e._v(e._s(t.link_mobile))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"详细地址：",prop:"begin_address"}},[r("address-location",{attrs:{cityCode:e.order.begin_code,placeholder:"请输入详细地址"},model:{value:e.order.begin_address,callback:function(t){e.$set(e.order,"begin_address",t)},expression:"order.begin_address"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"2"}},[r("Form-item",{attrs:{"label-width":20}},[r("Checkbox",{staticClass:"checkbox",attrs:{"true-label":"Y","false-label":"N"},model:{value:e.isPickup,callback:function(t){e.isPickup=t},expression:"isPickup"}},[e._v("提货")])],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{span:"5"}},[r("Form-item",{attrs:{label:"收货人：",prop:"end_link_man"}},[r("editable-drop",{attrs:{placeholder:"请输入收货人"},on:{"on-change":e.receiptNameChangeHandler},model:{value:e.order.end_link_man,callback:function(t){e.$set(e.order,"end_link_man",t)},expression:"order.end_link_man"}},e._l(e.util.receiptNameList,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.receipt_username},nativeOn:{click:function(r){e.receiptClickHandler(t)}}},[e._v(e._s(t.receipt_username))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"5"}},[r("Form-item",{attrs:{label:"联系电话：",prop:"end_link_mobile"}},[r("editable-drop",{attrs:{placeholder:"请输入联系电话"},on:{"on-change":e.receiptPhoneChangeHandler},model:{value:e.order.end_link_mobile,callback:function(t){e.$set(e.order,"end_link_mobile",t)},expression:"order.end_link_mobile"}},e._l(e.util.receiptPhoneList,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.receipt_mobile},nativeOn:{click:function(r){e.receiptClickHandler(t)}}},[e._v(e._s(t.receipt_mobile))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"12"}},[r("Form-item",{attrs:{label:"详细地址：",prop:"end_address"}},[r("address-location",{attrs:{cityCode:e.order.end_code,placeholder:"请输入详细地址"},model:{value:e.order.end_address,callback:function(t){e.$set(e.order,"end_address",t)},expression:"order.end_address"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"2"}},[r("Form-item",{attrs:{"label-width":20}},[r("Checkbox",{staticClass:"checkbox",model:{value:e.isDelivery,callback:function(t){e.isDelivery=t},expression:"isDelivery"}},[e._v("送货")])],1)],1)],1)],1),e._v(" "),r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:1==e.order.bulk_type,expression:"order.bulk_type == 1"}],staticClass:"row-box mb10"},[r("Row",[r("i-col",{attrs:{span:"24"}},[r("Form-item",{staticClass:"ivu-form-item-required",staticStyle:{display:"inline-block"},attrs:{label:"选择车型："}}),e._v(" "),r("Form-item",{staticClass:"car-select",attrs:{"label-width":1,prop:"req_truck_type"}},[r("i-select",{attrs:{placeholder:"请选择车型"},model:{value:e.order.req_truck_type,callback:function(t){e.$set(e.order,"req_truck_type",t)},expression:"order.req_truck_type"}},[r("i-option",{attrs:{value:""}},[e._v("无")]),e._v(" "),e._l(e.util.truckTypeList,function(t,i){return r("i-option",{key:i,attrs:{value:t.dict_value}},[e._v(e._s(t.dict_text))])})],2)],1),e._v(" "),r("Form-item",{staticClass:"car-select ivu-form-item-required",attrs:{"label-width":10,label:" ",prop:"req_truck_length"}},[r("i-select",{attrs:{placeholder:"请选择车长"},model:{value:e.order.req_truck_length,callback:function(t){e.$set(e.order,"req_truck_length",t)},expression:"order.req_truck_length"}},[r("i-option",{attrs:{value:""}},[e._v("无")]),e._v(" "),e._l(e.util.truckLengthList,function(t,i){return r("i-option",{key:i,attrs:{value:t.dict_value}},[e._v(e._s(t.dict_text))])})],2)],1)],1)],1)],1)]),e._v(" "),r("div",{staticClass:"row-box mb10"},e._l(e.order.cargos,function(t,i){return r("Row",{key:i,staticClass:"tc"},[r("i-col",{attrs:{span:"4"}},[r("Form-item",{attrs:{"label-width":1}},[r("editable-drop",{attrs:{placeholder:"品号/货物名称"},model:{value:t.c_name,callback:function(r){e.$set(t,"c_name","string"==typeof r?r.trim():r)},expression:"cargo.c_name"}},e._l(e.util.historyCargoList,function(i,n){return r("editable-drop-option",{key:n,attrs:{value:i.c_name},nativeOn:{click:function(r){e.selectCargoHandler(t,i)}}},[e._v(e._s(i.c_name))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"4"}},[r("Form-item",{attrs:{"label-width":1,prop:"cargos."+i+".c_pack",rules:e.orderRule.cargos.c_pack(i)}},[r("editable-drop",{attrs:{placeholder:"包装"},model:{value:t.c_pack,callback:function(r){e.$set(t,"c_pack",r)},expression:"cargo.c_pack"}},e._l(e.util.historyCargoPacks,function(t,i){return r("editable-drop-option",{key:i,attrs:{value:t.dict_value}},[e._v(e._s(t.dict_value))])}))],1)],1),e._v(" "),r("i-col",{attrs:{span:"4"}},[r("Form-item",{attrs:{"label-width":1,prop:"cargos."+i+".c_amount",rules:e.orderRule.cargos.c_amount(i)}},[r("i-input",{attrs:{placeholder:"件数（必填）"},model:{value:t.c_amount,callback:function(r){e.$set(t,"c_amount","string"==typeof r?r.trim():r)},expression:"cargo.c_amount"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"4"}},[r("Form-item",{attrs:{"label-width":1,prop:"cargos."+i+".c_weight",rules:e.orderRule.cargos.c_weight(i)}},[r("i-input",{attrs:{placeholder:"重量（吨）"},model:{value:t.c_weight,callback:function(r){e.$set(t,"c_weight",r)},expression:"cargo.c_weight"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"4"}},[r("Form-item",{attrs:{"label-width":1,prop:"cargos."+i+".c_volume",rules:e.orderRule.cargos.c_volume(i)}},[r("i-input",{attrs:{placeholder:"长*宽*高（m³）"},on:{"on-blur":function(r){e.volumeCacl(t)}},model:{value:t.c_volume,callback:function(r){e.$set(t,"c_volume",r)},expression:"cargo.c_volume"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"4"}},[r("Form-item",{staticClass:"price",attrs:{"label-width":1,prop:"cargos."+i+".c_price",rules:e.orderRule.cargos.c_price(i)}},[r("i-input",{attrs:{placeholder:"单价"},model:{value:t.c_price,callback:function(r){e.$set(t,"c_price",r)},expression:"cargo.c_price"}})],1),e._v(" "),r("i-select",{staticClass:"price-unit",model:{value:t.c_price_unit,callback:function(r){e.$set(t,"c_price_unit",r)},expression:"cargo.c_price_unit"}},[r("i-option",{attrs:{value:"元/吨"}},[e._v("元/吨")]),e._v(" "),r("i-option",{attrs:{value:"元/件"}},[e._v("元/件")]),e._v(" "),r("i-option",{attrs:{value:"元/方"}},[e._v("元/方")])],1)],1)],1)})),e._v(" "),r("div",{staticClass:"row-box mb10"},[r("Row",[r("i-col",{attrs:{span:"8"}},[r("Form-item",{attrs:{label:"运费：",prop:"fee_transport"}},[r("i-input",{attrs:{placeholder:"请输入运费"},model:{value:e.order.fee_transport,callback:function(t){e.$set(e.order,"fee_transport",t)},expression:"order.fee_transport"}})],1)],1),e._v(" "),e.util.moreFee?e._l(e.util.feeDetailTypes,function(t,i){return r("i-col",{key:i,attrs:{span:"8"}},[r("Form-item",{attrs:{label:t.text+"：",prop:"fee_details."+t.type,rules:e.orderRule.validFixed2Number}},[r("i-input",{attrs:{placeholder:"请输入"+t.text},model:{value:e.order.fee_details[t.type],callback:function(r){e.$set(e.order.fee_details,t.type,r)},expression:"order.fee_details[item.type]"}})],1)],1)}):e._e(),e._v(" "),r("i-col",{attrs:{span:"8"}},[r("i-button",{attrs:{type:"text"},on:{click:e.showMoreFee}},[e._v(e._s(e.util.moreFee?"收起更多费用":"显示更多费用")+" "),r("Icon",{attrs:{type:e.util.moreFee?"chevron-up":"chevron-down"}})],1)],1)],2)],1),e._v(" "),r("div",{staticClass:"row-box mb10"},[r("Row",[r("i-col",{attrs:{span:"8"}},[r("Form-item",{attrs:{label:"合计费用：",prop:"pay_total"}},[r("i-input",{attrs:{placeholder:"合计费用",value:e.order.pay_total,readonly:""}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"8"}},[r("Form-item",{attrs:{label:"付款方式："}},[r("i-select",{on:{"on-change":function(t){e.changePayTypeHandler(e.order.pay_type)}},model:{value:e.order.pay_type,callback:function(t){e.$set(e.order,"pay_type",t)},expression:"order.pay_type"}},e._l(e.util.payDetailTypes,function(t,i){return r("i-option",{key:i,attrs:{value:t.type}},[e._v(e._s(t.text))])}))],1)],1),e._v(" "),e._l(e.util.payDetailTypes,function(t,i){return"partner_pay_dbf"!=t.type?r("i-col",{directives:[{name:"show",rawName:"v-show",value:"partner_pay_dbf"==e.order.pay_type||e.order.pay_type==t.type,expression:"order.pay_type == 'partner_pay_dbf' || order.pay_type == item.type"}],key:i,attrs:{span:"8"}},[r("Form-item",{attrs:{label:t.text+"：",prop:"pay_details."+t.type,rules:e.orderRule.validFixed2Number}},[r("i-input",{attrs:{placeholder:"请输入"+t.text},model:{value:e.order.pay_details[t.type],callback:function(r){e.$set(e.order.pay_details,t.type,r)},expression:"order.pay_details[item.type]"}})],1)],1):e._e()})],2)],1),e._v(" "),r("div",{staticClass:"row-box"},[r("Row",[r("Form-item",{staticClass:"back-type",attrs:{label:"回单："}},[r("Radio-group",{model:{value:e.order.back_type,callback:function(t){e.$set(e.order,"back_type",t)},expression:"order.back_type"}},[r("Radio",{attrs:{label:"no"}},[r("span",[e._v("无")])]),e._v(" "),r("Radio",{attrs:{label:"0"}},[r("span",[e._v("回执")])]),e._v(" "),r("Radio",{attrs:{label:"1"}},[r("span",[e._v("原单")])]),e._v(" "),r("Radio",{attrs:{label:"2"}},[r("span",[e._v("收条")])]),e._v(" "),r("Radio",{attrs:{label:"3"}},[r("span",[e._v("电子回单")])]),e._v(" "),r("Radio",{attrs:{label:"4"}},[r("span",[e._v("其他")])])],1),e._v(" "),r("Form-item",{directives:[{name:"show",rawName:"v-show",value:4==e.order.back_type,expression:"order.back_type == 4"}],staticClass:"back-type-other",attrs:{"label-width":1}},[r("i-input",{attrs:{placeholder:"其他回单"},model:{value:e.order.back_type_other,callback:function(t){e.$set(e.order,"back_type_other",t)},expression:"order.back_type_other"}})],1),e._v(" "),r("div",[r("Form-item",{staticClass:"back-nums",attrs:{"label-width":1,prop:"back_nums",rules:"no"!=e.order.back_type?[{required:!0,message:"不能为空",trigger:"blur"},{pattern:/^[1-9]{1}$/,message:"请输1~9之间的整数",trigger:"blur"}]:{}}},[e._v("\n                                共\n                                "),r("i-input",{attrs:{placeholder:"0"},model:{value:e.order.back_nums,callback:function(t){e.$set(e.order,"back_nums",t)},expression:"order.back_nums"}}),e._v("份\n                            ")],1)],1)],1)],1),e._v(" "),r("Row",[r("i-col",{attrs:{span:"16"}},[r("Form-item",{attrs:{label:"备注："}},[r("i-input",{attrs:{placeholder:"输入备注"},model:{value:e.order.shipper_remark,callback:function(t){e.$set(e.order,"shipper_remark",t)},expression:"order.shipper_remark"}})],1)],1),e._v(" "),r("i-col",{attrs:{span:"8"}},[r("Form-item",{attrs:{label:"制单员："}},[r("span",[e._v(e._s(e.userInfo.user_name))])])],1)],1)],1)],1)],1),e._v(" "),r("div",{staticStyle:{display:"none"}},[r("order-print",{ref:"orderPint"})],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=14.8338e9d1860530359217.js.map