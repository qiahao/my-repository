webpackJsonp([33],{1109:function(t,e,a){a(1470),a(1469);var i=a(10)(a(1293),a(1627),"data-v-1b3a8d4d",null);t.exports=i.exports},1137:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(61),a(150)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var n=i(e),r=i(a),o={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var t=this;return this.tableParams.selectList.map(function(e){return e[t.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(t){this.tableParams.selectList=(0,r.default)(t),this.tableParams.isCheckBoxClick=!0},onPageChange:function(t){this.tableParams.page=t,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(t){this.tableParams.pageSize=t,this.onSearch()},assignQuery:function(t){return(0,n.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},t)}}};t.default=o})},1172:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(69)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e){"use strict";function a(t){var e=new Date;return e.setDate(1),e.setMonth(e.getMonth()-t),r(e)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,a={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in a)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?a[i]:("00"+a[i]).substr((""+a[i]).length)));return e}function n(t){var e=t,a=e.getMonth()+1,i=e.getDate();a>=1&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i);var n=e.getHours()>=10?e.getHours():"0"+e.getHours(),r=e.getMinutes()>=10?e.getMinutes():"0"+e.getMinutes(),o=e.getSeconds()>=10?e.getSeconds():"0"+e.getSeconds();return e.getFullYear()+"-"+a+"-"+i+" "+n+":"+r+":"+o}function r(t){var e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a<10&&(a="0"+a),i<10&&(i="0"+i),e+"-"+a+"-"+i}function o(t){var e=new Date(v,t,1);return(new Date(v,t+1,1)-e)/864e5}function l(){var t=0;return k<3&&(t=0),2<k&&k<6&&(t=3),5<k&&k<9&&(t=6),k>8&&(t=9),t}function s(){return r(new Date(v,k,w-y))}function d(){return r(new Date(v,k,w+(6-y)))}function _(){return r(new Date(v,k,1))}function h(){return r(new Date(v,k,o(k)))}function c(){return r(new Date(v,M,1))}function f(){return r(new Date(v,M,o(M)))}function p(){return r(new Date(v,l(),1))}function u(){var t=l()+2;return r(new Date(v,t,o(t)))}Object.defineProperty(t,"__esModule",{value:!0}),t.date=void 0,t.getPreMonthStartDay=a,t.dateFormat=i,t.getDateFormat=n,t.formatDate=r,t.getMonthDays=o,t.getQuarterStartMonth=l,t.getWeekStartDate=s,t.getWeekEndDate=d,t.getMonthStartDate=_,t.getMonthEndDate=h,t.getLastMonthStartDate=c,t.getLastMonthEndDate=f,t.getQuarterStartDate=p,t.getQuarterEndDate=u;var g=function(t){return t&&t.__esModule?t:{default:t}}(e),m=new Date,y=m.getDay(),w=m.getDate(),k=m.getMonth(),v=m.getYear();v+=v<2e3?1900:0;var b=new Date;b.setDate(1),b.setMonth(b.getMonth()-1);var M=(b.getYear(),b.getMonth());t.date=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return t?/^\d+$/.test(t)?i(new Date(t),e):"object"===(void 0===t?"undefined":(0,g.default)(t))&&t.getTime?i(new Date(t.getTime()),e):/date/i.test(t)?i(new Date(t.match(/\d+/)[0]),e):t&&"string"==typeof t&&/\.\d$/.test(t)?i(new Date(t.replace(/\.\d$/,"").replace(/-/g,"/")),e):t:t}})},1293:function(t,e,a){var i,n,r;!function(o,l){n=[e,a(61),a(86),a(1137),a(1357),a(1172)],i=l,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t,e,a,i,n,r){"use strict";function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}function l(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var s=l(e),d=l(i),_=o(n),h=o(r);t.default={name:"orderProfit",data:function(){return{loading:!0,formModel:{q_order_no:"",q_start_time:"",q_end_time:"",q_send_company:"",q_prj_name:"",page:1,page_size:10},dateTypes:_.dateTypes,dateRange:"",totalData:[],dateRadio:"0"}},mixins:[d.default],computed:(0,s.default)({},(0,a.mapState)(["userInfo"]),{columns:function(){return _.getCulomns.call(this)},totalColumns:function(){return _.getTotalCulomns.call(this)}}),methods:{loadList:function(){var t=this;this.formModel.page=this.tableParams.page,this.formModel.page_size=this.tableParams.pageSize,this.loading=!0,this.$api.reportApi.queryOrderAnalyzeList(this.formModel).then(function(e){t.tableParams.list=e.resultObj.list,t.tableParams.total=parseInt(e.resultObj.total[0].order_total),t.tableParams.selectList=[],t.totalData=e.resultObj.total,t.loading=!1})},onSearchReset:function(){this.formModel.q_order_no="",this.formModel.q_start_time=h.getMonthStartDate(),this.formModel.q_end_time=h.getMonthEndDate(),this.formModel.page=1,this.formModel.page_size=10,this.formModel.q_send_company="",this.formModel.q_prj_name="",this.dateRange="",this.dateRadio="0",this.loadList()},resetRadio:function(){this.dateRadio=""},changeRadio:function(t){switch(this.dateRange="",t){case"1":this.formModel.q_start_time=h.getLastMonthStartDate(),this.formModel.q_end_time=h.getLastMonthEndDate();break;case"3":this.formModel.q_start_time=h.getPreMonthStartDay(2),this.formModel.q_end_time=h.getMonthEndDate();break;default:this.formModel.q_start_time=h.getMonthStartDate(),this.formModel.q_end_time=h.getMonthEndDate()}this.loadList()},exportOrderList:function(){var t=this.formModel;t.company_id=this.userInfo.company_id,t.act_user_id=this.userInfo.user_id,this.$api.reportApi.exportOrderAnalyze(t)}},created:function(){this.loadList()},watch:{dateRange:function(t,e){t&&t[0]?(this.formModel.q_start_time=h.formatDate(t[0]),this.formModel.q_end_time=h.formatDate(t[1])):(this.formModel.q_start_time=h.getMonthStartDate(),this.formModel.q_end_time=h.getMonthEndDate())}}}})},1357:function(t,e,a){var i,n,r;!function(a,o){n=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,n):i)&&(t.exports=r)}(0,function(t){"use strict";function e(){return[{title:"运单号",key:"order_no",width:150},{title:"开单日期",key:"order_create_time",width:120},{title:"项目名称",key:"prj_name",width:150},{title:"收入合计",key:"partner_fee",width:150},{title:"支出合计",key:"pay_fee",width:100},{title:"运单毛利",key:"income_fee",width:100},{title:"干线运费（收入）",key:"fee_transport",width:150},{title:"提货费（收入）",key:"partner_fee_th",width:150},{title:"送货费（收入）",key:"partner_fee_sh",width:150},{title:"保价费（收入）",key:"partner_fee_bj",width:150},{title:"保险费（收入）",key:"partner_fee_bx",width:150},{title:"装卸费（收入）",key:"partner_fee_zx",width:150},{title:"上楼费（收入）",key:"partner_fee_sl",width:150},{title:"包装费（收入）",key:"partner_fee_bz",width:150},{title:"安装费（收入）",key:"partner_fee_az",width:150},{title:"保管费（收入）",key:"partner_fee_bg",width:150},{title:"进仓费（收入）",key:"partner_fee_jc",width:150},{title:"代收手续费（收入）",key:"partner_fee_dssx",width:150},{title:"其他费用（收入）",key:"partner_fee_qt",width:150},{title:"干线运费（支出）",key:"pay_fee_transport",width:150},{title:"油卡（支出）",key:"liner_pay_oil",width:150},{title:"提货费（支出）",key:"liner_fee_th",width:150},{title:"送货费（支出）",key:"liner_fee_sh",width:150},{title:"保价费（支出）",key:"liner_fee_bj",width:150},{title:"保险费（支出）",key:"liner_fee_bx",width:150},{title:"装卸费（支出）",key:"liner_fee_zx",width:150},{title:"上楼费（支出）",key:"liner_fee_sl",width:150},{title:"包装费（支出）",key:"liner_fee_bz",width:150},{title:"安装费（支出）",key:"liner_fee_az",width:150},{title:"保管费（支出）",key:"liner_fee_bg",width:150},{title:"进仓费（支出）",key:"liner_fee_jc",width:150},{title:"代收手续费（支出）",key:"liner_fee_dssx",width:150},{title:"其他费用（支出）",key:"liner_fee_qt",width:150},{title:"客户名称",key:"send_company",width:120},{title:"发货人",key:"begin_link_man",width:120},{title:"发货人联系方式",key:"begin_link_mobile",width:120},{title:"承运人",key:"common_carrier",width:120},{title:"落货网点",key:"arrive_company_name",width:120},{title:"货物名称",key:"cargos_name",width:180},{title:"总重量（T）",key:"order_weights",width:120},{title:"总体积（方）",key:"order_volumes",width:120},{title:"始发",key:"begin_area",width:150},{title:"到达",key:"end_area",width:150},{title:"是否提货",key:"was_pickup_desc",width:120},{title:"是否送货",key:"was_delivery_desc",width:120},{title:"创建时间",key:"create_time",width:120},{title:"签收时间",key:"sign_date",width:120},{title:"回单状态",key:"back_state_desc",width:120},{title:"备注",key:"shipper_remark",width:120}]}function a(){return[{title:"运单数总计",key:"order_total",width:100},{title:"运单毛利总计",key:"income_fee_total",width:120},{title:"支出总计",key:"pay_fee_total",width:130},{title:"收入总计",key:"partner_fee_total",width:130},{title:"干线运费总计（收入）",key:"fee_transport_total",width:180},{title:"提货费总计（收入）",key:"partner_fee_th_total",width:150},{title:"送货费总计（收入）",key:"partner_fee_sh_total",width:150},{title:"保价费总计（收入）",key:"partner_fee_bj_total",width:150},{title:"保险费总计（收入）",key:"partner_fee_bx_total",width:150},{title:"装卸费总计（收入）",key:"partner_fee_zx_total",width:150},{title:"上楼费总计（收入）",key:"partner_fee_sl_total",width:150},{title:"包装费总计（收入）",key:"partner_fee_bz_total",width:150},{title:"安装费总计（收入）",key:"partner_fee_az_total",width:150},{title:"保管费总计（收入）",key:"partner_fee_bg_total",width:150},{title:"进仓费总计（收入）",key:"partner_fee_jc_total",width:150},{title:"代收手续费总计（收入）",key:"partner_fee_dssx_total",width:180},{title:"其他费用总计（收入）",key:"partner_fee_qt_total",width:170},{title:"干线运费总计（支出）",key:"pay_fee_transport_total",width:170},{title:"提货费总计（支出）",key:"liner_fee_th_total",width:150},{title:"送货费总计（支出）",key:"liner_fee_sh_total",width:150},{title:"保价费总计（支出）",key:"liner_fee_bj_total",width:150},{title:"保险费总计（支出）",key:"liner_fee_bx_total",width:150},{title:"装卸费总计（支出）",key:"liner_fee_zx_total",width:150},{title:"上楼费总计（支出）",key:"liner_fee_sl_total",width:150},{title:"包装费总计（支出）",key:"liner_fee_bz_total",width:150},{title:"安装费总计（支出）",key:"liner_fee_az_total",width:150},{title:"保管费总计（支出）",key:"liner_fee_bg_total",width:150},{title:"进仓费总计（支出）",key:"liner_fee_jc_total",width:150},{title:"进仓手续费总计（支出）",key:"liner_fee_dssx_total",width:180},{title:"其他费用总计（支出）",key:"liner_fee_qt_total",width:170},{title:"总重量（T）",key:"order_weights_total",width:120},{title:"总体积（方）",key:"order_volumes_total",width:120}]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCulomns=e,t.getTotalCulomns=a;t.dateTypes=[{text:"本月",key:"0"},{text:"上月",key:"1"},{text:"最近三月",key:"3"}]})},1381:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".middle-line{height:20px;border-right:1px solid #2d8cf0;display:inline;margin:0 5px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/report/order/order-profit.vue"],names:[],mappings:"AACA,aACE,YAAa,AACb,+BAAgC,AAChC,eAAgB,AAChB,YAAc,CACf",file:"order-profit.vue",sourcesContent:["\n.middle-line {\n  height: 20px;\n  border-right: 1px solid #2d8cf0;\n  display: inline;\n  margin: 0 5px;\n}\n"],sourceRoot:""}])},1382:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,".contain-head .text-filter[data-v-1b3a8d4d]{display:inline-block}.contain-head .text-filter .ivu-input-wrapper[data-v-1b3a8d4d]{width:200px;display:inline-block;margin-right:10px}.total-desc[data-v-1b3a8d4d]{font-size:15px;margin:5px 0;padding-top:10px}.total-desc span[data-v-1b3a8d4d]{display:inline-block;margin-right:30px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/report/order/order-profit.vue"],names:[],mappings:"AACA,4CACE,oBAAsB,CACvB,AACD,+DACI,YAAa,AACb,qBAAsB,AACtB,iBAAmB,CACtB,AACD,6BACE,eAAgB,AAChB,aAAc,AACd,gBAAkB,CACnB,AACD,kCACI,qBAAsB,AACtB,iBAAmB,CACtB",file:"order-profit.vue",sourcesContent:["\n.contain-head .text-filter[data-v-1b3a8d4d] {\n  display: inline-block;\n}\n.contain-head .text-filter .ivu-input-wrapper[data-v-1b3a8d4d] {\n    width: 200px;\n    display: inline-block;\n    margin-right: 10px;\n}\n.total-desc[data-v-1b3a8d4d] {\n  font-size: 15px;\n  margin: 5px 0;\n  padding-top: 10px;\n}\n.total-desc span[data-v-1b3a8d4d] {\n    display: inline-block;\n    margin-right: 30px;\n}\n"],sourceRoot:""}])},1469:function(t,e,a){var i=a(1381);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("7fd3ebed",i,!0)},1470:function(t,e,a){var i=a(1382);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("789c502e",i,!0)},1627:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contain-head"},[a("Form",{ref:"formInline",attrs:{model:t.formModel,inline:""}},[a("div",[a("FormItem",[a("RadioGroup",{attrs:{type:"button"},on:{"on-change":t.changeRadio},model:{value:t.dateRadio,callback:function(e){t.dateRadio=e},expression:"dateRadio"}},t._l(t.dateTypes,function(e,i){return a("Radio",{key:e.key,attrs:{label:e.key}},[t._v(t._s(e.text))])}))],1),t._v(" "),a("FormItem",[a("date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange","split-panels":"",placeholder:"开单日期"},on:{"on-change":t.resetRadio},model:{value:t.dateRange,callback:function(e){t.dateRange=e},expression:"dateRange"}})],1),t._v(" "),a("FormItem",[a("i-input",{staticClass:"w150",attrs:{placeholder:"项目名称"},model:{value:t.formModel.q_prj_name,callback:function(e){t.$set(t.formModel,"q_prj_name",e)},expression:"formModel.q_prj_name"}})],1),t._v(" "),a("FormItem",[a("i-input",{staticClass:"w150",attrs:{placeholder:"客户名称"},model:{value:t.formModel.q_send_company,callback:function(e){t.$set(t.formModel,"q_send_company",e)},expression:"formModel.q_send_company"}})],1),t._v(" "),a("FormItem",[a("i-input",{staticClass:"w150",attrs:{placeholder:"运单号"},model:{value:t.formModel.q_order_no,callback:function(e){t.$set(t.formModel,"q_order_no",e)},expression:"formModel.q_order_no"}})],1),t._v(" "),a("div",{staticClass:"dib"},[a("i-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("搜索")]),t._v(" "),a("i-button",{attrs:{type:"warning"},on:{click:t.onSearchReset}},[t._v("重置")]),t._v(" "),a("i-button",{attrs:{type:"warning"},on:{click:t.exportOrderList}},[t._v("导出")])],1)],1)])],1),t._v(" "),a("div",{staticClass:"contain-main"},[a("div",{staticClass:"mb10"},[a("h4",[t._v("总计信息：")]),t._v(" "),a("i-table",{attrs:{columns:t.totalColumns,data:t.totalData,loading:t.loading}})],1),t._v(" "),a("i-table",{attrs:{data:t.tableParams.list,columns:t.columns,loading:t.loading},on:{"on-selection-change":t.onSelectionChange}}),t._v(" "),a("div",{staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.tableParams.total,"show-sizer":"","show-elevator":"",current:t.currentPage},on:{"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1),t._v(" "),a("keep-alive",[a("router-view",{ref:"detail"})],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=33.2529195bc7bb8d6d0a90.js.map