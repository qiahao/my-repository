webpackJsonp([47],{1114:function(t,e,a){a(1525);var i=a(10)(a(1299),a(1696),"data-v-7d20d060",null);t.exports=i.exports},1137:function(t,e,a){var i,s,n;!function(o,l){s=[e,a(61),a(150)],i=l,void 0!==(n="function"==typeof i?i.apply(e,s):i)&&(t.exports=n)}(0,function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var s=i(e),n=i(a),o={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var t=this;return this.tableParams.selectList.map(function(e){return e[t.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(t){this.tableParams.selectList=(0,n.default)(t),this.tableParams.isCheckBoxClick=!0},onPageChange:function(t){this.tableParams.page=t,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(t){this.tableParams.pageSize=t,this.onSearch()},assignQuery:function(t){return(0,s.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},t)}}};t.default=o})},1299:function(t,e,a){var i,s,n;!function(o,l){s=[e,a(24),a(1137),a(228),a(493)],i=l,void 0!==(n="function"==typeof i?i.apply(e,s):i)&&(t.exports=n)}(0,function(t,e,a,i,s){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(e),l=n(a),r=(n(i),function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(s));t.default={name:"ship",data:function(){var t=this;return{columns:[{title:"单位",width:500,key:"cs_company",render:function(e,a){return e("a",{on:{click:function(){t.$router.push("ship/child/"+a.row.cs_id)}}},a.row.cs_company)}},{title:"最近发货时间",key:"send_last_time"},{title:"操作",align:"center",width:150,render:function(e,a){return e("a",{on:{click:function(){t.editShip(a.row)}}},"编辑")}}],search:{cs_company:""},editModal:{modal:!1,isAdd:!1,title:"修改客户"},editModalData:{cs_company:""},editId:"",editModalValidate:{cs_company:[{required:!0,message:"公司名称不能为空",trigger:"blur change"},{type:"string",max:50,message:"公司名称不能超过50字符",trigger:"blur"}]}}},mixins:[l.default],watch:{"editModal.isAdd":function(t,e){this.editModal.title=t?"添加客户":"修改客户"}},methods:{loadList:function(){var t=this,e=this.assignQuery(this.search);r.shipList(e).then(function(e){t.tableParams.list=e.resultObj.list,t.tableParams.total=e.resultObj.total,t.tableParams.selectList=[]})},addShip:function(){this.editModal.modal=!0,this.editModal.isAdd=!0,this.$refs.editModalForm.resetFields()},editShip:function(t){this.editModal.modal=!0,this.editModal.isAdd=!1,this.editId=t.cs_id,this.editModalData.cs_company=t.cs_company},saveShip:function(){var t=this;this.$refs.editModalForm.validate(function(e){if(e)if(t.editModal.modal=!1,t.editModal.isAdd){var a=(0,o.default)({},t.editModalData);r.shipAdd(a).then(function(e){t.loadList()})}else{var i=(0,o.default)({},t.editModalData,{cs_id:t.editId});r.shipUpdate(i).then(function(e){t.loadList()})}})},close:function(){this.editModal.modal=!1}},created:function(){this.loadList()}}})},1437:function(t,e,a){e=t.exports=a(1083)(),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"shipList.vue",sourceRoot:""}])},1525:function(t,e,a){var i=a(1437);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(1084)("31ed588a",i,!0)},1696:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"contain-head"},[a("i-button",{key:"add",attrs:{type:"primary"},on:{click:t.addShip}},[a("Icon",{attrs:{type:"plus"}}),t._v("新增")],1)],1),t._v(" "),a("div",{staticClass:"contain-main"},[a("i-table",{attrs:{data:t.tableParams.list,columns:t.columns}}),t._v(" "),a("div",{staticClass:"page-wrapper"},[a("Page",{attrs:{total:t.tableParams.total,"show-sizer":"","show-elevator":"",current:t.currentPage},on:{"on-change":t.onPageChange,"on-page-size-change":t.onPageSizeChange}})],1)],1),t._v(" "),a("Modal",{attrs:{title:t.editModal.title,"class-name":"vertical-center-modal"},on:{"on-ok":t.saveShip},model:{value:t.editModal.modal,callback:function(e){t.$set(t.editModal,"modal",e)},expression:"editModal.modal"}},[a("Form",{ref:"editModalForm",attrs:{model:t.editModalData,rules:t.editModalValidate,"label-width":100}},[a("Form-item",{attrs:{label:"公司名称",prop:"cs_company"}},[a("i-input",{model:{value:t.editModalData.cs_company,callback:function(e){t.$set(t.editModalData,"cs_company",e)},expression:"editModalData.cs_company"}})],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:t.close}},[t._v("取消")]),t._v(" "),a("Button",{attrs:{type:"primary"},on:{click:t.saveShip}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=47.6bb0bde1698c1735b256.js.map