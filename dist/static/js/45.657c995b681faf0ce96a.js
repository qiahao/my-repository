webpackJsonp([45],{1108:function(e,t,i){i(1508);var a=i(10)(i(1292),i(1676),null,null);e.exports=a.exports},1137:function(e,t,i){var a,n,r;!function(s,o){n=[t,i(61),i(150)],a=o,void 0!==(r="function"==typeof a?a.apply(t,n):a)&&(e.exports=r)}(0,function(e,t,i){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(t),r=a(i),s={data:function(){return{tableParams:{list:[],selectList:[],page:1,pageSize:10,total:0,isCheckBoxClick:!1}}},watch:{},computed:{hasSelect:function(){return!!this.tableParams.selectList.length},tableSelectLength:function(){return this.tableParams.selectList.length},currentPage:function(){return this.tableParams.page},selectedIds:function(){var e=this;return this.tableParams.selectList.map(function(t){return t[e.pk]})}},methods:{loadList:function(){this.$Message.info("请在页面实例重写loadList")},onSearch:function(){this.tableParams.page=1,this.tableParams.selectList=[],this.loadList()},onReset:function(){this.$refs.searchForm&&(this.$refs.searchForm.resetFields(),this.onRangeChange&&"function"==typeof this.onRangeChange&&(this.rangeTime=[],this.onRangeChange([])))},onSelectionChange:function(e){this.tableParams.selectList=(0,r.default)(e),this.tableParams.isCheckBoxClick=!0},onPageChange:function(e){this.tableParams.page=e,this.tableParams.selectList=[],this.loadList()},onPageSizeChange:function(e){this.tableParams.pageSize=e,this.onSearch()},assignQuery:function(e){return(0,n.default)({page:this.tableParams.page,page_size:this.tableParams.pageSize},e)}}};e.default=s})},1292:function(e,t,i){var a,n,r;!function(s,o){n=[t,i(61),i(24),i(150),i(86),i(228),i(1137),i(52),i(1356)],a=o,void 0!==(r="function"==typeof a?a.apply(t,n):a)&&(e.exports=r)}(0,function(e,t,i,a,n,r,s,o,_){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var c=l(t),p=l(i),d=l(a),u=l(r),h=l(s),y=u.default.host;e.default={name:"reportV1List",data:function(){return{columns:(0,d.default)(_.columns),orderState:(0,d.default)(_.orderState),backState:(0,d.default)(_.backState),searchOption:(0,p.default)({},_.query),responeData:{}}},mixins:[h.default],computed:(0,c.default)({},(0,n.mapState)(["userInfo"])),watch:{},methods:{loadList:function(){var e=this,t=this.assignQuery(this.searchOption);if(t.q_finish_time_begin=o.fmt.date(t.q_finish_time_begin,"yyyy-MM-dd"),t.q_finish_time_end=o.fmt.date(t.q_finish_time_end,"yyyy-MM-dd"),t.q_create_time_begin=o.fmt.date(t.q_create_time_begin,"yyyy-MM-dd"),t.q_create_time_end=o.fmt.date(t.q_create_time_end,"yyyy-MM-dd"),t.q_create_time_begin>t.q_create_time_end)return this.$Message.error("结束日期不能小于起始日期,请重新选择");this.$api.reportApi.reportOrderStatistics(t).then(function(t){e.responeData=t.resultObj,e.tableParams.list=t.resultObj.list,e.tableParams.total=t.resultObj.total})},queryCreateTime:function(e){var t=e.split(" - ");this.searchOption.q_create_time_begin=t[0]||"",this.searchOption.q_create_time_end=t[1]||""},reset:function(){this.searchOption=(0,p.default)({},_.query),this.loadList()},excel:function(){var e="/api/utils/excel/order/report?";if(y.indexOf("http://")>-1||y.indexOf("https://")>-1)e=y+e;else{var t=window.document.location.href,i=window.document.location.pathname,a=t.indexOf(i);e=t.substring(0,a)+e}var n=(0,p.default)(this.searchOption,{company_id:this.userInfo.company_id,act_user_id:this.userInfo.user_id});n.q_finish_time_begin=o.fmt.date(n.q_finish_time_begin,"yyyy-MM-dd"),n.q_finish_time_end=o.fmt.date(n.q_finish_time_end,"yyyy-MM-dd"),n.q_create_time_begin=o.fmt.date(n.q_create_time_begin,"yyyy-MM-dd"),n.q_create_time_end=o.fmt.date(n.q_create_time_end,"yyyy-MM-dd");var r=[];for(var s in n)n.hasOwnProperty(s)&&n[s]&&r.push(s+"="+n[s]);e+=r.join("&"),window.open(e)}},created:function(){var e=new Date,t=e-1296e6;this.searchOption.q_create_time_begin=new Date(t),this.searchOption.q_create_time_end=e,this.loadList()}}})},1356:function(e,t,i){var a,n,r;!function(i,s){n=[t],a=s,void 0!==(r="function"==typeof a?a.apply(t,n):a)&&(e.exports=r)}(0,function(e){"use strict";function t(e){return e?e.split(" ")[0]:""}Object.defineProperty(e,"__esModule",{value:!0});var i=["库存运单","转交中","已转交","已签收","已拒绝","已装车","已发车","派单中","未到站"],a=["待回单","回单中","已回收","已发放","已结束"],n=[{title:"运单号",key:"order_no",width:170},{title:"项目名称",key:"project_name",width:170},{title:"客户名称",key:"partner_name",width:170},{title:"承运人",key:"common_carrier",width:150},{title:"落货网点",key:"next_company",width:150},{title:"收入合计",key:"total_fee",width:150},{title:"支出合计",key:"total_pay",width:150},{title:"毛利",key:"total_profit",width:150},{title:"状态",key:"order_state",width:100,render:function(e,t){return e("span",i[t.row.order_state]||"")}},{title:"发货人",key:"begin_link_man",width:100},{title:"联系方式",key:"begin_link_mobile",width:150},{title:"始发地",key:"begin_area",width:150},{title:"目的地",key:"end_area",width:150},{title:"是否提货",width:150,render:function(e,t){return e("span",["Y"==t.row.is_pickup?"是":"否"])}},{title:"是否送货",width:150,render:function(e,t){return e("span",["Y"==t.row.is_delivery?"是":"否"])}},{title:"收货人",key:"end_link_man",width:100},{title:"联系方式",key:"end_link_mobile",width:150},{title:"货物名称",key:"cargos_name",width:200},{title:"件数",key:"cargos_amount",width:100},{title:"重量",key:"cargos_weight",width:100},{title:"体积",key:"cargos_volume",width:100},{title:"包装",key:"cargos_pack",width:100},{title:"干线运费(收入)",key:"fee_transport",width:88},{title:"提货费(收入)",key:"fee_th",width:74},{title:"送货费(收入)",key:"fee_sh",width:74},{title:"保价费(收入)",key:"fee_bj",width:74},{title:"保险费(收入)",key:"fee_bx",width:74},{title:"装卸费(收入)",key:"fee_zx",width:74},{title:"上楼费(收入)",key:"fee_sl",width:74},{title:"包装费(收入)",key:"fee_bz",width:74},{title:"安装费(收入)",key:"fee_az",width:74},{title:"保管费(收入)",key:"fee_bg",width:74},{title:"进仓费(收入)",key:"fee_jc",width:74},{title:"代收货款(收入)",key:"fee_dshk",width:88},{title:"代收手续费(收入)",key:"fee_dssx",width:88},{title:"其他费用(收入)",key:"fee_qt",width:88},{title:"现付(收入)",key:"pay_xfu",width:70},{title:"到付(收入)",key:"pay_df",width:70},{title:"回单付(收入)",key:"pay_hdf",width:74},{title:"月结(收入)",key:"pay_yj",width:70},{title:"货款扣(收入)",key:"pay_hkk",width:74},{title:"货到付款(收入)",key:"pay_hdfk",width:88},{title:"现返(收入)",key:"pay_xfan",width:70},{title:"欠返(收入)",key:"pay_qfan",width:70},{title:"欠付(收入)",key:"pay_qfu",width:70},{title:"干线运费(支出)",width:88,render:function(e,t){return e("span",[t.row.payout_fee.fee_transport])}},{title:"油卡(支出)",width:88,render:function(e,t){return e("span",[t.row.payout_pay.pay_oil])}},{title:"提货费(支出)",key:"fee_th",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_th])}},{title:"送货费(支出)",key:"fee_sh",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_sh])}},{title:"保价费（支出",key:"fee_bj",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_bj])}},{title:"保险费(支出)",key:"fee_bx",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_bx])}},{title:"装卸费(支出)",key:"fee_zx",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_zx])}},{title:"上楼费(支出)",key:"fee_sl",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_sl])}},{title:"包装费(支出)",key:"fee_bz",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_bz])}},{title:"安装费(支出)",key:"fee_az",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_az])}},{title:"保管费(支出)",key:"fee_bg",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_bg])}},{title:"进仓费(支出)",key:"fee_jc",width:74,render:function(e,t){return e("span",[t.row.payout_fee.fee_jc])}},{title:"代收货款(支出)",key:"fee_dshk",width:88,render:function(e,t){return e("span",[t.row.payout_fee.fee_dshk])}},{title:"代收手续费(支出)",key:"fee_dssx",width:96,render:function(e,t){return e("span",[t.row.payout_fee.fee_dssx])}},{title:"其他费用(支出)",key:"fee_qt",width:88,render:function(e,t){return e("span",[t.row.payout_fee.fee_qt])}},{title:"现付(支出)",key:"pay_xfu",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_xfu])}},{title:"到付(支出)",key:"pay_df",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_df])}},{title:"回单付(支出)",key:"pay_hdf",width:74,render:function(e,t){return e("span",[t.row.payout_pay.pay_hdf])}},{title:"月结(支出)",key:"pay_yj",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_yj])}},{title:"货款扣(支出)",key:"pay_hkk",width:74,render:function(e,t){return e("span",[t.row.payout_pay.pay_hkk])}},{title:"货到付款(支出)",key:"pay_hdfk",width:88,render:function(e,t){return e("span",[t.row.payout_pay.pay_hdfk])}},{title:"现返(支出)",key:"pay_xfan",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_xfan])}},{title:"欠返(支出)",key:"pay_qfan",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_qfan])}},{title:"欠付(支出)",key:"pay_qfu",width:70,render:function(e,t){return e("span",[t.row.payout_pay.pay_qfu])}},{title:"创建时间",key:"create_time",width:150,render:function(e,i){return e("span",t(i.row.create_time))}},{title:"完成时间",key:"finish_time",width:150,render:function(e,i){return e("span",t(i.row.finish_time))}},{title:"回单状态",key:"back_state",width:100,render:function(e,t){return e("span",a[t.row.back_state]||"")}},{title:"备注",key:"shipper_remark",width:200}],r={q_create_time_begin:"",q_create_time_end:"",q_pay_type:"",q_is_sign:"",q_back_state:"",q_begin_link_man:"",q_begin_link_mobile:"",q_end_link_man:"",q_end_link_mobile:"",q_next_company:"",q_driver_name:"",q_common_carrier:"",q_project_name:"",q_send_company:"",q_finish_time_begin:"",q_finish_time_end:"",q_order_no:""};e.orderState=i,e.backState=a,e.columns=n,e.query=r})},1420:function(e,t,i){t=e.exports=i(1083)(),t.push([e.i,".order-statistics .ivu-select-selection,.order-statistics input{width:140px}.order-statistics .ivu-date-picker input{width:120px}.page-wrapper .fl{line-height:34px}","",{version:3,sources:["/Users/ganqiantai/Desktop/gitWork/wm/tms-web/src/components/report/order-statistics.vue"],names:[],mappings:"AACA,gEACE,WAAa,CACd,AACD,yCACE,WAAa,CACd,AACD,kBACE,gBAAkB,CACnB",file:"order-statistics.vue",sourcesContent:["\n.order-statistics .ivu-select-selection, .order-statistics input {\n  width: 140px;\n}\n.order-statistics .ivu-date-picker input {\n  width: 120px;\n}\n.page-wrapper .fl {\n  line-height: 34px;\n}\n"],sourceRoot:""}])},1508:function(e,t,i){var a=i(1420);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(1084)("2ae547a8",a,!0)},1676:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"contain-head",staticStyle:{position:"static","padding-right":"15px"}},[i("Form",{staticClass:"order-statistics",attrs:{"label-width":90,inline:""}},[i("Form-item",{attrs:{label:"付款方式"}},[i("Select",{model:{value:e.searchOption.q_pay_type,callback:function(t){e.$set(e.searchOption,"q_pay_type",t)},expression:"searchOption.q_pay_type"}},[i("Option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),i("Option",{attrs:{value:"pay_xfu"}},[e._v("现付")]),e._v(" "),i("Option",{attrs:{value:"pay_df"}},[e._v("到付")]),e._v(" "),i("Option",{attrs:{value:"pay_yj"}},[e._v("月结")]),e._v(" "),i("Option",{attrs:{value:"pay_hdf"}},[e._v("回单付")]),e._v(" "),i("Option",{attrs:{value:"pay_hkk"}},[e._v("货款扣")]),e._v(" "),i("Option",{attrs:{value:"pay_dbf"}},[e._v("多笔付")])],1)],1),e._v(" "),i("Form-item",{attrs:{label:"签收状态"}},[i("Select",{model:{value:e.searchOption.q_is_sign,callback:function(t){e.$set(e.searchOption,"q_is_sign",t)},expression:"searchOption.q_is_sign"}},[i("Option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),i("Option",{attrs:{value:"Y"}},[e._v("已签收")]),e._v(" "),i("Option",{attrs:{value:"N"}},[e._v("未签收")])],1)],1),e._v(" "),i("Form-item",{attrs:{label:"回单状态"}},[i("Select",{model:{value:e.searchOption.q_back_state,callback:function(t){e.$set(e.searchOption,"q_back_state",t)},expression:"searchOption.q_back_state"}},[i("Option",{attrs:{value:""}},[e._v("全部")]),e._v(" "),e._l(e.backState,function(t,a){return i("Option",{key:t,attrs:{value:a}},[e._v(e._s(t))])})],2)],1),e._v(" "),i("Form-item",{attrs:{label:"发货人"}},[i("i-input",{attrs:{placeholder:"请输入发货人"},model:{value:e.searchOption.q_begin_link_man,callback:function(t){e.$set(e.searchOption,"q_begin_link_man",t)},expression:"searchOption.q_begin_link_man"}})],1),e._v(" "),i("Form-item",{attrs:{label:"发货人电话"}},[i("i-input",{attrs:{placeholder:"输入发货人电话"},model:{value:e.searchOption.q_begin_link_mobile,callback:function(t){e.$set(e.searchOption,"q_begin_link_mobile",t)},expression:"searchOption.q_begin_link_mobile"}})],1),e._v(" "),i("Form-item",{attrs:{label:"收货人"}},[i("i-input",{attrs:{placeholder:"请输入收货人"},model:{value:e.searchOption.q_end_link_man,callback:function(t){e.$set(e.searchOption,"q_end_link_man",t)},expression:"searchOption.q_end_link_man"}})],1),e._v(" "),i("Form-item",{attrs:{label:"收货人电话"}},[i("i-input",{attrs:{placeholder:"请输入收货人电话"},model:{value:e.searchOption.q_end_link_mobile,callback:function(t){e.$set(e.searchOption,"q_end_link_mobile",t)},expression:"searchOption.q_end_link_mobile"}})],1),e._v(" "),i("Form-item",{attrs:{label:"网点"}},[i("i-input",{attrs:{placeholder:"请输入网点"},model:{value:e.searchOption.q_next_company,callback:function(t){e.$set(e.searchOption,"q_next_company",t)},expression:"searchOption.q_next_company"}})],1),e._v(" "),i("Form-item",{attrs:{label:"司机"}},[i("i-input",{attrs:{placeholder:"请输入司机"},model:{value:e.searchOption.q_driver_name,callback:function(t){e.$set(e.searchOption,"q_driver_name",t)},expression:"searchOption.q_driver_name"}})],1),e._v(" "),i("Form-item",{attrs:{label:"承运商"}},[i("i-input",{attrs:{placeholder:"请输入承运商"},model:{value:e.searchOption.q_common_carrier,callback:function(t){e.$set(e.searchOption,"q_common_carrier",t)},expression:"searchOption.q_common_carrier"}})],1),e._v(" "),i("Form-item",{attrs:{label:"客户名称"}},[i("i-input",{attrs:{placeholder:"请输入客户名称"},model:{value:e.searchOption.q_send_company,callback:function(t){e.$set(e.searchOption,"q_send_company",t)},expression:"searchOption.q_send_company"}})],1),e._v(" "),i("Form-item",{attrs:{label:"运单号"}},[i("i-input",{attrs:{placeholder:"请输入运单号"},model:{value:e.searchOption.q_order_no,callback:function(t){e.$set(e.searchOption,"q_order_no",t)},expression:"searchOption.q_order_no"}})],1),e._v(" "),i("Form-item",{staticClass:"date-time-box date-range",attrs:{label:"签收时间"}},[i("DatePicker",{staticStyle:{width:"120px",display:"inline-block"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"起始日期"},model:{value:e.searchOption.q_finish_time_begin,callback:function(t){e.$set(e.searchOption,"q_finish_time_begin",t)},expression:"searchOption.q_finish_time_begin"}}),e._v(" -\n        "),i("DatePicker",{staticStyle:{width:"120px",display:"inline-block"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"终止日期"},model:{value:e.searchOption.q_finish_time_end,callback:function(t){e.$set(e.searchOption,"q_finish_time_end",t)},expression:"searchOption.q_finish_time_end"}})],1),e._v(" "),i("Form-item",{staticClass:"date-time-box date-range",attrs:{label:"开单时间"}},[i("DatePicker",{staticStyle:{width:"120px",display:"inline-block"},attrs:{format:"yyyy-MM-dd",type:"date",placeholder:"起始日期"},model:{value:e.searchOption.q_create_time_begin,callback:function(t){e.$set(e.searchOption,"q_create_time_begin",t)},expression:"searchOption.q_create_time_begin"}}),e._v(" -\n        "),i("DatePicker",{staticStyle:{width:"120px",display:"inline-block"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"终止日期"},model:{value:e.searchOption.q_create_time_end,callback:function(t){e.$set(e.searchOption,"q_create_time_end",t)},expression:"searchOption.q_create_time_end"}})],1),e._v(" "),i("Form-item",{attrs:{label:""}},[i("Button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("查询")]),e._v(" "),i("Button",{attrs:{type:"warning"},on:{click:e.reset}},[e._v("重置")]),e._v(" "),i("Button",{attrs:{type:"success"},on:{click:e.excel}},[e._v("导出")])],1)],1)],1),e._v(" "),i("div",{staticClass:"contain-main",staticStyle:{"padding-top":"15px"}},[i("i-table",{attrs:{stripe:"",columns:e.columns,data:e.tableParams.list}}),e._v(" "),i("div",{staticClass:"page-wrapper clearfix"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.tableParams.total,expression:"tableParams.total"}],staticClass:"fl"},[i("label",[e._v("总重量：\n          "),i("span",[e._v(e._s(e.responeData.total_weights))]),e._v(" 吨")]),e._v("   \n        "),i("label",[e._v("总体积：\n          "),i("span",[e._v(e._s(e.responeData.total_volumes))]),e._v(" 方")]),e._v("   \n        "),i("label",[e._v("总运费：\n          "),i("span",[e._v(e._s(e.responeData.total_fee))]),e._v(" 元")]),e._v("   \n        "),i("label",[e._v("总件数：\n          "),i("span",[e._v(e._s(e.responeData.total_count))])])]),e._v(" "),i("Page",{attrs:{total:e.tableParams.total,"show-sizer":"","show-total":"","show-elevator":"",current:e.currentPage},on:{"on-change":e.onPageChange,"on-page-size-change":e.onPageSizeChange}})],1)],1)])},staticRenderFns:[]}}});
//# sourceMappingURL=45.657c995b681faf0ce96a.js.map